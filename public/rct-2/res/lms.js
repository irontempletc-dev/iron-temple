(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var m,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function ba(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var ca=ba(this);
function da(a,b){if(b)a:{var d=ca;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];if(!(f in d))break a;d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&aa(d,a,{configurable:!0,writable:!0,value:b})}}function ea(a,b){a instanceof String&&(a+="");var d=0,e=!1,f={next:function(){if(!e&&d<a.length){var g=d++;return{value:b(g,a[g]),done:!1}}e=!0;return{done:!0,value:void 0}}};f[Symbol.iterator]=function(){return f};return f}
da("Array.prototype.values",function(a){return a?a:function(){return ea(this,function(b,d){return d})}});da("Object.entries",function(a){return a?a:function(b){var d=[],e;for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&d.push([e,b[e]]);return d}});
da("Object.fromEntries",function(a){return a?a:function(b){var d={};if(!(Symbol.iterator in b))throw new TypeError(""+b+" is not iterable");b=b[Symbol.iterator].call(b);for(var e=b.next();!e.done;e=b.next()){e=e.value;if(Object(e)!==e)throw new TypeError("iterable for fromEntries should yield objects");d[e[0]]=e[1]}return d}});var p=this||self;
function r(a,b,d){a=a.split(".");d=d||p;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=b}function fa(a){var b=typeof a;b="object"!=b?b:a?Array.isArray(a)?"array":b:"null";return"array"==b||"object"==b&&"number"==typeof a.length}function t(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ha="closure_uid_"+(1E9*Math.random()>>>0),ia=0;
function ja(a,b,d){return a.call.apply(a.bind,arguments)}function ka(a,b,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}}function la(a,b,d){la=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return la.apply(null,arguments)}
function u(a,b){function d(){}d.prototype=b.prototype;a.Ze=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.mi=function(e,f,g){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[f].apply(e,h)}};function ma(a){if(p.Ag)return p.Ag(a);try{const b=new XMLHttpRequest;b.open("get",a,!1);b.send();return 0==b.status||200==b.status?b.responseText:null}catch(b){return null}}function na(a){return a&&a.includes("file:///")?a.substr(8):a}p.zg||(p.zg=function(a,b){a=na(a);b?eval(b):(b=ma(a),eval(b));return!0});function oa(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,oa);else{const d=Error().stack;d&&(this.stack=d)}a&&(this.message=String(a));void 0!==b&&(this.cause=b)}u(oa,Error);oa.prototype.name="CustomError";var pa;function qa(a,b){a=a.split("%s");let d="";const e=a.length-1;for(let f=0;f<e;f++)d+=a[f]+(f<b.length?b[f]:"%s");oa.call(this,d+a[e])}u(qa,oa);qa.prototype.name="AssertionError";function ta(a){throw a;}function ua(a,b){ta(new qa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};function va(a){for(var b=[],d=0;d<a.length;d+=2)b.push(parseInt(a.substring(d,d+2),16));return b}function wa(a,b){for(var d=[],e=0;e<a.length;e++)d.push(a[e]^b[e]);return d};function xa(a){this.tc=a;this.T=this.tc.length/4;this.nb=this.T+6;this.fa=[[],[],[],[]];this.Nb=[[],[],[],[]];this.R=Array(ya*(this.nb+1));for(a=0;a<this.T;a++)this.R[a]=[this.tc[4*a],this.tc[4*a+1],this.tc[4*a+2],this.tc[4*a+3]];var b=Array(4);for(a=this.T;a<ya*(this.nb+1);a++){b[0]=this.R[a-1][0];b[1]=this.R[a-1][1];b[2]=this.R[a-1][2];b[3]=this.R[a-1][3];if(0==a%this.T){var d=b,e=d[0];d[0]=d[1];d[1]=d[2];d[2]=d[3];d[3]=e;za(b);b[0]^=Aa[a/this.T][0];b[1]^=Aa[a/this.T][1];b[2]^=Aa[a/this.T][2];b[3]^=
Aa[a/this.T][3]}else 6<this.T&&4==a%this.T&&za(b);this.R[a]=Array(4);this.R[a][0]=this.R[a-this.T][0]^b[0];this.R[a][1]=this.R[a-this.T][1]^b[1];this.R[a][2]=this.R[a-this.T][2]^b[2];this.R[a][3]=this.R[a-this.T][3]^b[3]}}xa.prototype.Ob=16;var ya=xa.prototype.Ob/4;
xa.prototype.encrypt=function(a){Ba(this,a);Ca(this,0);for(a=1;a<this.nb;++a){Da(this,Ea);Fa(this);for(var b=this.fa,d=this.Nb[0],e=0;4>e;e++)d[0]=b[0][e],d[1]=b[1][e],d[2]=b[2][e],d[3]=b[3][e],b[0][e]=Ga[d[0]]^Ha[d[1]]^d[2]^d[3],b[1][e]=d[0]^Ga[d[1]]^Ha[d[2]]^d[3],b[2][e]=d[0]^d[1]^Ga[d[2]]^Ha[d[3]],b[3][e]=Ha[d[0]]^d[1]^d[2]^Ga[d[3]];Ca(this,a)}Da(this,Ea);Fa(this);Ca(this,this.nb);return Ia(this)};
xa.prototype.decrypt=function(a){Ba(this,a);Ca(this,this.nb);for(a=1;a<this.nb;++a){Ja(this);Da(this,Ka);Ca(this,this.nb-a);for(var b=this.fa,d=this.Nb[0],e=0;4>e;e++)d[0]=b[0][e],d[1]=b[1][e],d[2]=b[2][e],d[3]=b[3][e],b[0][e]=La[d[0]]^Ma[d[1]]^Na[d[2]]^Oa[d[3]],b[1][e]=Oa[d[0]]^La[d[1]]^Ma[d[2]]^Na[d[3]],b[2][e]=Na[d[0]]^Oa[d[1]]^La[d[2]]^Ma[d[3]],b[3][e]=Ma[d[0]]^Na[d[1]]^Oa[d[2]]^La[d[3]]}Ja(this);Da(this,Ka);Ca(this,0);return Ia(this)};
function Ba(a,b){for(var d,e=0;e<ya;e++)for(var f=0;4>f;f++)d=4*f+e,d=b[d],a.fa[e][f]=d}function Ia(a){for(var b=[],d=0;d<ya;d++)for(var e=0;4>e;e++)b[4*e+d]=a.fa[d][e];return b}function Ca(a,b){for(var d=0;4>d;d++)for(var e=0;4>e;e++)a.fa[d][e]^=a.R[4*b+e][d]}function Da(a,b){for(var d=0;4>d;d++)for(var e=0;4>e;e++)a.fa[d][e]=b[a.fa[d][e]]}function Fa(a){for(var b=1;4>b;b++)for(var d=0;4>d;d++)a.Nb[b][d]=a.fa[b][d];for(b=1;4>b;b++)for(d=0;4>d;d++)a.fa[b][d]=a.Nb[b][(d+b)%ya]}
function Ja(a){for(var b=1;4>b;b++)for(var d=0;4>d;d++)a.Nb[b][(d+b)%ya]=a.fa[b][d];for(b=1;4>b;b++)for(d=0;4>d;d++)a.fa[b][d]=a.Nb[b][d]}function za(a){a[0]=Ea[a[0]];a[1]=Ea[a[1]];a[2]=Ea[a[2]];a[3]=Ea[a[3]]}
var Ea=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,
61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Ka=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,
255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,
26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Aa=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Ga=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,
32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,
37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Ha=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,
126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,
239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Oa=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,
206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,
210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Ma=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,
80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,
113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Na=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,
169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,
174,163,128,141,154,151],La=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,
119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];const v=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let d=0;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},Pa=Array.prototype.forEach?function(a,b){Array.prototype.forEach.call(a,b,void 0)}:function(a,b){const d=a.length,e="string"===typeof a?a.split(""):a;for(let f=0;f<d;f++)f in e&&b.call(void 0,e[f],f,a)},Qa=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,
b,void 0)}:function(a,b){const d=a.length,e=[];let f=0;const g="string"===typeof a?a.split(""):a;for(let h=0;h<d;h++)if(h in g){const k=g[h];b.call(void 0,k,h,a)&&(e[f++]=k)}return e},Ra=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){const d=a.length,e=Array(d),f="string"===typeof a?a.split(""):a;for(let g=0;g<d;g++)g in f&&(e[g]=b.call(void 0,f[g],g,a));return e};
function Sa(a,b){a:{const d=a.length,e="string"===typeof a?a.split(""):a;for(let f=0;f<d;f++)if(f in e&&b.call(void 0,e[f],f,a)){b=f;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Ta(a,b){b=v(a,b);let d;(d=0<=b)&&Ua(a,b);return d}function Ua(a,b){Array.prototype.splice.call(a,b,1)}function Va(a){const b=a.length;if(0<b){const d=Array(b);for(let e=0;e<b;e++)d[e]=a[e];return d}return[]}
function Wa(a,b){for(let d=1;d<arguments.length;d++){const e=arguments[d];if(fa(e)){const f=a.length||0,g=e.length||0;a.length=f+g;for(let h=0;h<g;h++)a[f+h]=e[h]}else a.push(e)}}function Xa(a,b,d,e){Array.prototype.splice.apply(a,Ya(arguments,1))}function Ya(a,b,d){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,d)};function Za(a){this.Fb=a}Za.prototype.encrypt=function(a,b){var d=[],e=b;for(b=0;b<a.length;b+=this.Fb.Ob)e=wa(Array.prototype.slice.call(a,b,b+this.Fb.Ob),e),e=this.Fb.encrypt(e),Wa(d,e);return d};Za.prototype.decrypt=function(a,b){for(var d=[],e=0,f=b;e<a.length;){b=Array.prototype.slice.call(a,e,e+this.Fb.Ob);var g=this.Fb.decrypt(b);f=wa(f,g);Wa(d,f);f=b;e+=this.Fb.Ob}return d};var $a=va("343ebcf014a7e244ba703229647cf607"),ab=va("429ab6bc5b161fb66503db4b4b7e310b"),bb=va("410f951a7436c2bcae986399fe12d772"),cb=va("b3ee0a61544dc2e8b07cfc41277893ac");function db(a,b,d){const [e,f]=a.split(":");var g=va(f);a=parseInt(e,10);b=new xa(b);d=(new Za(b)).decrypt(g,d);d=a?d.slice(0,-a):d;a=[];for(g=b=0;b<d.length;){var h=d[b++];if(128>h)a[g++]=String.fromCharCode(h);else if(191<h&&224>h){var k=d[b++];a[g++]=String.fromCharCode((h&31)<<6|k&63)}else if(239<h&&365>h){k=d[b++];var l=d[b++],n=d[b++];h=((h&7)<<18|(k&63)<<12|(l&63)<<6|n&63)-65536;a[g++]=String.fromCharCode(55296+(h>>10));a[g++]=String.fromCharCode(56320+(h&1023))}else k=d[b++],l=d[b++],a[g++]=
String.fromCharCode((h&15)<<12|(k&63)<<6|l&63)}return a.join("")};let eb=()=>!1;function fb(a){a&&("function"===typeof a.fd&&a.fd(),a.disposed=!0)}function gb(a,b){eb()&&(b?p.console.error(a):p.console.warn(a))}function hb(a,b){const d=a.stack||a.toString();0>String(d).indexOf(a.message)&&gb(a.message,b);gb(d,b)}window.onerror=function(...a){const [b,,,,d]=a;d?hb(d,!0):gb(b,!0);return!0};ta=a=>{try{throw Error(a.message);}catch(b){hb(b,!1)}};
p.console||(window._log="",p.console={log:function(a){window._log+="\n"+a},warn:function(a){window._log+="\nwarn: "+a},error:function(a){window._log+="\nerror: "+a}});function w(a,b){this.width=a;this.height=b}m=w.prototype;m.clone=function(){return new w(this.width,this.height)};m.area=function(){return this.width*this.height};m.aspectRatio=function(){return this.width/this.height};m.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};m.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
m.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};m.scale=function(a,b){this.width*=a;this.height*="number"===typeof b?b:a;return this};var ib=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},jb=/&/g,kb=/</g,lb=/>/g,mb=/"/g,nb=/'/g,ob=/\x00/g,pb=/[\x00&<>"']/;function qb(){var a=p.navigator;return a&&(a=a.userAgent)?a:""}function x(a){return-1!=qb().indexOf(a)};function rb(a){rb[" "](a);return a}rb[" "]=function(){};var sb=x("Opera"),y=x("Trident")||x("MSIE"),tb=x("Edge"),ub=x("Gecko")&&!(-1!=qb().toLowerCase().indexOf("webkit")&&!x("Edge"))&&!(x("Trident")||x("MSIE"))&&!x("Edge"),vb=-1!=qb().toLowerCase().indexOf("webkit")&&!x("Edge");function wb(){var a=p.document;return a?a.documentMode:void 0}var A;
a:{var xb="",yb=function(){var a=qb();if(ub)return/rv:([^\);]+)(\)|;)/.exec(a);if(tb)return/Edge\/([\d\.]+)/.exec(a);if(y)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(vb)return/WebKit\/(\S+)/.exec(a);if(sb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();yb&&(xb=yb?yb[1]:"");if(y){var zb=wb();if(null!=zb&&zb>parseFloat(xb)){A=String(zb);break a}}A=xb}var Ab;if(p.document&&y){var Bb=wb();Ab=Bb?Bb:parseInt(A,10)||void 0}else Ab=void 0;var Cb=Ab;var Db=x("Firefox")||x("FxiOS"),Eb=x("iPhone")&&!x("iPod")&&!x("iPad")||x("iPod"),Fb=x("iPad");function Gb(a,b){for(const d in a)b.call(void 0,a[d],d,a)}function Hb(a,b){const d={};for(const e in a)b.call(void 0,a[e],e,a)&&(d[e]=a[e]);return d}function Ib(a){let b=0;for(const d in a)b++;return b}function Jb(a){const b=[];let d=0;for(const e in a)b[d++]=a[e];return b}function Kb(a,b){for(const d in a)if(b.call(void 0,a[d],d,a))return d}function B(a,b,d){return null!==a&&b in a?a[b]:d}const Lb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Mb(a,b){let d,e;for(let f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(let g=0;g<Lb.length;g++)d=Lb[g],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}};var Nb=/^[\w+/_-]+[=]{0,2}$/;function Ob(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)}function Pb(a){return String(a).replace(/\-([a-z])/g,function(b,d){return d.toUpperCase()})}function Qb(a){return a.replace(RegExp("(^|[\\s]+)([a-z])","g"),function(b,d,e){return d+e.toUpperCase()})};function Rb(){return Sb(window.location.search.substr(1))}function Sb(a,b){if(!a)return{};const d={};a=a.split("&");for(let g=0;g<a.length;++g){const h=a[g].split("=");if(2==h.length){try{var e=decodeURIComponent(h[0].replace(/\+/g," "))}catch(k){e=h[0]}try{var f=decodeURIComponent(h[1].replace(/\+/g," "))}catch(k){f=h[1]}b||(e=e.toLowerCase());d[e]=f}}return d};(function(){function a(b){try{return b.ISPlayer&&(window.ISPlayer=b.ISPlayer),b.ISPVideoPlayer&&(window.ISPVideoPlayer=b.ISPVideoPlayer),b.ISPQuizPlayer&&(window.ISPQuizPlayer=b.ISPQuizPlayer),b.ISPInteractionPlayerCore&&(window.ISPInteractionPlayerCore=b.ISPInteractionPlayerCore),b.ISPBookPlayer&&(window.ISPBookPlayer=b.ISPBookPlayer),b.ISPScenarioPlayer&&(window.ISPScenarioPlayer=b.ISPScenarioPlayer),b.ISPFlipPlayer&&(window.ISPFlipPlayer=b.ISPFlipPlayer),!0}catch(d){return!1}}if(function(){let b;
try{b=window.frameElement}catch(d){}return null!=b}()){let b=window,d=7;for(;b&&b.parent!=b&&0!=d--&&!a(b.parent);)b=b.parent}})();var C;const Tb=Rb().user_agent;C=Tb?Tb:qb()||"";const Ub=Fb||Eb,Vb="1"==Rb().small_screen,Wb="1"==Rb().tablet_screen;let Yb=Xb();const Zb=-1!=C.toLowerCase().indexOf("chrome"),$b=-1==C.toLowerCase().indexOf("windows phone")&&-1!=C.toLowerCase().indexOf("android")&&!Zb&&!Db&&!sb;var ac;
if(ac=!window._ispringFullsizeSkin){var bc;if(!(bc=Vb))if(window._ispringFullsizeSkin)bc=!1;else{var dc=cc();bc=(Eb||700>Math.min(dc.width,dc.height))&&!Wb}ac=bc}const ec=Yb&&(Xb()?"ontouchstart"in window||void 0!==window.DocumentTouch&&document instanceof window.DocumentTouch||-1!=C.toLowerCase().indexOf("touch"):!1),fc=ac&&y,gc=-1!=C.indexOf("ismobile");Rb();Rb();function Xb(){const a=C.toLowerCase();return-1!=a.indexOf("android")||-1!=a.indexOf("mobile")||-1!=a.indexOf("wpdesktop")||Vb||Wb}
function cc(){if(Vb)return new w(document.documentElement.clientWidth,document.documentElement.clientHeight);if(Yb&&y)return new w(screen.width,screen.height);var a=void 0!==window.devicePixelRatio?window.devicePixelRatio:1;return $b?new w(screen.width/a,screen.height/a):Yb?Ub&&(a=Math.max(screen.width,screen.height),document.documentElement.clientWidth>a)?new w(Math.max(document.documentElement.clientWidth,a),Math.max(document.documentElement.clientHeight,Math.min(screen.width,screen.height))):new w(screen.width,
screen.height):new w(screen.width*a,screen.height*a)}const hc=document.createElement("audio"),ic=hc.play&&hc.play();ic&&ic.then(()=>{hc.pause()},()=>{});function jc(){return 1==window._ispringDebug||"1"==Rb().isdebug}setTimeout(()=>{eb=jc},0);function kc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})};class lc{constructor(a){this.$d=a}C(a,b,d){d=this.$d.hasOwnProperty(a)?this.$d[a]:d;if(void 0!==d){if(void 0!==b){a=this.Pg;for(let e in b)if(b.hasOwnProperty(e)){const f=b[e];a&&(e=a(e));d=d.replace(new RegExp(e,"g"),f)}}return d}ua("unknown message id: "+a);return a}messages(){return this.$d}Pg(a){return"%"+a.toUpperCase()+"%"}}lc.prototype.getMessage=lc.prototype.C;class mc{constructor(a,b,d,e){this.Ug=a;this.ih=b;this.Eh=d;this.lg=e}login(){return this.Ug}password(){return this.ih}userName(){return this.Eh}};class nc{constructor(a,b,d,e,f){this.xf=a;this.o=new lc(b);this.jg=d;this.ig=e;this.Ba=f}i18n(){return this.o}};class oc{constructor(){this.duration=this.passed=this.awardedScore=this.maxScore=this.Ib=null}};function pc(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=!1}pc.prototype.stopPropagation=function(){};pc.prototype.preventDefault=function(){this.defaultPrevented=!0};var qc=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{p.addEventListener("test",()=>{},b),p.removeEventListener("test",()=>{},b)}catch(d){}return a}();function D(a,b){pc.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.sa=null;if(a){var d=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=
b;if(b=a.relatedTarget){if(ub){a:{try{rb(b.nodeName);var f=!0;break a}catch(g){}f=!1}f||(b=null)}}else"mouseover"==d?b=a.fromElement:"mouseout"==d&&(b=a.toElement);this.relatedTarget=b;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.offsetX=vb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=vb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==d?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:rc[a.pointerType]||"";this.state=a.state;this.sa=a;a.defaultPrevented&&D.Ze.preventDefault.call(this)}}
u(D,pc);var rc={2:"touch",3:"pen",4:"mouse"};D.prototype.stopPropagation=function(){D.Ze.stopPropagation.call(this);this.sa.stopPropagation?this.sa.stopPropagation():this.sa.cancelBubble=!0};D.prototype.preventDefault=function(){D.Ze.preventDefault.call(this);var a=this.sa;a.preventDefault?a.preventDefault():a.returnValue=!1};var sc="closure_listenable_"+(1E6*Math.random()|0);var tc=0;function uc(a,b,d,e,f){this.listener=a;this.proxy=null;this.src=b;this.type=d;this.capture=!!e;this.Me=f;this.key=++tc;this.nd=this.Ge=!1}function vc(a){a.nd=!0;a.listener=null;a.proxy=null;a.src=null;a.Me=null};function wc(a){this.src=a;this.ta={};this.vd=0}wc.prototype.add=function(a,b,d,e,f){var g=a.toString();a=this.ta[g];a||(a=this.ta[g]=[],this.vd++);var h=xc(a,b,e,f);-1<h?(b=a[h],d||(b.Ge=!1)):(b=new uc(b,this.src,g,!!e,f),b.Ge=d,a.push(b));return b};wc.prototype.remove=function(a,b,d,e){a=a.toString();if(!(a in this.ta))return!1;var f=this.ta[a];b=xc(f,b,d,e);return-1<b?(vc(f[b]),Ua(f,b),0==f.length&&(delete this.ta[a],this.vd--),!0):!1};
function yc(a,b){var d=b.type;if(!(d in a.ta))return!1;var e=Ta(a.ta[d],b);e&&(vc(b),0==a.ta[d].length&&(delete a.ta[d],a.vd--));return e}wc.prototype.Lh=function(a,b,d,e){a=this.ta[a.toString()];var f=-1;a&&(f=xc(a,b,d,e));return-1<f?a[f]:null};function xc(a,b,d,e){for(var f=0;f<a.length;++f){var g=a[f];if(!g.nd&&g.listener==b&&g.capture==!!d&&g.Me==e)return f}return-1};var zc="closure_lm_"+(1E6*Math.random()|0),Ac={},Bc=0;function E(a,b,d,e,f){if(e&&e.once)return Cc(a,b,d,e,f);if(Array.isArray(b)){for(var g=0;g<b.length;g++)E(a,b[g],d,e,f);return null}d=Dc(d);return a&&a[sc]?a.Ie.add(String(b),d,!1,t(e)?!!e.capture:!!e,f):Ec(a,b,d,!1,e,f)}
function Ec(a,b,d,e,f,g){if(!b)throw Error("Invalid event type");var h=t(f)?!!f.capture:!!f,k=Fc(a);k||(a[zc]=k=new wc(a));d=k.add(b,d,e,h,g);if(d.proxy)return d;e=Gc();d.proxy=e;e.src=a;e.listener=d;if(a.addEventListener)qc||(f=h),void 0===f&&(f=!1),a.addEventListener(b.toString(),e,f);else if(a.attachEvent)a.attachEvent(Hc(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");Bc++;return d}
function Gc(){function a(d){return b.call(a.src,a.listener,d)}const b=Ic;return a}function Cc(a,b,d,e,f){if(Array.isArray(b)){for(var g=0;g<b.length;g++)Cc(a,b[g],d,e,f);return null}d=Dc(d);return a&&a[sc]?a.Ie.add(String(b),d,!0,t(e)?!!e.capture:!!e,f):Ec(a,b,d,!0,e,f)}function F(a,b,d,e,f){if(Array.isArray(b))for(var g=0;g<b.length;g++)F(a,b[g],d,e,f);else e=t(e)?!!e.capture:!!e,d=Dc(d),a&&a[sc]?a.Ie.remove(String(b),d,e,f):a&&(a=Fc(a))&&(b=a.Lh(b,d,e,f))&&Jc(b)}
function Jc(a){if("number"===typeof a||!a||a.nd)return!1;var b=a.src;if(b&&b[sc])return yc(b.Ie,a);var d=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(d,e,a.capture):b.detachEvent?b.detachEvent(Hc(d),e):b.addListener&&b.removeListener&&b.removeListener(e);Bc--;(d=Fc(b))?(yc(d,a),0==d.vd&&(d.src=null,b[zc]=null)):vc(a);return!0}function Hc(a){return a in Ac?Ac[a]:Ac[a]="on"+a}
function Ic(a,b){if(a.nd)a=!0;else{b=new D(b,this);var d=a.listener,e=a.Me||a.src;a.Ge&&Jc(a);a=d.call(e,b)}return a}function Fc(a){a=a[zc];return a instanceof wc?a:null}var Kc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Dc(a){if("function"===typeof a)return a;a[Kc]||(a[Kc]=function(b){return a.handleEvent(b)});return a[Kc]};let Lc=0;function Mc(a,b){if(a.da&&a.da[b]){var {He:d,Gb:e,context:f,priority:g}=a.da[b];d.removeHandler(e,f,g);delete a.da[b]}else ua("unknown handler key")}function Nc(a){return void 0!==a.displayObject?a.displayObject():a}function G(a,b,d,e,f=null,g=!1){a.L=a.L||[];if(Array.isArray(d)){const h=[];for(const k of d)d=E(Nc(b),k,e,g,f),h.push(d);a.L.push(h)}else b=E(Nc(b),d,e,g,f),a.L.push(b)}
function Oc(a,b){if(Array.isArray(b)){let d=!1;for(const e of b)d=Oc(a,e)||d;return d}Ta(a.L,b);return Jc(b)}function H(a,b,d,e,f){a.da=a.da||{};b.addHandler(d,e,f);const g=++Lc;a.da[g]={He:b,Gb:d,context:e,priority:f};return g}function Pc(a,b,d,e,f){const g=Kb(a.da,h=>{a:{var k={He:b,Gb:d,context:e,priority:f};for(const l in h)if(!(l in k)||h[l]!==k[l]){h=!1;break a}for(const l in k)if(!(l in h)){h=!1;break a}h=!0}return h});g&&Mc(a,g)}
function Qc(a,b,d){const e=(...f)=>{d.apply(void 0,f);Pc(a,b,e)};H(a,b,e)}function Rc(a,b){if(b){if(a.da){var d=Hb(a.da,e=>e.He.Vf==b);for(const e of Object.keys(d))Mc(a,e)}if(a.L){const e=Nc(b);d=Qa(a.L,f=>f.src==e);for(const f of d)Oc(a,f)}}}function I(a,b){a.Ka=a.Ka||[];a.Ka.push(b);return b}function Sc(a,...b){if(a.Ka)for(const d of b)d&&(a.Dc(d),b=v(a.Ka,d),0<=b&&(a.Ka.splice(b,1),fb(d)))}
class Tc{constructor(){this.Ka=this.da=this.L=null}fd(){this.pb();if(this.Ka)for(const a of this.Ka)fb(a);if(this.L){for(const a of this.L)if(Array.isArray(a))for(const b of a)Jc(b);else Jc(a);this.L=null}if(this.da)for(const a of Object.keys(this.da))Mc(this,a)}Dc(a){Rc(this,a)}pb(){}};function Uc(a,b){return 0==b?a.Db:a.kb[b]}function Vc(a,b){return 0==b?a.Db||[]:b in a.kb?Uc(a,b):[]}function Wc(a){if(!a.kb)return a.Db?a.Db.slice():[];const b=[],d=a.Rc;for(let e=0;e<d.length;++e){const f=Uc(a,d[e]);f&&Wa(b,f)}return b}
class Xc{constructor(){this.Db=this.kb=this.Rc=null}push(a,b){if(0==b)this.Db=this.Db||[];else if(this.Rc=this.Rc||[0],this.kb=this.kb||{},!(b in this.kb)){this.kb[b]=[];var d=this.Rc;var e=0;let g=d.length,h;for(;e<g;){const k=e+(g-e>>>1);var f=void 0;f=d[k];f=b>f?1:b<f?-1:0;0<f?e=k+1:(g=k,h=!f)}e=h?e:-e-1;0>e&&Xa(d,-(e+1),0,b)}Uc(this,b).push(a)}remove(a,b){(b=Uc(this,b))&&Ta(b,a)}};function Yc(a){return a.Y?Wc(a.Y).length:0}
class J extends Tc{constructor(a=null){super();this.Wf=this.Y=null;this.Vf=a}Kh(){return this.Vf}addHandler(a,b,d){this.Y=this.Y||new Xc;this.Y.push({Gb:a,context:b},d||0)}removeHandler(a,b,d){d=d||0;if(this.Y){var e=Vc(this.Y,d),f=e.length;for(let g=0;g<f;++g){const h=e[g];if(h.Gb==a&&h.context==b){(a=Uc(this.Y,d))&&Ua(a,g);break}}}else ua("EventDispatcher has no handlers!")}Oh(a,b,d){if(!this.Y)return!1;d=Vc(this.Y,d||0);const e=d.length;for(let f=0;f<e;++f){const g=d[f];if(g.Gb==a&&g.context==
b)return!0}return!1}h(...a){if(this.Y){const b=Wc(this.Y),d=b.length;for(let e=0;e<d;++e){const f=b[e];if(-1!=v(Wc(this.Y),f))try{f.Gb.apply(f.context,arguments)}catch(g){hb(g,!0)}}}this.Wf&&this.Wf.forEach(b=>{b.h(...a)})}pb(){super.pb()}}J.prototype.dispatch=J.prototype.h;J.prototype.hasHandler=J.prototype.Oh;J.prototype.removeHandler=J.prototype.removeHandler;J.prototype.addHandler=J.prototype.addHandler;J.prototype.eventOwner=J.prototype.Kh;class Zc{constructor(){this.cg=new J}};var $c={id:"http://adlnet.gov/expapi/verbs/attempted",display:{"en-US":"attempted"}},ad={id:"http://adlnet.gov/expapi/verbs/experienced",display:{"en-US":"experienced"}},bd={id:"http://adlnet.gov/expapi/verbs/passed",display:{"en-US":"passed"}},cd={id:"http://adlnet.gov/expapi/verbs/failed",display:{"en-US":"failed"}},dd={id:"http://adlnet.gov/expapi/verbs/completed",display:{"en-US":"completed"}},ed={id:"http://adlnet.gov/expapi/verbs/answered",display:{"en-US":"answered"}},fd={id:"http://adlnet.gov/expapi/verbs/suspended",
display:{"en-US":"suspended"}},gd={id:"http://adlnet.gov/expapi/verbs/responded",display:{"en-US":"responded"}};function hd(a,b){a.S=b}function id(a,b){a.ha=b}class jd{constructor(a){this.ob=this.ia=this.Be=this.ha=null;this.Zf=0;this.fb="unanticipated";this.M=this.S=null;this.Ya="";this.qa=a}id(){return this.qa}type(){return this.G}description(){return this.Ya}result(){return this.fb}score(){return this.Zf}Mb(a){this.Zf=a}awardedScore(){return this.ob}duration(){return this.ia}Ua(a){this.ia=a}details(){return this.ha}};function K(a){a=ib(a);return a=a.replace(/[^\w-]/g,"_")}function kd(a,b){return"0123456789abcdefghijklmnopqrstuvwxyz"[((null!=b?b:1)?a:35-a)%36]};function L(a,b,d){return b.textWithEquations(a.F||!d?"Equation":"")}function ld(a,b){return b.join(a.F?",":"[,]")}function md(a,b,d){return a.F?kd(b):K(`${b}_${d}`)}
class M{constructor({Yh:a,ci:b,slideIndex:d}){this.F=a;this.mg=b;this.K=!1;this.bg=d}create(a){if(!a.submitted())return null;var b=(void 0!==this.bg?"Slide"+this.bg+"_":"")+"Q_"+a.slide().id();b=new jd(K(b));this.j(b,a);return b}j(a,b){var d=b.slide();d=L(this,d.description(),!0);a.Ya=d;b.hasBeenVisited()&&(a.Ua(b.visitDuration()),d=b.firstVisitTime(),a.Be=d);if(d=b.slide().settings().evaluation()){if(a.Mb(b.maxScore()),b=b.review()){var e=Math.max(0,b.awardedScore());a.ob=e;e="unanticipated";switch(b.status()){case "correct":e=
"correct";break;case "incorrect":case "partially":e="incorrect"}a.fb=e}}else a.fb="neutral";this.K=!!d}};class O{constructor(a,b){this.qa=a;this.Ya=b}id(){return this.qa}description(){return this.Ya}};function P(a,b){a.Rb.push(b)}class nd{constructor(){this.Rb=[]}count(){return this.Rb.length}getChoice(a){if(0>a||a>=this.count())throw Error("Index out of bounds");return this.Rb[a]}};class od{constructor(){this.xh=new nd;this.yb=new nd}sources(){return this.xh}};class qd extends M{j(a,b){super.j(a,b);a.G="matching";var d=b.contentState();b=b.slide().content();const {details:e,premises:f,responses:g,Uh:h}=this.ie(b);d=this.Pd(d.chainsStates(),f,g,h);a.M=d;this.K&&(d=[this.K?this.Qd(b.chains(),f,g,h):d],a.S=d);a.ha=e}ie(a){const b=new od,d=[],e=[];a=a.chains();for(var f of a){var g=f.object().slideObject();a=f.destination().slideObject();if(g&&0>d.indexOf(g)){d.push(g);const h=g.name();P(b.sources(),new O(K(d.indexOf(g)+"_"+h),h))}a&&0>e.indexOf(a)&&(e.push(a),
g=a.name(),P(b.yb,new O(K(e.indexOf(a)+"_"+g),g)))}f=this.F?kd(e.length,!1):`${e.length}_${"None"}`;P(b.yb,new O(f,"None"));return{details:b,premises:d,responses:e,Uh:f}}Pd(a,b,d,e){const f=[];var g=b.slice();for(const k of a){a=k.objectState().slideObject();var h=k.destinationState().slideObject();h=this.rb(a,h,b,d,e);f.push(h);g.splice(g.indexOf(a),1)}for(const k of g)g=this.rb(k,null,b,d,e),f.push(g);return this.Xb(f)}Qd(a,b,d,e){const f=[];for(const g of a){a=g.object().slideObject();const h=
g.destination().slideObject();a&&(a=this.rb(a,h,b,d,e),f.push(a))}return this.Xb(f)}Zb(a,b,d){this.F?b=kd(b,d):(a=a.name(),a=K(a),b=`${b}_${a}`);return b}rb(a,b,d,e,f){a=this.Zb(a,d.indexOf(a),!0);b=b?this.Zb(b,e.indexOf(b),!1):f;e=this.F?".":"[.]";return K(a)+e+K(b)}Xb(a){return a.join(this.F?",":"[,]")}};class rd extends M{j(a,b){super.j(a,b);a.G="long-fill-in";b=b.contentState().response();a.M=b}};class sd extends M{j(a,b){super.j(a,b);a.G=this.F?"other":"fill-in";var d=b.contentState();b=[];const e=[];for(var f of d.placeholders())b.push(f.response()),(d=f.correctAnswers())&&(this.mg?e.push(d[0]):e.push(d.join("[,]")));a.M=b.join("[,]");if(this.K){f=e;if(this.F||this.mg)f=[f.join(this.F?"[.]":"[,]")];a.S=f}}};class Q{constructor(){this.Rb=new nd}choices(){return this.Rb}};class td extends M{j(a,b){super.j(a,b);a.G="choice";const d=[],e=[],f=new Q;this.Ld(b.contentState(),f,e,d);a.M=ld(this,d);this.K&&(a.S=[ld(this,e)]);a.ha=f}Ld(a,b,d,e){a.areas().forEach((g,h)=>{const k=g.area(),l=k.label().text();h=md(this,h,l);k.correct()&&d.push(h);a.areaSelected(g)&&e.push(h);P(b.choices(),new O(h,l))});const f=a.areas().length;for(let g=f;g<f+a.freePointsCount();++g){const h=md(this,g,"Untitled_Spot");e.push(h)}}};class ud extends M{j(a,b){super.j(a,b);a.G="choice";const d=[],e=new Q;b.contentState().statementsStates().forEach((f,g)=>{var h=f.statement().text();P(e.choices(),new O(md(this,g,h),h));if(h=f.selectedScale())f=d.push,g=g+"_"+h.text(),g=K(g),f.call(d,g)});a.M=ld(this,d);a.ha=e}};class vd extends M{j(a,b){super.j(a,b);a.G="matching";var d=b.contentState();b=b.slide().content();const {details:e,premises:f,responses:g}=this.ie(b);d=this.Pd(d.matches(),f,g,this.F);a.M=d;this.K&&(d=[this.Qd(b.matches(),this.F)],a.S=d);a.ha=e}ie(a){const b=new od,d=[],e=[];var f=a.matches();for(var g=0;g<f.count();++g){var h=f.getChoice(g);d.push(h.premise());e.push(h.response());const k=L(this,h.premise().textRange(),!1);h=L(this,h.response().textRange(),!1);P(b.sources(),new O(K(g+"_"+k),k));
P(b.yb,new O(K(g+"_"+h),h))}a=a.distractors();for(f=0;f<a.count();++f)g=a.getChoice(f),e.push(g),g=L(this,g.textRange(),!1),P(b.yb,new O(K(f+"_"+g),g));return{details:b,premises:d,responses:e}}Pd(a,b,d,e){const f=[];for(const g of a){a=g.premise();const h=g.response();a=this.rb(a,v(b,a),h,v(d,h),e);f.push(a)}return this.Xb(f,e)}Qd(a,b){const d=[];for(let f=0;f<a.count();++f){var e=a.getChoice(f);e=this.rb(e.premise(),f,e.response(),f,b);d.push(e)}return this.Xb(d,b)}Zb(a,b,d,e){return d?kd(b,e):`${b}_${L(this,
a.textRange(),!1)}`}rb(a,b,d,e,f){a=this.Zb(a,b,f,!0);d=this.Zb(d,e,f,!1);f=f?".":"[.]";return K(a)+f+K(d)}Xb(a,b){return a.join(b?",":"[,]")}};class wd extends Q{constructor(){super();this.Cd=[]}};class xd extends M{j(a,b){super.j(a,b);a.G="choice";var d=b.slide();b=b.contentState();const e=d.content();d=this.Sd(d.content(),b);a.M=d;if(this.K){a:{for(d=0;d<e.count();++d){const f=e.getChoice(d);if(f.correct()){d=md(this,d,L(this,f.textRange(),!1));break a}}d=""}a.S=[d]}b=this.Yb(e,b);a.ha=b}Yb(a,b){let d=new Q;if(this.uf()){d=new wd;for(var e=0;e<b.count();++e){var f=b.getChoiceState(e);const g=f.choice(),h=a.getChoiceIndex(g);g.typeIn()&&(f=f.customAnswer(),d.Cd[h]=f)}}for(b=0;b<a.count();++b)e=
a.getChoice(b),e=L(this,e.textRange(),!1),P(d.choices(),new O(K(`${b}_${e}`),e));return d}uf(){return!this.K}Sd(a,b){for(let d=0;d<b.count();++d){const e=b.getChoiceState(d);if(e.selected())return a=a.getChoiceIndex(e.choice()),md(this,a,L(this,e.choice().textRange(),!1))}return""}};function yd(a){const b=new od;let d=0;Pa(a.placeholders(),(e,f)=>{f+="";P(b.sources(),new O(f,f));e.values.forEach(g=>{g=g.text();var h=`${d++}_${g}`;h=K(h);P(b.yb,new O(h,g))})});return b}
class zd extends M{j(a,b){super.j(a,b);a.G=this.F?"other":"matching";const d=[],e=[],f=new Q;b.contentState().placeholders().forEach((g,h)=>{const k=g.response(),l=g.correctAnswer();g.answers().forEach(n=>{var q=f.choices().count();q=`${h}[.]${K(q+"_"+n)}`;n==l&&e.push(q);n==k&&d.push(q);P(f.choices(),new O(q,n))})});a.M=d.join("[,]");this.K&&hd(a,[e.join("[,]")]);id(a,yd(b.slide().content()))}};class Ad extends M{j(a,b){super.j(a,b);a.G="choice";const d=b.slide().content();var e=this.Sd(d,b.contentState());a.M=e;this.K&&(e=[this.Md(d)],a.S=e);b=this.Yb(d,b.contentState());a.ha=b}Yb(a,b){let d=new Q;if(!this.K){d=new wd;for(var e=0;e<b.count();++e){var f=b.getChoiceState(e);const g=f.choice(),h=a.getChoiceIndex(g);g.typeIn()&&(f=f.customAnswer(),d.Cd[h]=f)}}for(b=0;b<a.count();++b)e=a.getChoice(b),e=L(this,e.textRange(),!1),P(d.choices(),new O(K(b+"_"+e),e));return d}Sd(a,b){const d=[];for(let g=
0;g<b.count();++g){var e=b.getChoiceState(g);const h=e.choice();var f=L(this,h.textRange(),!1);e.selected()&&(e=a.getChoiceIndex(h),f=md(this,e,f),d.push(f))}return ld(this,d)}Md(a){const b=[];for(let e=0;e<a.count();++e){var d=a.getChoice(e);d.correct()&&(d=md(this,e,L(this,d.textRange(),!1)),b.push(d))}return ld(this,b)}};class Bd extends M{j(a,b){super.j(a,b);var d=b.slide();b=b.contentState().response();d=d.content();var e;a:{for(e=0;e<d.count();++e)if("notEqual"==d.getAnswer(e).comparisonOperation()){e=!0;break a}e=!1}a.G=this.F||e?"fill-in":"numeric";a.M=b;if(this.K){e=(b=this.F||e)?"[,]":"[.]";const k=[];for(let l=0;l<d.count();++l){var f="",g=d.getAnswer(l),h=g.comparisonOperation();if("between"==h)h=g,f=h.leftOperand(),h=h.rightOperand(),f=b?"between "+f+" and "+h:f+"[:]"+h;else switch(g=g.operand(),h){case "notEqual":b&&
(f="not equal to "+g);break;case "equal":f=b?"equal to "+g:g+"[:]"+g;break;case "greaterThan":f=b?"greater than "+g:g+"[:]";break;case "greaterThanOrEqual":f=b?"greater than or equal to "+g:g+"[:]";break;case "lessThan":f=b?"less than "+g:"[:]"+g;break;case "lessThanOrEqual":f=b?"less than or equal to "+g:"[:]"+g}k.push(f)}a.S=[k.join(e)]}}};function Cd(a,b,d,e){const f=e?",":"[,]",g=[];d.forEach(h=>{const k=L(a,h.textRange(),!1);h=b.getChoiceIndex(h);g.push(K(e?kd(h,!0):h+"_"+k))});return g.join(f)}class Dd extends M{j(a,b){super.j(a,b);a.G="sequencing";var d=b.slide().content();b=Cd(this,d,b.contentState().studentResponse(),this.F);a.M=b;this.K&&(b=[Cd(this,d,d,this.F)],a.S=b);d=this.Yb(d);a.ha=d}Yb(a){const b=new Q;for(let d=0;d<a.count();++d){const e=a.getChoice(d).textRange().text();P(b.choices(),new O(K(d+"_"+e),e))}return b}};class Ed extends xd{j(a,b){super.j(a,b);if(this.F&&this.K){a.G="true-false";var d=b.slide().content();b=b.contentState();const e=d.getChoice(0).correct()?"t":"f",f="t"==e?"f":"t";d=d.getChoice(0).correct()?d.getChoice(0).id():d.getChoice(1).id();let g=null;for(let h=0;2>h;++h){const k=b.getChoiceState(h);if(k.selected()){g=k.choice().id()==d?e:f;break}}a.M=g;a.S=[e]}}uf(){return!1}};class Fd extends M{j(a,b){super.j(a,b);a.G="fill-in";var d=b.slide();b=b.contentState().response().text();a.M=b;this.K&&(d=this.Md(d.content()),a.S=d)}Md(a){const b=[];for(let d=0;d<a.count();++d){const e=a.getChoice(d);b.push(e.textRange().text())}return b}};class Gd{constructor(a,b){this.length=b;this.yf=[];for(let d=0;d<b;++d)this.yf[d]=a(d)}get(a){return this.yf[a]}};function Hd(a,b,d){for(const e of a){const f=e.response();null!=f&&(a=new Gd(g=>b.choices().getChoice(g),b.choices().count()),a=Sa(a,g=>ib(g.description())==f),d.push(a.id()))}}
class Id extends M{j(a,b){super.j(a,b);a.G=this.F?"other":"choice";var d=b.slide().content();const e=[],f=new Q;d=d.extraWords();for(var g of d){d=g.text();var h=f.choices().count();h=K(`${h}_${d}`);P(f.choices(),new O(h,d))}b=b.contentState().placeholders();this.K&&(g=[],this.Ld(b,f,g),a.S=[g.join("[,]")]);Hd(b,f,e);a.M=e.join("[,]");a.ha=f}Ld(a,b,d){for(const f of a){a=f.placeholder().value||"";var e=b.choices().count();e=K(`${e}_${a}`);d.push(e);P(b.choices(),new O(e,a))}}};const Jd={FillInTheBlank:sd,WordBank:Id,TypeIn:Fd,Numeric:Bd,MultipleChoice:xd,MultipleResponse:Ad,MultipleChoiceText:zd,Sequence:Dd,Matching:vd,TrueFalse:Ed,Essay:rd,Hotspot:td,LikertScale:ud,DND:qd};class Kd{constructor(a,b){this.qa="";this.Xg=a;this.Mg=b}id(){return this.qa}name(){return this.Xg}email(){return this.Mg}};class Ld{constructor(a,b){this.B=a;this.$=b}};let Md;function Nd(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}m=Nd.prototype;m.clone=function(){return new Nd(this.x,this.y)};function Od(a,b){var d=a.x-b.x;a=a.y-b.y;return d*d+a*a}m.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};m.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};m.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
m.translate=function(a,b){a instanceof Nd?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),"number"===typeof b&&(this.y+=b));return this};m.scale=function(a,b){this.x*=a;this.y*="number"===typeof b?b:a;return this};function Pd(a,b){Gb(b,function(d,e){d&&"object"==typeof d&&d.pi&&(d=d.oi());"style"==e?a.style.cssText=d:"class"==e?a.className=d:"for"==e?a.htmlFor=d:Qd.hasOwnProperty(e)?a.setAttribute(Qd[e],d):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,d):a[e]=d})}
var Qd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function R(a,b,d){var e=arguments,f=document,g=e[1],h=Rd(f,String(e[0]));g&&("string"===typeof g?h.className=g:Array.isArray(g)?h.className=g.join(" "):Pd(h,g));2<e.length&&Sd(f,h,e,2);return h}
function Sd(a,b,d,e){function f(k){k&&b.appendChild("string"===typeof k?a.createTextNode(k):k)}for(;e<d.length;e++){var g=d[e];if(!fa(g)||t(g)&&0<g.nodeType)f(g);else{a:{if(g&&"number"==typeof g.length){if(t(g)){var h="function"==typeof g.item||"string"==typeof g.item;break a}if("function"===typeof g){h="function"==typeof g.item;break a}}h=!1}Pa(h?Va(g):g,f)}}}function Rd(a,b){b=String(b);"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)}
function Td(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Ud(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Vd(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Wd(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else{for(var d;d=a.firstChild;)a.removeChild(d);a.appendChild(Vd(a).createTextNode(String(b)))}}var Xd={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Yd={IMG:" ",BR:"\n"};
function Zd(a){var b=[];$d(a,b,!0);a=b.join("");a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");a=a.replace(/ +/g," ");" "!=a&&(a=a.replace(/^\s*/,""));return a}function $d(a,b,d){if(!(a.nodeName in Xd))if(3==a.nodeType)d?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Yd)b.push(Yd[a.nodeName]);else for(a=a.firstChild;a;)$d(a,b,d),a=a.nextSibling}function ae(){this.gd=p.document||document}m=ae.prototype;
m.getElementsByTagName=function(a,b){return(b||this.gd).getElementsByTagName(String(a))};m.createElement=function(a){return Rd(this.gd,a)};m.createTextNode=function(a){return this.gd.createTextNode(String(a))};m.appendChild=function(a,b){a.appendChild(b)};m.append=function(a,b){Sd(Vd(a),a,arguments,1)};m.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
m.removeNode=Td;m.contains=Ud;m.la=Wd;function be(a,b,d){Array.isArray(d)&&(d=d.join(" "));var e="aria-"+b;""===d||void 0==d?(Md||(Md={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),d=Md,b in d?a.setAttribute(e,d[b]):a.removeAttribute(e)):a.setAttribute(e,d)}function ce(a,b){a=a.getAttribute("aria-"+b);return null==a||void 0==a?"":String(a)};function de(a,b,d,e){this.top=a;this.right=b;this.bottom=d;this.left=e}m=de.prototype;m.clone=function(){return new de(this.top,this.right,this.bottom,this.left)};m.contains=function(a){return this&&a?a instanceof de?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
m.expand=function(a,b,d,e){t(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(d),this.left-=Number(e));return this};m.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
m.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};m.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
m.translate=function(a,b){a instanceof Nd?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,"number"===typeof b&&(this.top+=b,this.bottom+=b));return this};m.scale=function(a,b){b="number"===typeof b?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function S(a,b,d){if("string"===typeof b)(b=ee(a,b))&&(a.style[b]=d);else for(var e in b){d=a;var f=b[e],g=ee(d,e);g&&(d.style[g]=f)}}var fe={};function ee(a,b){var d=fe[b];if(!d){var e=Pb(b);d=e;void 0===a.style[e]&&(e=(vb?"Webkit":ub?"Moz":y?"ms":null)+Qb(e),void 0!==a.style[e]&&(d=e));fe[b]=d}return d}function ge(a,b){var d=Vd(a);return d.defaultView&&d.defaultView.getComputedStyle&&(a=d.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}
function he(a){return new Nd(a.offsetLeft,a.offsetTop)}function ie(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function je(a){return new w(a.offsetWidth,a.offsetHeight)}function ke(a,b){var d=a.currentStyle?a.currentStyle[b]:null;if(d)if(/^\d+px?$/.test(d))a=parseInt(d,10);else{b=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=d;d=a.style.pixelLeft;a.style.left=b;a.runtimeStyle.left=e;a=+d}else a=0;return a};const le=["touchstart","mousedown"],me=["touchend","mouseup"],ne=["touchmove","mousemove"];var oe={passive:!1};function T(a){this.length=a.length||a;for(let b=0;b<this.length;b++)this[b]=a[b]||0}T.prototype.BYTES_PER_ELEMENT=4;T.prototype.set=function(a,b){b=b||0;for(let d=0;d<a.length&&b+d<this.length;d++)this[b+d]=a[d]};T.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(T.BYTES_PER_ELEMENT=4,T.prototype.BYTES_PER_ELEMENT=T.prototype.BYTES_PER_ELEMENT,T.prototype.set=T.prototype.set,T.prototype.toString=T.prototype.toString,r("Float32Array",T));function U(a){this.length=a.length||a;for(let b=0;b<this.length;b++)this[b]=a[b]||0}U.prototype.BYTES_PER_ELEMENT=8;U.prototype.set=function(a,b){b=b||0;for(let d=0;d<a.length&&b+d<this.length;d++)this[b+d]=a[d]};U.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{U.BYTES_PER_ELEMENT=8}catch(a){}U.prototype.BYTES_PER_ELEMENT=U.prototype.BYTES_PER_ELEMENT;U.prototype.set=U.prototype.set;U.prototype.toString=U.prototype.toString;r("Float64Array",U)};new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function pe(a,b){a:{var d=["transformOrigin","webkitTransformOrigin","msTransformOrigin","MozTransformOrigin","OTransformOrigin"];for(let e=0;e<d.length;++e)if(void 0!==a.style[d[e]]){d=d[e];break a}throw Error("browser doesn't support css style "+d[0]);}S(a,d,b)};function qe(a,b){if("function"!==typeof a)if(a&&"function"==typeof a.handleEvent)a=la(a.handleEvent,a);else throw Error("Invalid listener argument");2147483647<Number(b)||p.setTimeout(a,b||0)};var re={},se=null,te=ub||vb||"function"==typeof p.btoa;
function ue(a){if(te)var b=p.btoa(a);else{b=[];for(var d=0,e=0;e<a.length;e++){var f=a.charCodeAt(e);255<f&&(b[d++]=f&255,f>>=8);b[d++]=f}a=void 0;void 0===a&&(a=0);if(!se)for(se={},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++){var g=d.concat(e[f].split(""));re[f]=g;for(var h=0;h<g.length;h++){var k=g[h];void 0===se[k]&&(se[k]=h)}}a=re[a];d=Array(Math.floor(b.length/3));e=a[64]||"";for(f=g=0;g<b.length-2;g+=3){var l=b[g],
n=b[g+1];k=b[g+2];h=a[l>>2];l=a[(l&3)<<4|n>>4];n=a[(n&15)<<2|k>>6];k=a[k&63];d[f++]=""+h+l+n+k}h=0;k=e;switch(b.length-g){case 2:h=b[g+1],k=a[(h&15)<<2]||e;case 1:b=b[g],d[f]=""+a[b>>2]+a[(b&3)<<4|h>>4]+k+e}b=d.join("")}return b};function V(a,b){const d=[];ve(new we(b),a,d);return d.join("")}function we(a){this.od=a}
function ve(a,b,d){if(null==b)d.push("null");else{if("object"==typeof b){if(Array.isArray(b)){var e=b;b=e.length;d.push("[");var f="";for(var g=0;g<b;g++)d.push(f),f=e[g],ve(a,a.od?a.od.call(e,String(g),f):f,d),f=",";d.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{d.push("{");g="";for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f=b[e],"function"!=typeof f&&(d.push(g),xe(e,d),d.push(":"),ve(a,a.od?a.od.call(b,e,f):f,d),g=","));d.push("}");
return}}switch(typeof b){case "string":xe(b,d);break;case "number":d.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":d.push(String(b));break;case "function":d.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var ye={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ze=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;
function xe(a,b){b.push('"',a.replace(ze,function(d){let e=ye[d];e||(e="\\u"+(d.charCodeAt(0)|65536).toString(16).slice(1),ye[d]=e);return e}),'"')};function Ae(a){try{const b=Rd(document,"iframe");S(b,{width:"1px",height:"1px",border:"0"});b.src=a;document.body.appendChild(b);qe(()=>{Td(b)},100)}catch(b){}}class Be{constructor(a,b){this.G=a;this.Dg=b||[]}id(){return Object.prototype.hasOwnProperty.call(this,ha)&&this[ha]||(this[ha]=++ia)}rc(){if(gc){var a=this.Id(this.G,this.Dg);Ae(a)}}Id(a,b){const d=this.id();b=V(b,null);return"isplayer://"+a+"/"+d+"/"+ue(b)}}r("iSpring.ios.mobile.MobileAppCommand",Be);function Ce(a,b,d,e){d=d||0;const f=Array.prototype.slice.call(arguments,3);setTimeout(()=>{a.apply(b||null,f)},d)}function De(a){if(!a)return!1;for(;a;){if("A"==a.nodeName.toLocaleUpperCase())return!0;a=a.parentNode}return!1}function Ee(a){return a&&"VIDEO"==a.nodeName&&a.controls};class Fe{constructor(a,b,d,e,f){this.qa=a;this.Hg=b;this.Ig=d;this.ph=e;this.qh=f}id(){return this.qa}clientX(){return this.Hg}clientY(){return this.Ig}screenX(){return this.ph}screenY(){return this.qh}};class Ge{constructor(a,b){this.Vb=a;this.Ah=b}touches(){return this.Ah}scale(){return this.Vb.scale}rotation(){return this.Vb.rotation}}function He(a){const b=[];for(let d=0;d<a.length;++d){const e=a[d];b.push(new Fe(e.pointerId,e.clientX,e.clientY,e.screenX,e.screenY))}return new Ge(a[0],b)};function Ie(a){const b=a.nf;window.navigator.msPointerEnabled?(E(b,"MSPointerDown",a.Hf,!1,a),E(b,"MSPointerUp",a.Jf,!1,a),E(b,"MSPointerMove",a.If,!1,a)):(E(b,le,a.Sf,oe,a),E(b,me,a.Qf,!1,a),E(b,ne,a.Rf,oe,a))}function Je(a){const b=a.nf;window.navigator.msPointerEnabled?(F(b,"MSPointerDown",a.Hf,!1,a),F(b,"MSPointerUp",a.Jf,!1,a),F(b,"MSPointerMove",a.If,!1,a)):(F(b,le,a.Sf,oe,a),F(b,me,a.Qf,!1,a),F(b,ne,a.Rf,oe,a))}
function Ke(a){a=a.sa;if(void 0!==window.TouchEvent&&a instanceof TouchEvent){var b=[];for(let d=0;d<a.touches.length;++d){const e=a.touches[d];b.push(new Fe(e.identifier,e.clientX,e.clientY,e.screenX,e.screenY))}a=new Ge(a,b)}else b=[],b.push(new Fe(0,a.clientX,a.clientY,a.screenX,a.screenY)),a=new Ge(a,b);return a}
function Le(a,b,d){var e=0;let f=null;for(const l in a.La)if(a.La.hasOwnProperty(l)){const n=a.La[l];a:{var g=n;var h=b,k=d;if("touchEnd"==h){g=g.Xc?1:0;break a}const q=new Nd(k.touches()[0].clientX(),k.touches()[0].clientY());"touchStart"==h&&1==k.touches().length?(g.za=q,g.Xc=!0,g.ve.h(),fc||E(window,"scroll",g.qc,!1,g)):g.za&&(50>=Od(q,g.za)||g.Xc&&g.qc());g=0}g>e&&(e=g,f=n)}return f?(d.Vb.defaultPrevented?f.qc():(a=f,a.ue.h(a.za.x,a.za.y,d.Vb),b=!1,e=Date.now(),a.zf&&1E3>e-a.zf&&50>=Od(a.Tg,a.za)&&
(b=!0,a.Lg.h(a.za.x,a.za.y,d.Vb)),a.zf=b?null:e,a.Tg=a.za),!0):!1}function Me(a,b){"touch"==b.pointerType&&(0<a.Fc&&clearTimeout(a.Fc),a.Fc=setTimeout(a.Sg.bind(a),200))}
class Ne{constructor(a){this.Fc=-1;this.oc=!1;this.nf=a;this.va={};this.La={}}Sf(a){const b=a.sa;if(!this.oc||b.touches&&1==b.touches.length)this.oc=!0,a=Ke(a),Le(this,"touchStart",a)}Qf(a){if(this.oc){this.oc=!1;var b=Ke(a);if(Le(this,"touchEnd",b)){if(b=a.target)if("TEXTAREA"==b.nodeName)b=!0;else{var d=b.getAttribute("type");b="INPUT"==b.nodeName&&(!d||"text"==d||"number"==d)}else b=!1;b||De(a.target)||Ee(a.target)||a.preventDefault()}}}Rf(a){!Ee(a.target)&&this.oc&&(a=Ke(a),Le(this,"touchMove",
a))}Hf(a){var b=a.sa;this.va[b.pointerId]=b;Me(this,a);b=Jb(this.va);a=1==b.length?"touchStart":"touchMove";b=He(b);Le(this,a,b)}Jf(a){const b=a.sa;if(b.pointerId in this.va){delete this.va[b.pointerId];Me(this,a);var d=Jb(this.va);a=0<d.length?"touchMove":"touchEnd";0==d.length&&(d=[b]);d=He(d);Le(this,a,d)&&b.preventDefault()}}If(a){const b=a.sa;b.pointerId in this.va&&(this.va[b.pointerId]=b,Me(this,a),a=Jb(this.va),a=He(a),Le(this,"touchMove",a))}Sg(){this.va={};this.Fc=-1;for(const a in this.La)this.La.hasOwnProperty(a)&&
this.La[a].qc()}};class Oe{constructor(){this.Xc=!1;this.za=null;this.ue=new J;this.Lg=new J;this.ve=new J;this.te=new J}qc(){F(window,"scroll",this.qc,!1,this);this.Xc=!1;this.te.h()}};function Pe(a,b,d,e,f,g){if(6==arguments.length)this.setTransform(a,b,d,e,f,g);else{if(0!=arguments.length)throw Error("Insufficient matrix parameters");this.U=this.X=1;this.W=this.V=this.ba=this.ca=0}}m=Pe.prototype;m.isIdentity=function(){return 1==this.U&&0==this.W&&0==this.V&&1==this.X&&0==this.ba&&0==this.ca};m.clone=function(){return new Pe(this.U,this.W,this.V,this.X,this.ba,this.ca)};
m.setTransform=function(a,b,d,e,f,g){if("number"!==typeof a||"number"!==typeof b||"number"!==typeof d||"number"!==typeof e||"number"!==typeof f||"number"!==typeof g)throw Error("Invalid transform parameters");this.U=a;this.W=b;this.V=d;this.X=e;this.ba=f;this.ca=g;return this};m.scale=function(a,b){this.U*=a;this.W*=a;this.V*=b;this.X*=b;return this};m.translate=function(a,b){this.ba+=a*this.U+b*this.V;this.ca+=a*this.W+b*this.X;return this};
m.rotate=function(a,b,d){var e=new Pe;const f=Math.cos(a);a=Math.sin(a);b=e.setTransform(f,a,-a,f,b-b*f+d*a,d-b*a-d*f);d=this.U;e=this.V;this.U=b.U*d+b.W*e;this.V=b.V*d+b.X*e;this.ba+=b.ba*d+b.ca*e;d=this.W;e=this.X;this.W=b.U*d+b.W*e;this.X=b.V*d+b.X*e;this.ca+=b.ba*d+b.ca*e;return this};m.toString=function(){return"matrix("+[this.U,this.W,this.V,this.X,this.ba,this.ca].join()+")"};
m.transform=function(a,b,d,e,f){let g=b;for(b+=2*f;g<b;){f=a[g++];const h=a[g++];d[e++]=f*this.U+h*this.V+this.ba;d[e++]=f*this.W+h*this.X+this.ca}};let Qe=null;
function Re(){if(Qe)return Qe;let a=null;const b=R("DIV"),d=[["transform",Se,{transform:"transform",transformOrigin:"transformOrigin"}],["webkitTransform",Se,{transform:"webkitTransform",transformOrigin:"webkitTransformOrigin"}],["msTransform",Se,{transform:"msTransform",transformOrigin:"msTransformOrigin"}],["MozTransform",Te,{transform:"MozTransform",transformOrigin:"MozTransformOrigin"}],["OTransform",Se,{transform:"OTransform",transformOrigin:"OTransformOrigin"}]];for(let e=0;e<d.length;++e)if(void 0!==b.style[d[e][0]]){a=
new d[e][1](d[e][2]);break}if(!a)throw Error("browser doesn't support css matrix transformation");return Qe=a}
class Se{constructor(a){this.Sc=a}Ke(a){return`matrix(${a.U.toFixed(5)},${a.W.toFixed(5)},${a.V.toFixed(5)},${a.X.toFixed(5)},${a.ba.toFixed(5)},${a.ca.toFixed(5)})`}getTransform(a){a="none"!=ge(a,"display")?ge(a,this.Sc.transform):a.style[this.Sc.transform];if(0==a.lastIndexOf("matrix(",0))a:{const b=[];for(let d=0;6>d;++d){const e=a.match(/^.*?(-?\d+(?:\.\d+)?(e-?\d+)?)/);if(!e){a=null;break a}b[d]=parseFloat(e[1]);a=a.substr(e[0].length)}a=b}else a=null;return a?new Pe(a[0],a[1],a[2],a[3],a[4],
a[5]):null}}class Te extends Se{Ke(a){return`matrix(${a.U.toFixed(5)},${a.W.toFixed(5)},${a.V.toFixed(5)},${a.X.toFixed(5)},${a.ba.toFixed(5)}px,${a.ca.toFixed(5)}px)`}};const Ue=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||setTimeout;function Ve(a){return"string"==typeof a.className?a.className:a.getAttribute&&a.getAttribute("class")||""}function We(a){return a.classList?a.classList:Ve(a).match(/\S+/g)||[]}function Xe(a,b){"string"==typeof a.className?a.className=b:a.setAttribute&&a.setAttribute("class",b)}function Ye(a,b){a.classList?b=a.classList.contains(b):(a=We(a),b=0<=v(a,b));return b}function Ze(a,b){if(a.classList)a.classList.add(b);else if(!Ye(a,b)){var d=Ve(a);Xe(a,d+(0<d.length?" "+b:b))}}
function $e(a,b){a.classList?a.classList.remove(b):Ye(a,b)&&Xe(a,Array.prototype.filter.call(We(a),function(d){return d!=b}).join(" "))};function af(a){return"string"!==typeof a.className}function bf(a,b){a.className.baseVal=b}function cf(a){return af(a)?(a=a.className.baseVal,"string"===typeof a&&a.match(/\S+/g)||[]):We(a)}function df(a,b){af(a)?(a=cf(a),b=0<=v(a,b)):b=Ye(a,b);return b}function ef(a,b){if(af(a)){if(!df(a,b)){let d=a.className.baseVal;d+=0<a.className.baseVal.length?` ${b}`:b;bf(a,d)}}else Ze(a,b)}function ff(a,b){af(a)?df(a,b)&&bf(a,Qa(cf(a),d=>d!=b).join(" ")):$e(a,b)};function gf(a,b){return`${a.className()}_${b}`}function hf(a,b,d){return`${gf(a,b)}_${d}`}function jf(a,b,d){b=We(b);const e=hf(a,d,"");return Sa(b,f=>0==f.indexOf(e))}class kf{constructor(a,b){this.hf=a;this.qf=b}className(){return this.qf?`${this.hf}__${this.qf}`:this.hf}};function W(a){const b=new J(a);I(a,b);return b}class X extends Tc{};class lf extends J{constructor(a){super(a);this.$b=I(this,new J);this.Vd=I(this,new J)}addHandler(a,b,d){super.addHandler(a,b,d);this.$b.h()}removeHandler(a,b,d){super.removeHandler(a,b,d);this.Vd.h()}};let mf;const nf=[];if(window.MutationObserver){mf=new MutationObserver(b=>{b&&b.forEach(d=>{for(const e of d.removedNodes)for(const f of nf)"function"===typeof e.contains&&e.contains(f.displayObject())&&f.ka()})});const a={subtree:!0,childList:!0};Ue(()=>{mf.observe(document.body,a)})}function of(a,b){a.Ad.push(b);ef(a.g,b.className())}
function pf(a){const b=new ResizeObserver(d=>{for(const e of d)void 0!==e.target&&0<e.contentRect.width&&0<e.contentRect.height&&a.Pa.h(a)});b.observe(a.g);return b}
function qf(a,b){const d=I(a,new Ne(a.g));H(a,b.$b,()=>{1==Yc(b)&&Ie(d);G(a,a.g,"mouseover",()=>{a.enabled()&&0<Yc(a.I)&&a.Qb()});G(a,a.g,"mouseout",()=>{a.ka()})});H(a,b.Vd,()=>{0==Yc(b)&&Je(d)});const e=new Oe;H(a,e.ue,(f,g,h)=>{a.ka();a.enabled()&&a.qb(h);a.hc&&h.target==a.g&&h.preventDefault()});H(a,e.te,()=>{a.ka()});H(a,e.ve,()=>{a.enabled()&&a.Qb()});d.La.tap=e}
function rf(a){mf?nf.push(a):y?G(a,window,"DOMNodeRemoved",b=>{Ud(b.target,a.g)&&a.ka()}):G(a,a.g,"DOMNodeRemovedFromDocument",()=>{a.ka()})}function sf(a,b){I(a,b);a.ea(b)}
class Y extends X{constructor(a){let {pg:b,Fa:d,sg:e,og:f,Fe:g,ug:h,ng:k,ni:l,cf:n,ri:q,tabIndex:z,Fh:N}=a||{};super();f||(f=R(g||"DIV"));this.g=f;this.Ad=[];if(b||d)b=b||new kf(d,e),of(this,b);this.hc=void 0!==h?h:!0;this.Lc=this.Ma=this.Sa=this.Cb=this.Bb=void 0;this.hg={};this.$c=null;n&&(this.cb=pf(this));(this.rh=q)&&this.vg(!1);void 0!==z&&this.wg(z);this.I=I(this,new lf(this));qf(this,this.I);l&&H(this,this.I,()=>{});N&&rf(this);this.Pa=W(this);if(!1===k){let ra=!1;G(this,this.displayObject(),
"mousedown",()=>{ra=!0});G(this,this.displayObject(),"focusout",sa=>{sa.target==sa.currentTarget&&(ra=!1)});G(this,this.displayObject(),"focusin",sa=>{ra&&sa.target==sa.currentTarget&&Ue(()=>{this.displayObject().blur()})})}}resizeEvent(){return this.Pa}focus(){(()=>{this.g.focus()})()}getAttribute(a){return this.g.getAttribute(a)}setAttribute(a,b){(()=>{this.g.setAttribute(a,b)})()}removeAttribute(a){(()=>{this.g.removeAttribute(a)})()}wg(a){this.pe(a)}Ve(a){this.Bb=a;(()=>{this.g.style.left=a+"px"})()}We(a){this.Cb=
a;(()=>{this.g.style.top=a+"px"})()}move(a,b){this.Ve(a);this.We(b)}rd(a){this.resize(a)}Se(a){this.resize(void 0,a)}resize(a,b){this.le(a,b);void 0!==a&&(this.Sa=a);void 0!==b&&(this.Ma=b);this.width();this.height();this.Pa.h(this)}Ga(a){this.$c=a;(()=>{this.$c=null;this.g.style.display=a?"":"none"})()}ea(a){const b=this.wa(a);(()=>{this.g.appendChild(b)})()}Ce(a,b){const d=this.wa(a);this.g==d.parentNode&&this.g.childNodes[b]==d||(()=>{var e=this.g;e.insertBefore(d,e.childNodes[b]||null)})()}removeChild(a){const b=
this.wa(a);this.Ne(b)&&(()=>{this.g.removeChild(b)})()}la(a){(()=>{Wd(this.g,a)})()}qd(a){(()=>{this.g.innerHTML=a})()}Te(a){(()=>{this.g.id=a})()}mb(){return this.g.id}Re(a){Array.isArray(a)&&(a=a.join(" "));(()=>{var b=this.g;a?b.setAttribute("role",a):b.removeAttribute("role")})()}yc(a,b){(()=>{be(this.g,a,b)})()}zc(a,b){if(this.Ad.length)for(const d of this.Ad)if("string"===typeof b){const e=jf(d,this.g,a);e&&(delete this.hg[a],(()=>{ff(this.g,e)})());if(b){const f=hf(d,a,b);this.hg[a]=f;(()=>
{ef(this.g,f)})()}}else{const e=gf(d,a);(()=>{var f=this.g,g=e;b?Ze(f,g):$e(f,g)})()}else(()=>{var d=this.g;b?Ze(d,a):$e(d,a)})(),ua("component has no bemInfo")}vg(a){this.yc("selected",a)}selected(){return"true"==ce(this.g,"selected")}Ne(a){return this.wa(a).parentNode==this.displayObject()}x(){return void 0!==this.Bb?this.Bb:he(this.displayObject()).x}y(){return void 0!==this.Cb?this.Cb:he(this.displayObject()).y}width(){return void 0!==this.Sa?this.Sa:this.Od()}height(){return void 0!==this.Ma?
this.Ma:this.Nd()}enabled(){return!this.g.hasAttribute("disabled")}visible(){return"boolean"===typeof this.$c?this.$c:"none"!=this.displayObject().style.display}opacity(){if(void 0!==this.Lc)return this.Lc;var a=this.g.style;var b="";"opacity"in a?b=a.opacity:"MozOpacity"in a?b=a.MozOpacity:"filter"in a&&(a=a.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(b=String(a[1]/100));b=""==b?b:Number(b);return"number"===typeof b?b:1}displayObject(){return this.g}setScale(a,b="0 0"){(()=>{var d=this.g;var e=
a||a;e=(new Pe).setTransform(a,0,0,e,0,0);var f=Re();d.style[f.Sc.transform]=e.isIdentity()?"":f.Ke(e);pe(this.g,b)})()}setParentScale(){}contains(a){if(!a)return!1;a=this.wa(a);return Ud(this.g,a)}Dc(a){(a instanceof Node||"function"===typeof a.displayObject)&&this.removeChild(a);super.Dc(a)}wa(a){return a instanceof Node?a:a.displayObject()}Od(){const a=this.g;return a.tagName.toUpperCase()=="SVG".toString()?a.width.baseVal.value:je(a).width}Nd(){const a=this.g;return a.tagName.toUpperCase()=="SVG".toString()?
a.height.baseVal.value:je(a).height}le(a,b){(()=>{void 0!==a&&(this.g.style.width=ie(a));void 0!==b&&(this.g.style.height=ie(b))})()}qb(a){this.I.h(this,a)}Qb(){this.zc("active",!0)}ka(){this.zc("active",!1)}ef(){G(this,this.g,"keydown",this.ae,this)}ae(a){document.activeElement!=this.displayObject()||a.defaultPrevented||13!=a.keyCode&&32!=a.keyCode||(a.preventDefault(),this.qb())}pe(a){(()=>{this.setAttribute("tabindex",a+"")})()}pb(){this.cb&&this.cb.disconnect();const a=nf.indexOf(this);0<=a&&
nf.splice(a,1)}};Rd(document,"CANVAS").getContext("2d");
function tf(a){var b="\r";if(0==a.length)return"";null==b&&(b="");var d=0;let e="";const f=a.length;do{var g=uf(a,["<p>","<p "],d);if(g&&g.ld>d){d=a.substr(d,g.ld-d);var h=R("DIV");h.innerHTML=d;e+=(h.textContent||h.innerText||Zd(h))+b;d=g.ld}if(h=uf(a,["</p>","</p >"],d)){g=h.ld+h.ai.length-d;const k=a.substr(d,g);h=R("DIV");h.innerHTML=k;e+=(h.textContent||h.innerText||Zd(h))+b;d+=g}else return h=R("DIV"),h.innerHTML=a.substr(d,f-d),e+(h.textContent||h.innerText||Zd(h))}while(d<f);return e}
function uf(a,b,d){Array.isArray(b)||(b=[b]);let e=void 0,f=void 0;Pa(b,g=>{const h=a.indexOf(g,d);0<=h&&(void 0===e||h<e)&&(e=h,f=g)});return void 0!==f&&void 0!==e?new vf(f,e):null}class vf{constructor(a,b){this.ai=a;this.ld=b}};function wf(a){a=tf(a.text());pb.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(jb,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(kb,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(lb,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(mb,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(nb,"&#39;")),-1!=a.indexOf("\x00")&&(a=a.replace(ob,"&#0;")));if(!a)return"";const b=document.createElement("div");b.innerHTML=a;return b.firstChild.nodeValue}function xf(a,b){null!=a.ne&&(b.Be=new Date(a.ne),b.Ua(Date.now()-a.ne))}
class yf{constructor(a,b,d,e){this.$=a;this.nh=b;this.oh=d;this.kh=e;this.ne=void 0}create(){var a=0;const b=[];var d=this.nh,e=this.kh;const f=new jd(d.id()+"_"+a);a+=1;f.G="choice";if(d.message()){var g=d.message().text();g=tf(g);f.Ya=g;g=d.message().replies();null!=d.speech()&&0<tf(d.speech())&&(a=new jd(d.id()+"_"+a),a.G="other",d=tf(d.speech()),a.Ya=d,a.fb="neutral",xf(this,a),b.push(a))}else g=tf(d.speech()),f.Ya=g,g=d.replies();0==g.count()&&(f.G="other");d=null;let h=a=0;var k=-1;const l=
[];for(var n=0;n<g.count();n++){const q=g.getReply(n);null!=e&&q==e&&(k=n);a=Math.max(a,q.score());l.push(this.mb(n,wf(q)))}null!=e&&(d=this.mb(k,wf(e)),h=Math.max(h,e.score()));e=g;g=new Q;for(k=0;k<e.count();++k)n=wf(e.getReply(k)),P(g.choices(),new O(K(k+"_"+n),n));f.ha=g;f.M=d;f.S=l;this.$.scenario().settings().evaluationSettings().enabled()&&(f.Mb(a),f.ob=h);f.fb="neutral";xf(this,f);b.push(f);return b}mb(a,b){b=K(a+"_"+b);a=kd(a);return this.oh?a:b}};var zf=RegExp("^[+a-zA-Z0-9_.!#$%&'*\\/=?^`{|}~-]+@([a-zA-Z0-9-]+\\.)+[a-zA-Z0-9]{2,63}$");Jb({ei:"\u202a",ji:"\u202b",hi:"\u202c",fi:"\u200e",ki:"\u200f"});class Af{constructor(){this.Wb=this.me=this.Ed=this.Qa=this.ia=this.ic=this.bc=this.cc=this.lc=null}initialized(){return[this.lc,this.bc,this.cc,this.ic,this.ia,this.Qa,this.Ed,this.me,this.Wb].some(a=>null!=a)}xc(){return this.lc}Ib(){return this.cc}maxScore(){return this.bc}Pe(){return this.ic}duration(){return this.ia}Ua(a){this.ia=a}response(){return this.me}};function Bf(a,b,d,e,f){const g=a.result();!d&&e?a.pc=fd:f?a.pc=dd:null!==b?(a.pc=b?bd:cd,g.Qa=b):a.pc=ad;g.Ed=d}function Cf(a,b){a.Tb||(a.Tb={});a.Tb["ispring://view_id"]=b}class Df{constructor(a,b=null){this.qa=kc();this.pc=a;this.Zg=b;this.he=this.dc=null;this.fb=new Af;this.ye=Date.now();this.Tb=null;this.kf=[]}id(){return this.qa}Te(a){this.qa=a}result(){return this.fb}timestamp(){return this.ye}};function Ef(a){"number"===typeof a&&(a=new Date(a));return a.getUTCFullYear()+"-"+Ff(a.getUTCMonth()+1)+"-"+Ff(a.getUTCDate())+"T"+Ff(a.getUTCHours())+":"+Ff(a.getUTCMinutes())+":"+Ff(a.getUTCSeconds())+".0Z"}function Ff(a){return 10>a?"0"+a:a}let Gf=null;
function Hf(){if(!Gf){var a=Rd(document,"iframe");S(a,{width:"1px",height:"1px",border:"0"});Gf=a;document.body.appendChild(Gf)}a=Gf.contentDocument;const b=Date.now();for(;100>Date.now()-b;){a.open();for(let d=0;300>d;++d)a.write("sleep");a.close()}}function If(){let a=null;if(y&&11>parseFloat(A))try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(d){}}a||"undefined"==typeof XMLHttpRequest||(a=new XMLHttpRequest);return a}
function Jf(){if(gc)if(gc)(new Be("closeWindow")).rc();else try{$b||(window.open("","_self",""),window.close())}catch(a){}else try{if(!$b){window.pd=window;const a=Kf();a==window.top?(window.open("","_self",""),window.close()):Lf(a)}}catch(a){Lf(window.top)}}function Lf(a){if(a&&a.pd){var b=document.createElement("a");b.href="data/goodbye.html";a.pd.location.replace(b.href)}}
function Kf(){let a=window;if(a.pd)return a;let b=0;for(;a!=window.top&&100>b++;){if(a.pd)return a;a=a.parent}console.log("Unable to locate content root");return null}function Mf(){try{const a=document.getElementById("preloader");a&&a.parentNode.removeChild(a)}catch(a){}}
function Nf(a,b,d,e,f){function g(h){for(const k in h)null===h[k]&&delete h[k]}b={actor:e,verb:a.pc,object:{objectType:"Activity",id:a.Zg||b},context:{contextActivities:{grouping:{id:d},parent:{id:a.he||d}}}};0<a.kf.length&&(b.context.contextActivities.category=Ra(a.kf,h=>({id:h})));a.id()&&(b.id=a.id());f&&(b.context.registration=f);a.Tb&&(b.context.extensions=a.Tb);a.dc&&(b.object.definition=a.dc);b.timestamp=Ef(a.timestamp());a=a.result();a.initialized()&&(f=a.duration(),f={success:a.Qa,completion:a.Ed,
duration:f&&"PT"+Math.floor(f/3600)+"H"+Math.floor(f%3600/60)+"M"+Math.floor(f%60)+"S",response:a.response()},g(f),d={scaled:a.xc(),min:a.Ib(),max:a.maxScore(),raw:a.Pe()},g(d),0<Ib(d)&&(f.score=d),(a=a.Wb)&&(f.extensions=a),b.result=f);return b};const Of={$schema:"http://json-schema.org/draft-04/schema#",type:"object",definitions:{Interaction:{type:"array",items:[{type:"number"},{type:"number"}],additionalItems:!1},Grading:{type:"object",properties:{alternatives:{$ref:"#/definitions/Alternatives"}},required:["alternatives"]},Alternatives:{type:"array",items:{$ref:"#/definitions/GradingRuleSet"}},GradingRuleSet:{type:"object",properties:{slides:{$ref:"#/definitions/SlideGradingRule"},materials:{$ref:"#/definitions/MaterialGradingRule"}}},
SlideGradingRule:{type:"object",properties:{slidesToView:{type:"number",minimum:0},groupId:{type:"string"}},required:["slidesToView"]},MaterialGradingRule:{type:"object",properties:{averagePassingPercent:{type:"number",minimum:0,maximum:100},materials:{type:"array",items:{type:"number"}}},required:["materials"]}},properties:{grading:{$ref:"#/definitions/Grading"},quizzes:{type:"array",items:{$ref:"#/definitions/Interaction"}},scenarios:{type:"array",items:{$ref:"#/definitions/Interaction"}}},required:["grading",
"quizzes","scenarios"]};const Pf={$schema:"http://json-schema.org/draft-04/schema#",type:"object",definitions:{Interaction:{type:"array",items:[{type:"number"},{type:"number"}],additionalItems:!1}},properties:{slidesToView:{type:"number",minimum:0},slidesWeight:{type:"number"},quizzes:{type:"array",items:{$ref:"#/definitions/Interaction"}},scenarios:{type:"array",items:{$ref:"#/definitions/Interaction"}},totalScore:{type:"number"},passingScore:{type:"number"}},required:"slidesToView slidesWeight quizzes scenarios totalScore passingScore".split(" ")};function Qf(a){return Rf(Of,"gradingParamsScheme").validate("gradingParamsScheme",a)}function Rf(a,b){const d=new Ajv({li:!0});d.addSchema(a,b);return d};function Sf(a,b){return"1.2"!=a&&"aicc"!=a&&"cmi-5"!=a||!Qf(b)?(d,e)=>({passed:d,completed:e}):(d,e)=>({passed:e?d:null,completed:e})};class Tf{constructor(a,b,d,e,f,g){this.type=b;this.rated=a;this.passed=d;this.maxScore=void 0!==e?e:null;this.Pe=void 0!==f?f:null;this.xc=void 0!==g?g:null}Qe(){const a={};a.e=this.rated;a.p=this.passed;a.m=this.maxScore;a.r=this.Pe;a.s=this.xc;a.t=this.type;return a}};function Uf(a){return{d:a.ia,l:a.Gc,v:a.Ra,vh:a.Zc,V:a.Ab,p:a.Nc,q:Object.fromEntries(Object.entries(a.Tc).map(([b,d])=>[b,d.Qe()]))}}class Vf{constructor(a){this.Nc=null;this.ia=0;this.Gc=-1;this.Tc={};this.Zc=[];this.Ra=[];this.Ab=a}lastViewedSlide(){return this.Gc}duration(){return this.ia}Ua(a){this.ia=a}Lb(){return this.Tc}Qe(){return Uf(this)}};const Wf={ii:"prompt",di:"always",gi:"never"};r("PresentationResumeMode$$module$C_$dev$worker$base$release_9$build$flashspring$flashspring$htmlprojects$src$ispring$presenter$presentation$settings$PresentationResumeMode",Wf);r("PROMPT_TO_RESUME","prompt",Wf);r("ALWAYS_RESUME","always",Wf);r("NEVER_RESUME","never",Wf);function Xf(a,b){if(null==b?0:b[a])return b[a];throw Error(`cannot get ${a} from metadata`);}function Yf(a,b){return{quizSession:a,playerId:b}};function Zf(a){if(a.$){a.Nf(a.$);var b=[a.$];for(const d of b)d&&a.Dc(d);a.$=null}}class $f extends X{constructor(a,b){super();this.u=a;this.$=null;this.Z=W(this);b&&this.jf()&&this.u.setUserInfo(b.id,{USER_NAME:b.name,USER_EMAIL:b.email});H(this,this.u.currentSessionChangedEvent(),this.Gf,this)}jf(){return!0}Nf(){}Gf(){Zf(this);(this.$=this.u.currentSession())&&this.Of(this.$)}pb(){super.pb();Zf(this)}}
class ag extends $f{Of(a){H(this,a.sessionModeChangedEvent(),this.ce,this);a.slidePoolState().questions().forEach(b=>H(this,b.submittedEvent(),this.Lf,this));a=Yf(a,this.u.id());this.Z.h("quizStarted",a)}Rd(){var a;if(a=this.$.evaluation()){const b=a.maxScore(),d=a.awardedScore(),e=a.awardedPercent()/100;a=new Tf(!0,"quiz",a.quizPassed(),b,d,e)}else a=new Tf(!1,"quiz",!0);return a}Nf(a){a.slidePoolState().questions().forEach(b=>Pc(this,b.submittedEvent(),this.Lf,this))}Lf(a){var b=this.u.id();this.Z.h("quizQuestionSubmitted",
{questionState:a,playerId:b})}ce(a){this.Z.h("quizModeChanged",void 0);"testing"==a&&(a={sessionResult:this.Rd()},this.Z.h("quizCompleted",a))}}
class bg extends $f{jf(){return!this.u.userInfoIsLoaded()}Of(a){H(this,a.onReplySelectedEvent(),this.Kc,this);H(this,a.showTerminalSceneEvent(),this.Jc,this);this.Z.h("scenarioStarted",{scenarioSession:a});a.completed()&&this.Jc()}Kc(a){this.Z.h("scenarioReplySelected",{scenarioReplay:a})}Jc(){const a={sessionResult:this.Rd()};this.Z.h("scenarioCompleted",a)}Rd(){var a=this.$;if(a.scenario().settings().evaluationSettings().enabled()){const b=Math.max(0,a.maxScore()),d=Math.max(0,a.userScore()),e=
0<b-0?d/(b-0):1;a=new Tf(!0,"scenario",a.scenarioPassed(),b,d,e)}else a=new Tf(!1,"scenario",!0);return a}}function cg(a,b){const d=a.quizPlayer();return d?new ag(d,b):(a=a.scenarioPlayer())?new bg(a,b):null};function dg(a,b){return(a=a.A.Lb()[`${b}`])?{passed:a.passed,awardedPercent:a.xc}:null}function eg(a,b){Sc(a,a.$a);a.$a=null;a.$a=cg(a.bb,a.Dh);a.$a&&(I(a,a.$a),H(a,a.$a.Z,(d,e)=>a.ab(b,d,e)),a.$a.Gf())}
class fg extends X{constructor({Wh:a,Rh:b,Ih:d,resumeMode:e,df:f}){super();this.bb=a;this.A=b;this.Xa=d;this.lh=e;this.Dh=f;this.$a=null;this.nc=W(this);this.Z=W(this);H(this,this.bb.Pc,this.be,this);H(this,this.bb.Yf,this.Kf,this);this.Xa&&H(this,this.Xa.xe,this.Ca,this);a=this.bb.currentSlideIndex();-1!=a&&this.Kf(a)}ud(){return this.bb.ud()}Lb(){return this.A.Lb()}resumeMode(){return this.lh}be(a){(null==a?0:a.actionPrevented())||this.Ca()}Kf(a){eg(this,a);this.Ca({lastViewedSlide:a});this.nc.h(a)}ab(a,
b,d){switch(b){case "quizModeChanged":this.Ca();break;case "quizCompleted":case "scenarioCompleted":a={slideIndex:a,$h:Xf("sessionResult",d)},this.Ca({Zh:a})}this.Z.h(b,d)}Ca({lastViewedSlide:a=null,Zh:b=null}={}){if(null!=a){var d=this.A;0<=d.Ab.indexOf(a)?(d=d.Ra,0<=v(d,a)||d.push(a)):(d=d.Zc,0<=v(d,a)||d.push(a));this.A.Gc=a}b&&(this.A.Tc[`${b.slideIndex}`]=b.$h);this.Xa&&(a=gg(this.Xa),this.A.Ua(a));a=this.bb.u.persistState();this.A.Nc=a}};function hg(a,b){let d=0;a.Xd.forEach(e=>{b(e)&&d++});return d}class ig{constructor({vc:a}){this.Xd=new Set(a.materials);this.Fg=null!=a.averagePassingPercent?a.averagePassingPercent/100:null}get Vh(){return this.Xd.size}get averagePassingPercent(){return this.Fg}};class jg{constructor({Ye:a,vc:b,lb:d}){const {Jb:e,Ee:f}=kg({Ye:a,vc:b,lb:d});this.Yg=e;this.Eg=f}get Jb(){return this.Yg}get Ee(){return this.Eg}}function kg({Ye:a,vc:b,lb:d}){let e=[];for(let f=0;f<d.ud();++f)lg(f,a,d)&&e.push(f);if(b){const f=b.materials;e=e.filter(g=>!f.includes(g))}return{Jb:Math.min(a.slidesToView,e.length),Ee:e}}function lg(a,b,d){return d.A.Ab.includes(a)?b.groupId?d.bb.u.presentation().slides().getSlide(a).groupId()==b.groupId:!0:!1};class mg{constructor(a,b){this.Ud=a;this.l=b;a=this.Ud.slides;b=this.Ud.materials;this.vh=a&&0<a.slidesToView?new jg({Ye:a,vc:b,lb:this.l}):null;this.Vg=(a=this.Ud.materials)&&0<a.materials.length?new ig({vc:a}):null}get Xe(){return this.vh}get uc(){return this.Vg}};class ng{constructor(a,b){this.jh=new Map(a.quizzes);this.mh=new Map(a.scenarios);this.Qg=og(a.grading.alternatives,b)}get quizzes(){return this.jh}get scenarios(){return this.mh}get Le(){return this.Qg}}function og(a,b){return a.map(d=>new mg(d,b))};function pg(a){return new Map(a.Le.map(b=>{var d;const {quizzes:e,scenarios:f}=qg(b,a),g=sg(e,f),h=!!g.length;let k,l;var n=null==(d=b.uc)?void 0:d.averagePassingPercent;d={maxScore:h?100:null,passingScore:h&&null!=n?100*n:null,slidesToView:null!=(l=null==(k=b.Xe)?void 0:k.Jb)?l:null,jd:h,tg:!1,quizzes:e,scenarios:f,hd:g};return[b,d]}))}
function qg(a,b){const d=e=>{e=Array.from(e).filter(([f])=>{let g;return null==(g=a.uc)?void 0:g.Xd.has(f)});return new Map(e)};return{quizzes:d(b.quizzes),scenarios:d(b.scenarios)}}function sg(a,b){return[...a,...b].filter(([,d])=>d).map(([d])=>d)};function tg(a){if(a.length)return[...a].sort((b,d)=>ug(vg[`${b.passed}`][`${b.completed}`],vg[`${d.passed}`][`${d.completed}`])||ug(b.progress,d.progress)||ug(b.awardedPercent,d.awardedPercent))[0];throw Error("cannot get priority grade");}const vg={"true":{"true":9,"false":6,"null":2},"false":{"true":7,"false":5,"null":1},"null":{"true":8,"false":4,"null":3}};function ug(a,b){return(null!=b?b:-1)-(null!=a?a:-1)};function wg(a,b){let d=0;var e=0;b&&(e=b.Ee.filter(f=>a.l.A.Ra.includes(f)),d=b.Jb,e=Math.min(e.length,d));return{Jb:d,bi:e}}function xg(a,b){let d=0,e=0;b&&(d=b.Vh,e=hg(b,f=>!!dg(a.l,f)));return{Th:d,Hh:e}}function yg(a,b){return Bg(a,b)?b.every(d=>{let e;return null==(e=dg(a.l,d))?void 0:e.passed}):null}function Bg(a,b){return b.every(d=>!!dg(a.l,d))}function Cg(a,b){return b.reduce((d,e)=>{(e=dg(a.l,e))&&(d+=e.awardedPercent);return d},0)/b.length}
class Dg extends X{constructor({Nh:a,lb:b}){super();this.Rg=a;this.l=b;this.Td=pg(a);this.Ub=null;this.Ja=W(this);H(this,this.l.nc,this.jb,this);H(this,this.l.Z,this.ab,this);this.jb()}courseGrade(){return this.Ub}courseGradeChangedEvent(){return this.Ja}ab(a){"quizCompleted"!=a&&"scenarioCompleted"!=a||this.jb()}jb(){const a=this.Rg.Le.map(b=>{const d=this.Td.get(b),e=this.Hd(b),f=this.Cc(b),g=null!=f?f*d.maxScore:null,h=d.passingScore;b=this.Gd(b);return{progress:e,awardedPercent:f,awardedScore:g,
passingScore:h,passed:b,completed:1==e,context:d}});this.Ub=tg(a);this.Ja.h()}Hd(a){if(a.Xe||a.uc){const {Jb:b,bi:d}=wg(this,a.Xe),{Th:e,Hh:f}=xg(this,a.uc);return(d+f)/(b+e)}return 1}Gd(a){var b=this.Td.get(a).hd;if(b.length){var d;a=null==(d=a.uc)?void 0:d.averagePassingPercent;null!=a?(d=a,b=Cg(this,b)<d?Bg(this,b)?!1:null:!0):b=yg(this,b);return b}return null}Cc(a){a=this.Td.get(a).hd;return a.length?Cg(this,a):null}};class Eg extends X{constructor(a){super();this.Ja=W(this);this.tf=!1;Qc(this,a.nc,()=>{this.tf=!0;this.Ja.h()})}courseGrade(){return this.tf?Fg({progress:1,completed:!0}):Fg({progress:0,completed:!1})}courseGradeChangedEvent(){return this.Ja}}function Fg({progress:a,completed:b}){return{progress:a,awardedPercent:null,awardedScore:null,passingScore:null,passed:null,completed:b,context:{maxScore:null,passingScore:null,slidesToView:null,jd:!1,tg:!1,quizzes:new Map,scenarios:new Map,hd:[]}}};function Gg(a){let b=0;for(let d=0;d<a.length;++d)b+=a[d];return b};function Hg(a){return 0<a.wb||0<a.Fd}class Ig{constructor(a,b,d,e,f,g){this.Fd=0;this.hh=g;this.zh=f;this.ke=new Map;this.je=new Map;this.wh=b;this.wb=a;d.forEach(([h,k])=>{this.je.set(h,k);0<k&&++this.Fd});e.forEach(([h,k])=>{this.ke.set(h,k);0<k&&++this.Fd})}slidesToView(){return this.wb}slidesWeight(){return 0<this.wb?this.wh:0}quizzes(){return new Map(this.je)}scenarios(){return new Map(this.ke)}totalScore(){return this.zh}passingScore(){return this.hh}};function Jg(a){return{maxScore:a.v.totalScore(),passingScore:a.v.passingScore(),slidesToView:a.v.slidesToView(),jd:Hg(a.v),tg:0<a.v.wb,quizzes:a.v.quizzes(),scenarios:a.v.scenarios(),hd:[...a.v.quizzes(),...a.v.scenarios()].filter(([,b])=>0<b).map(([b])=>b)}}
class Kg extends X{constructor({Mh:a,lb:b}){super();this.l=b;this.v=new Ig(a.slidesToView,a.slidesWeight,a.quizzes,a.scenarios,a.totalScore,a.passingScore);this.Ub=null;this.Ja=W(this);H(this,this.l.nc,this.jb,this);H(this,this.l.Z,this.ab,this);this.jb()}courseGrade(){return this.Ub}courseGradeChangedEvent(){return this.Ja}ab(a){"quizCompleted"!=a&&"scenarioCompleted"!=a||this.jb()}jb(){var a=this.Hd(),b=this.Cc(),d=this.ob(),e=this.v.passingScore(),f=this.Gd(),g;a:{for(g=0;g<this.l.ud();++g)if(this.l.A.Ab.includes(g)&&
!this.l.A.Ra.includes(g)||(this.v.quizzes().has(g)||this.v.scenarios().has(g))&&!this.l.Lb()[`${g}`]){g=!1;break a}g=!0}this.Ub={progress:a,awardedPercent:b,awardedScore:d,passingScore:e,passed:f,completed:g,context:Jg(this)};this.Ja.h()}Hd(){return this.l.A.Ra.length/this.l.A.Ab.length}Gd(){var a;if(Hg(this.v)){if(!(a="never"==this.l.resumeMode())){a:{const b=[...this.l.A.Ra,...this.l.A.Zc];if(0<this.v.wb&&0<b.length)a=!0;else{a=Object.entries(this.l.Lb());for(const [d,e]of a)if(e.rated&&b.includes(+d)){a=
!0;break a}a=!1}}a||(a=this.l,a=a.Xa?gg(a.Xa)>=a.Xa.Hc:!1)}a=a?this.ob()>=this.v.passingScore():null}else a=null;return a}ob(){return this.Cc()*this.v.totalScore()}Cc(){if(Hg(this.v)){var a=Object.entries(this.l.Lb());var b=0;for(const [f,g]of a){var d=void 0;a=null!=(d=g.xc)?d:1;const h=parseInt(f,10);var e=void 0;const k=null!=(e=this.v.quizzes().get(h))?e:this.v.scenarios().get(h);b+=a*k}b+=0<this.v.wb?this.l.A.Ra.length/this.l.A.Ab.length*this.v.slidesWeight():0;d=Array.from(this.v.je.values());
d=Gg(d);e=Array.from(this.v.ke.values());b/=d+Gg(e)+this.v.slidesWeight()}else b=0;return b}};class Lg extends X{constructor(a){super();this.u=a;this.Pc=W(this);this.Yf=W(this);H(this,this.u.stateChangedEvent(),b=>this.Pc.h(b));H(this,this.u.view().playbackController().slideChangeEvent(),b=>this.Yf.h(b))}ud(){return this.u.presentation().slides().count()}currentSlideIndex(){return this.u.view().playbackController().currentSlideIndex()}quizPlayer(){return this.u.view().playbackController().quizPlayer()}scenarioPlayer(){return this.u.view().playbackController().scenarioPlayer()}};class Mg extends Lg{constructor(a){super(a);this.fg=W(this);this.eg=W(this);this.lf=W(this);H(this,this.u.startupEvent(),b=>this.fg.h(b));H(this,this.u.startupCompletedEvent(),(b,d)=>this.eg.h(b,d));H(this,this.u.closeWindowEvent(),b=>this.lf.h(b))}firstSlideIndex(){return this.u.view().playbackController().firstSlideIndex()}getSlide(a){return this.u.presentation().slides().getSlide(a)}getSlidePlaybackController(a){return this.u.view().playbackController().getSlidePlaybackController(a)}startupEvent(){return this.fg}startupCompletedEvent(){return this.eg}closeWindowEvent(){return this.lf}setVolume(a){this.u.view().soundController().setVolume(a)}interactionPlayer(){return this.u.view().playbackController().interactionPlayer()}updateCurrentSlideState(){this.u.view().playbackController().updateCurrentSlideState();
this.Pc.h()}};class Ng{constructor(a,b,d,e){this.Na=e;this.uh=d;this.Kd=b;this.we=a}timeLimit(){return this.we}message(){return this.Na}};function gg(a){return a.started()?Date.now()-a.re+a.ub:a.Vc}
class Og extends X{constructor(a,b){super();this.Vc=this.pf=0;this.hb=-1;this.ub=this.re=0;this.se=!1;this.xe=W(this);this.gg=b;this.Hc=a}started(){return this.se}start(a){this.started()||(this.Vc=this.ub=a||0,a=this.ub>=this.Hc,a&&this.gg||(this.se=!0,this.re=Date.now(),a||(this.hb=setTimeout(this.ec.bind(this),this.Hc-this.ub))))}ec(){this.gg&&(this.stop(),this.Vc=this.Hc);this.xe.h()}stop(){this.started()&&(this.se=!1,0<this.hb&&(clearTimeout(this.hb),this.hb=-1),this.pf=Date.now()-this.re,this.Vc=
this.pf+this.ub)}};function Pg(a,b){a.wd&&(a.wd=!1,a.dg&&(a.zb.stop(),a.J.updateCurrentSlideState(),a.Ca()),b?a.B.suspend():a.B.terminate())}
class Qg extends X{constructor(a){super();this.mf=a;this.eb=null;this.dg=this.wd=!1;this.Ba="never"!=a.resumeMode;this.wf=!1;let b,d,e,f;this.ib=new Ng(1E3*(null!=(b=a.timeLimit)?b:3600),null!=(d=a.exitOnTimeout)?d:!1,null!=(e=a.showMessageOnTimeout)?e:!1,null!=(f=a.timeoutMessage)?f:"");this.zb=new Og(this.ib.we,this.ib.Kd);this.sf=this.J=null}start(a){if(this.wf){const b=[],d=a.presentation().slides();for(let e=0;e<d.visibleSlidesCount();++e){const f=d.getVisibleSlide(e).index();b.push(f)}this.A=
new Vf(b);this.J=new Mg(a);I(this,this.J);this.wd=!0;H(this,this.J.startupCompletedEvent(),this.fh,this);H(this,this.J.closeWindowEvent(),this.bh,this);this.Pf()}}qg(){Pg(this,this.Ba)}Pf(){}fh(a,b){this.dg=!0;"resumePlayback"==a&&this.eb&&(this.A=this.eb);a=new fg({Wh:this.J,Rh:this.A,Ih:this.zb,resumeMode:this.mf.resumeMode,df:this.rf()});var d=this.mf;var e;(e=Qf(d)?d:null)?(e=new ng(e,a),e=e.Le.length?new Dg({Nh:e,lb:a}):new Eg(a)):e=null;e||(e=(d=Rf(Pf,"legacyGradingParamsScheme").validate("legacyGradingParamsScheme",
d)?d:null)?new Kg({Mh:d,lb:a}):null);d=e;if(!d)throw Error("cannot create grading module, possibly incorrect grading settings format");this.sf=d;H(this,a.nc,this.Df,this);H(this,a.Z,this.ab,this);a=this.A.duration();this.zb.started()||(H(this,this.zb.xe,this.ec,this),this.zb.start(a));a=this.J.currentSlideIndex();a==b&&this.Df(a);H(this,this.J.Pc,this.be,this)}rf(){return null}ab(a,b){switch(a){case "quizStarted":a=Xf("quizSession",b);b=Xf("playerId",b);"normal"==this.Za&&Rg(this.B,`/quizzes/${b}`,
$c,a.quiz().title());break;case "quizModeChanged":this.ce();break;case "quizQuestionSubmitted":a=Xf("questionState",b);b=Xf("playerId",b);if(a.initiated()){const f=this.J.currentSlideIndex()+1;var d=a.slide().type(),e=this.xd;if(a=(new Jd[d]({Yh:"1.2"==e||"aicc"==e,ci:"tincan"==e,slideIndex:f})).create(a))b="/quizzes/"+b,d=b+"/questions/"+a.id(),this.B.cd(b,d,ed,a)}break;case "quizCompleted":this.Mf();break;case "scenarioStarted":a=Xf("scenarioSession",b);"normal"==this.Za&&Rg(this.B,"/scenarios/"+
a.scenario().id(),$c,a.scenario().title());break;case "scenarioReplySelected":this.Kc(null==b?void 0:b.scenarioReplay);break;case "scenarioCompleted":this.Jc()}}bh(a){this.gf(a);this.qg()}gf(){}ec(){Sg(this);this.ib.uh&&alert(this.ib.message());this.ib.Kd&&Pg(this,!1)}ce(){}Mf(){}Jc(){const a=this.J.scenarioPlayer().currentSession().currentSceneState().scene();null!=a&&(a.speech()&&0<a.speech().length||a.message()&&0<a.message().text().length)&&this.Kc();this.Bf()}Bf(){}}Qg.prototype.closeLms=Qg.prototype.qg;
Qg.prototype.start=Qg.prototype.start;function Tg(a,b){var d=new Vf(B(b,"V",[]));d.ia=B(b,"d",0);d.Gc=B(b,"l",-1);d.Ra=B(b,"v",[]);d.Zc=B(b,"vh",[]);d.Nc=B(b,"p",null);const e={};b=B(b,"q",{});for(const g in b){var f=b[g];e[g]=new Tf(f.e,f.t,f.p,f.m,f.r,f.s)}d.Tc=e;a.eb=d;d=a.eb.duration();if(a.ib.Kd&&d>=a.ib.we)alert("You have already exceeded available time for viewing this content."),Mf(),Jf();else return a.eb.Nc}
function Sg(a){const b=a.sf.courseGrade(),d=b.context;var e=a.B;e.xa=d.jd;e.D.xa=e.xa;if(d.jd&&null!=b.awardedPercent&&null!=b.awardedScore){let h;a.B.Mb(b.awardedPercent,0,null!=(h=d.maxScore)?h:0,b.awardedScore)}const {passed:f,completed:g}=a.Bh(b.passed,b.completed);a.B.Ue(f,g);a.Ca();a.B.commit()}
class Ug extends Qg{constructor(a,b){super(b);this.ac=null;this.ag=new Zc;this.xd=a;this.Za="";var d=b.tincan.auth;var e=(e=d.login)?db(e,cb,ab):e;var f=(f=d.password)?db(f,bb,$a):f;d=new mc(e,f,d.name,d.email);d=new nc("ispring://presentations/"+encodeURIComponent(b.presentationId),b.tincan.i18n,b.tincan.endPoint,d,this.Ba);try{a:{var g=this.ag;const k=window.iSpring.LMSAPI;switch(a){case "1.2":var h=new k.Scorm12Api(d);break a;case "2004":h=new k.Scorm2004Api(d);break a;case "aicc":h=new k.AiccApi(d);
break a;case "tincan":h=new k.TinCanApi(d,g);break a;case "cmi-5":h=new k.Cmi5Api(d,g);break a;default:throw Error("unknown api");}}this.B=h}catch(k){jc()&&alert(k)}this.Bh=Sf(a,b)}initialize(a){this.ac=a;null==this.B?this.Ff():this.B.initialize(this.dh.bind(this),this.Ff.bind(this))}dh(){this.Za="normal";var a=null;const b=this.B.D.Af;switch(this.Za){case "browse":a=null;break;case "review":b&&(a=Tg(this,b));break;case "normal":this.Ba&&b&&(a=Tg(this,b))}window.launchMode=this.Za;void 0!==a&&(this.wf=
!0,this.ac&&this.ac(a))}Ff(){this.ac&&this.ac()}Pf(){H(this,this.J.startupEvent(),this.eh,this);this.ag.cg.h(this.J.u.presentation().title())}eh(a){const b=(this.Ba||"review"==this.Za)&&this.eb?this.eb.lastViewedSlide():-1;0<=b?(a.setSlideIndex(b),a.setAction("resumePlayback")):(a.setSlideIndex(this.J.firstSlideIndex()),a.setAction("gotoSlide"))}Df(a){if("normal"==this.Za){var b=this.J.getSlide(a),d=this.B;b=b.title()?b.title():void 0;Vg(d.D,null,"/slides/"+a,ad,{name:d.Hb(null!=b?b:"Slide #"+(a+
1)),type:"http://adlnet.gov/expapi/activities/module"})}Sg(this)}Ca(){this.zb.started();const a=this.A.Qe();var b=this.B.D;b.gb=a;b.th.rc(!1)}Bf(){const a=this.J.scenarioPlayer().currentSession(),b=new oc;b.duration=a.duration();a.scenario().settings().evaluationSettings().enabled()&&(b.Ib=0,b.maxScore=Math.max(0,a.maxScore()),b.awardedScore=Math.max(0,a.userScore()),b.passed=a.scenarioPassed());Wg(this.B,"/scenarios/"+a.scenario().id(),ad,a.scenario().title(),b);Sg(this)}Kc(a){const b=this.J.scenarioPlayer().currentSession(),
d=b.currentSceneState().scene();null!=d&&(new yf(b,d,"1.2"==this.xd,a)).create().forEach(e=>{if("tincan"==this.xd||"choice"==e.type()){var f="/scenarios/"+b.scenario().id(),g=f+"/scenes/"+e.id();var h="choice"==e.type()?gd:ad;this.B.cd(f,g,h,e)}})}Mf(){const a=this.J.quizPlayer(),b=a.currentSession(),d=new oc;d.duration=b.quizDuration();const e=b.evaluation();e&&(d.Ib=0,d.maxScore=e.maxScore(),d.awardedScore=e.awardedScore(),d.passed=e.quizPassed(),(new Ld(this.B,b)).$.settings());Wg(this.B,"/quizzes/"+
a.id(),ad,b.quiz().title(),d);Sg(this)}gf(a){a.preventAction()}be(a){null==a||a.preventAction();this.Ca()}rf(){const a=this.B.df();return a?{id:a.id(),name:a.name(),email:a.email()}:null}}Ug.prototype.initialize=Ug.prototype.initialize;let Xg=null;r("iSpring.LMS.create",function(a,b,d){return Xg=new Ug(b,d)});r("iSpring.LMS.instance",()=>Xg);function Yg(a){this.kd=a}Yg.prototype.set=function(a,b){void 0===b?this.kd.remove(a):this.kd.set(a,V(b))};Yg.prototype.get=function(a){let b;try{b=this.kd.get(a)}catch(d){return}if(null!==b)try{return JSON.parse(b)}catch(d){throw"Storage: Invalid value was encountered";}};Yg.prototype.remove=function(a){this.kd.remove(a)};function Zg(){}Zg.prototype.next=function(){return $g};var $g={done:!0,value:void 0};function ah(a){return{value:a,done:!1}}Zg.prototype.na=function(){return this};function bh(){};function ch(a){if(a instanceof dh||a instanceof eh||a instanceof fh)return a;if("function"==typeof a.next)return new dh(()=>a);if("function"==typeof a[Symbol.iterator])return new dh(()=>a[Symbol.iterator]());if("function"==typeof a.na)return new dh(()=>a.na());throw Error("Not an iterator or iterable.");}class dh{constructor(a){this.Je=a}na(){return new eh(this.Je())}[Symbol.iterator](){return new fh(this.Je())}td(){return new fh(this.Je())}}
class eh extends Zg{constructor(a){super();this.sc=a}next(){return this.sc.next()}[Symbol.iterator](){return new fh(this.sc)}td(){return new fh(this.sc)}}class fh extends dh{constructor(a){super(()=>a);this.sc=a}next(){return this.sc.next()}};function gh(){}u(gh,bh);gh.prototype[Symbol.iterator]=function(){return ch(this.na(!0)).td()};gh.prototype.clear=function(){const a=Array.from(this);for(const b of a)this.remove(b)};function hh(a){this.ma=a}u(hh,gh);m=hh.prototype;m.Oe=function(){if(!this.ma)return!1;try{return this.ma.setItem("__sak","1"),this.ma.removeItem("__sak"),!0}catch(a){return!1}};m.set=function(a,b){try{this.ma.setItem(a,b)}catch(d){if(0==this.ma.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};m.get=function(a){a=this.ma.getItem(a);if("string"!==typeof a&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};m.remove=function(a){this.ma.removeItem(a)};
m.na=function(a){var b=0,d=this.ma,e=new Zg;e.next=function(){if(b>=d.length)return $g;var f=d.key(b++);if(a)return ah(f);f=d.getItem(f);if("string"!==typeof f)throw"Storage mechanism: Invalid value was encountered";return ah(f)};return e};m.clear=function(){this.ma.clear()};m.key=function(a){return this.ma.key(a)};function ih(){var a=null;try{a=window.localStorage||null}catch(b){}this.ma=a}u(ih,hh);class jh{constructor(a,b){this.Gh=a[p.Symbol.iterator]();this.Sh=b}[Symbol.iterator](){return this}next(){const a=this.Gh.next();return{value:a.done?void 0:this.Sh.call(void 0,a.value),done:a.done}}}function kh(a,b){return new jh(a,b)};function lh(a,b){this.ua={};this.N=[];this.Ac=this.size=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else a&&this.addAll(a)}function mh(a){nh(a);return a.N.concat()}m=lh.prototype;m.has=function(a){return oh(this.ua,a)};m.clear=function(){this.ua={};this.Ac=this.size=this.N.length=0};m.remove=function(a){return this.delete(a)};
m.delete=function(a){return oh(this.ua,a)?(delete this.ua[a],--this.size,this.Ac++,this.N.length>2*this.size&&nh(this),!0):!1};function nh(a){if(a.size!=a.N.length){for(var b=0,d=0;b<a.N.length;){var e=a.N[b];oh(a.ua,e)&&(a.N[d++]=e);b++}a.N.length=d}if(a.size!=a.N.length){var f={};for(d=b=0;b<a.N.length;)e=a.N[b],oh(f,e)||(a.N[d++]=e,f[e]=1),b++;a.N.length=d}}m.get=function(a,b){return oh(this.ua,a)?this.ua[a]:b};
m.set=function(a,b){oh(this.ua,a)||(this.size+=1,this.N.push(a),this.Ac++);this.ua[a]=b};m.addAll=function(a){if(a instanceof lh)for(var b=mh(a),d=0;d<b.length;d++)this.set(b[d],a.get(b[d]));else for(b in a)this.set(b,a[b])};m.forEach=function(a,b){for(var d=mh(this),e=0;e<d.length;e++){var f=d[e],g=this.get(f);a.call(b,g,f,this)}};m.clone=function(){return new lh(this)};m.keys=function(){return ch(this.na(!0)).td()};m.values=function(){return ch(this.na(!1)).td()};
m.entries=function(){const a=this;return kh(this.keys(),function(b){return[b,a.get(b)]})};m.na=function(a){nh(this);var b=0,d=this.Ac,e=this,f=new Zg;f.next=function(){if(d!=e.Ac)throw Error("The map has changed since the iterator was created");if(b>=e.N.length)return $g;var g=e.N[b++];return ah(a?g:e.ua[g])};return f};function oh(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function ph(a,b){this.xg=a;this.O=null;var d;if(d=y)d=!(9<=Number(Cb));if(d){qh||(qh=new lh);this.O=qh.get(a);this.O||(b?this.O=document.getElementById(b):(this.O=document.createElement("userdata"),this.O.addBehavior("#default#userData"),document.body.appendChild(this.O)),qh.set(a,this.O));try{this.O.load(this.xg)}catch(e){this.O=null}}}u(ph,gh);var rh={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},qh=null;
function sh(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(b){return rh[b]})}m=ph.prototype;m.Oe=function(){return!!this.O};m.set=function(a,b){this.O.setAttribute(sh(a),b);th(this)};m.get=function(a){a=this.O.getAttribute(sh(a));if("string"!==typeof a&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};m.remove=function(a){this.O.removeAttribute(sh(a));th(this)};
m.na=function(a){var b=0,d=this.O.XMLDocument.documentElement.attributes,e=new Zg;e.next=function(){if(b>=d.length)return $g;var f=d[b++];if(a)return ah(decodeURIComponent(f.nodeName.replace(/\./g,"%")).slice(1));f=f.nodeValue;if("string"!==typeof f)throw"Storage mechanism: Invalid value was encountered";return ah(f)};return e};m.clear=function(){for(var a=this.O.XMLDocument.documentElement,b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);th(this)};
function th(a){try{a.O.save(a.xg)}catch(b){throw"Storage mechanism: Quota exceeded";}};function uh(a,b){this.wc=a;this.Kb=b+"::"}u(uh,gh);uh.prototype.set=function(a,b){this.wc.set(this.Kb+a,b)};uh.prototype.get=function(a){return this.wc.get(this.Kb+a)};uh.prototype.remove=function(a){this.wc.remove(this.Kb+a)};uh.prototype.na=function(a){const b=this.wc[Symbol.iterator](),d=this,e=new Zg;e.next=function(){var f=b.next();if(f.done)return f;for(f=f.value;f.slice(0,d.Kb.length)!=d.Kb;){f=b.next();if(f.done)return f;f=f.value}return ah(a?f.slice(d.Kb.length):d.wc.get(f))};return e};class vh{constructor(a){this.Uc=!1;this.hb=0;this.Ec=null;this.Og=a;this.Kg=5E3}rc(a){this.Ec=Va(arguments);this.Uc||(this.Uc=!0,this.hb=setTimeout(this.ec.bind(this),this.Kg))}ec(){this.Uc=!1;this.Og.apply(null,this.Ec);this.Ec=null}cancel(){clearTimeout(this.hb);this.Uc=!1;this.Ec=null}};function wh(a){a=JSON.parse(a);return"object"==typeof a?a:null};function xh(a,b,d){function e(g){const h=[];for(let k=0;k<g.count();++k){const l=g.getChoice(k);h.push({id:l.id(),description:d(l.description())})}return h}if(a instanceof Q){var f=e(a.choices());0<f.length&&(b.choices=f)}else a instanceof od&&(f=e(a.sources()),a=e(a.yb),0<f.length&&0<a.length&&(b.source=f,b.target=a))};window.rg||(window.rg=()=>{var a=pa||(pa=new ae),b=a.gd,d=a.createElement("STYLE");a:{var e=((b?b.parentWindow||b.defaultView:window)||p).document;if(e.querySelector&&(e=e.querySelector('style[nonce],link[rel="stylesheet"][nonce]'))&&(e=e.nonce||e.getAttribute("nonce"))&&Nb.test(e))break a;e=""}e&&d.setAttribute("nonce",e);d.type="text/css";a.getElementsByTagName("HEAD")[0].appendChild(d);d.styleSheet?d.styleSheet.cssText=":focus {outline: none; }::-moz-focus-inner {border: 0; }button {cursor: pointer;margin: 0;border: 0; }.tincan {position: absolute;top: 0;left: 0; }  .tincan * {box-sizing: border-box; }  .tincan .modal_layer {z-index: 10;width: 100%;height: 100%; }  .tincan .message_box {background: #FFFFFF;border-radius: 5px;border: 1px solid rgba(0, 0, 0, 0.75);width: 420px;top: 0;right: 0;bottom: 0;left: 0;margin: auto;z-index: 10; }    .tincan .message_box,    .tincan .message_box * {position: absolute; }    .tincan .message_box::before {background-color: #D6D6D6;width: 100%;height: 1px;top: 30px;position: absolute;content: ''; }    .tincan .message_box::after {width: 35px;height: 35px;left: 24px;top: 47px;position: absolute;content: '';background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4wLjIsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9ItCh0LvQvtC5XzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMzVweCIgaGVpZ2h0PSIzNXB4IiB2aWV3Qm94PSIwIDAgMzUgMzUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDM1IDM1IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjRkZGRkZGIiBkPSJNMTcuNSwzNUMyNy4xMzgsMzUsMzUsMjcuMTQsMzUsMTcuNUMzNSw3Ljg2MiwyNy4xMzgsMCwxNy41LDANCglDNy44NjEsMCwwLDcuODYyLDAsMTcuNUMwLDI3LjE0LDcuODYxLDM1LDE3LjUsMzV6Ii8+DQo8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjE3LjQ5OTUiIHkxPSIyLjY1MDQiIHgyPSIxNy40OTk1IiB5Mj0iMzIuMzUwNCI+DQoJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZGODI1QyIvPg0KCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRjREMTIiLz4NCjwvbGluZWFyR3JhZGllbnQ+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0idXJsKCNTVkdJRF8xXykiIGQ9Ik0xNy41LDM0YzkuMDg3LDAsMTYuNS03LjQxMiwxNi41LTE2LjUNCgljMC05LjA4OC03LjQxMi0xNi41LTE2LjUtMTYuNVMxLDguNDEzLDEsMTcuNUMxLDI2LjU4OCw4LjQxMiwzNCwxNy41LDM0eiIvPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNGRkZGRkYiIGQ9Ik0xNS41LDkuMDAxYzAtMiwzLjk5OS0yLDMuOTk5LDBMMTguOTk5LDIxDQoJYy0wLjA2MSwxLjQ5OC0yLjkzNywxLjUtMywwTDE1LjUsOS4wMDF6Ii8+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZD0iTTE3LjUsMjhjMS4xMDIsMCwyLTAuODk3LDItMmMwLTEuMTAyLTAuODk3LTItMi0yDQoJYy0xLjEwMiwwLTEuOTk5LDAuODk4LTEuOTk5LDJDMTUuNSwyNy4xMDMsMTYuMzk4LDI4LDE3LjUsMjh6Ii8+DQo8L3N2Zz4NCg==); }    .tincan .message_box .title,    .tincan .message_box .message {font-family: Open Sans, Arial, sans-serif;font-size: 14px;color: #323232; }    .tincan .message_box .title {position: absolute;left: 13px;top: 7px;font-weight: bold;background: transparent; }    .tincan .message_box .message {position: relative;margin-top: 47px;margin-left: 69px;margin-right: 20px; }    .tincan .message_box .buttons_panel {width: 100%;position: relative;text-align: center;margin-top: 18px; }      .tincan .message_box .buttons_panel > div {position: relative;display: inline;margin-right: 5px;margin-left: 5px; }    .tincan .message_box button {font-size: 14px;border-radius: 5px;color: #323232;height: 30px;white-space: nowrap;position: relative;min-width: 60px;margin: 0 5px; }      .tincan .message_box button, .tincan .message_box button.mobile:hover, .tincan .message_box button.mobile:active {background: #D4D4D4; }      .tincan .message_box button:hover, .tincan .message_box button:active {background: #B8B8B8; }      .tincan .message_box button:focus {border: 1px solid #809ABC;margin: 0 4px; }  .tincan .auth_window {background: #FFFFFF;border-radius: 5px;border: 1px solid rgba(0, 0, 0, 0.75);width: 340px;top: 50%;left: 50%;margin-left: -170px;padding-left: 18px;padding-right: 19px;padding-bottom: 19px;z-index: 10; }    .tincan .auth_window,    .tincan .auth_window * {position: absolute; }    .tincan .auth_window::after {background-color: #D6D6D6;width: 100%;height: 1px;left: 0;top: 30px;position: absolute;content: ''; }    .tincan .auth_window .title,    .tincan .auth_window .message,    .tincan .auth_window .label {font-family: Open Sans, Arial, sans-serif;font-size: 14px;color: #323232; }    .tincan .auth_window .title {width: 100%;top: 7px;font-weight: bold;background: transparent; }    .tincan .auth_window .message {position: relative;width: 100%;margin-top: 49px; }    .tincan .auth_window .confirm_button_container {position: relative;margin-top: 15px;width: 100%;height: 30px; }    .tincan .auth_window .first_field,    .tincan .auth_window .second_field {position: relative;height: 30px;white-space: nowrap; }      .tincan .auth_window .first_field input,      .tincan .auth_window .second_field input {border: 1px solid #D6D6D6;border-radius: 2px;padding-left: 10px;padding-right: 10px;width: 229px;right: 0;height: 100%;font-family: Open Sans, Arial, sans-serif; }        .tincan .auth_window .first_field input.error,        .tincan .auth_window .second_field input.error {color: red; }        .tincan .auth_window .first_field input:focus,        .tincan .auth_window .second_field input:focus {border-color: #809ABC; }      .tincan .auth_window .first_field .label,      .tincan .auth_window .second_field .label {top: 6px; }    .tincan .auth_window .first_field {margin-top: 12px; }    .tincan .auth_window .second_field {margin-top: 12px; }    .tincan .auth_window button {font-size: 14px;border-radius: 5px;position: absolute;right: 0;color: #323232;min-width: 68px;white-space: nowrap;height: 100%; }      .tincan .auth_window button, .tincan .auth_window button.mobile:hover, .tincan .auth_window button.mobile:active {background: #D4D4D4; }      .tincan .auth_window button:hover, .tincan .auth_window button:active {background: #B8B8B8; }      .tincan .auth_window button:focus {border: 1px solid #809ABC; }      .tincan .auth_window button[disabled], .tincan .auth_window button[disabled]:hover, .tincan .auth_window button[disabled]:active {opacity: 0.6;background: #D4D4D4; }":
d.appendChild(b.createTextNode(":focus {outline: none; }::-moz-focus-inner {border: 0; }button {cursor: pointer;margin: 0;border: 0; }.tincan {position: absolute;top: 0;left: 0; }  .tincan * {box-sizing: border-box; }  .tincan .modal_layer {z-index: 10;width: 100%;height: 100%; }  .tincan .message_box {background: #FFFFFF;border-radius: 5px;border: 1px solid rgba(0, 0, 0, 0.75);width: 420px;top: 0;right: 0;bottom: 0;left: 0;margin: auto;z-index: 10; }    .tincan .message_box,    .tincan .message_box * {position: absolute; }    .tincan .message_box::before {background-color: #D6D6D6;width: 100%;height: 1px;top: 30px;position: absolute;content: ''; }    .tincan .message_box::after {width: 35px;height: 35px;left: 24px;top: 47px;position: absolute;content: '';background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4wLjIsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9ItCh0LvQvtC5XzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMzVweCIgaGVpZ2h0PSIzNXB4IiB2aWV3Qm94PSIwIDAgMzUgMzUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDM1IDM1IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjRkZGRkZGIiBkPSJNMTcuNSwzNUMyNy4xMzgsMzUsMzUsMjcuMTQsMzUsMTcuNUMzNSw3Ljg2MiwyNy4xMzgsMCwxNy41LDANCglDNy44NjEsMCwwLDcuODYyLDAsMTcuNUMwLDI3LjE0LDcuODYxLDM1LDE3LjUsMzV6Ii8+DQo8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjE3LjQ5OTUiIHkxPSIyLjY1MDQiIHgyPSIxNy40OTk1IiB5Mj0iMzIuMzUwNCI+DQoJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZGODI1QyIvPg0KCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRjREMTIiLz4NCjwvbGluZWFyR3JhZGllbnQ+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0idXJsKCNTVkdJRF8xXykiIGQ9Ik0xNy41LDM0YzkuMDg3LDAsMTYuNS03LjQxMiwxNi41LTE2LjUNCgljMC05LjA4OC03LjQxMi0xNi41LTE2LjUtMTYuNVMxLDguNDEzLDEsMTcuNUMxLDI2LjU4OCw4LjQxMiwzNCwxNy41LDM0eiIvPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNGRkZGRkYiIGQ9Ik0xNS41LDkuMDAxYzAtMiwzLjk5OS0yLDMuOTk5LDBMMTguOTk5LDIxDQoJYy0wLjA2MSwxLjQ5OC0yLjkzNywxLjUtMywwTDE1LjUsOS4wMDF6Ii8+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZD0iTTE3LjUsMjhjMS4xMDIsMCwyLTAuODk3LDItMmMwLTEuMTAyLTAuODk3LTItMi0yDQoJYy0xLjEwMiwwLTEuOTk5LDAuODk4LTEuOTk5LDJDMTUuNSwyNy4xMDMsMTYuMzk4LDI4LDE3LjUsMjh6Ii8+DQo8L3N2Zz4NCg==); }    .tincan .message_box .title,    .tincan .message_box .message {font-family: Open Sans, Arial, sans-serif;font-size: 14px;color: #323232; }    .tincan .message_box .title {position: absolute;left: 13px;top: 7px;font-weight: bold;background: transparent; }    .tincan .message_box .message {position: relative;margin-top: 47px;margin-left: 69px;margin-right: 20px; }    .tincan .message_box .buttons_panel {width: 100%;position: relative;text-align: center;margin-top: 18px; }      .tincan .message_box .buttons_panel > div {position: relative;display: inline;margin-right: 5px;margin-left: 5px; }    .tincan .message_box button {font-size: 14px;border-radius: 5px;color: #323232;height: 30px;white-space: nowrap;position: relative;min-width: 60px;margin: 0 5px; }      .tincan .message_box button, .tincan .message_box button.mobile:hover, .tincan .message_box button.mobile:active {background: #D4D4D4; }      .tincan .message_box button:hover, .tincan .message_box button:active {background: #B8B8B8; }      .tincan .message_box button:focus {border: 1px solid #809ABC;margin: 0 4px; }  .tincan .auth_window {background: #FFFFFF;border-radius: 5px;border: 1px solid rgba(0, 0, 0, 0.75);width: 340px;top: 50%;left: 50%;margin-left: -170px;padding-left: 18px;padding-right: 19px;padding-bottom: 19px;z-index: 10; }    .tincan .auth_window,    .tincan .auth_window * {position: absolute; }    .tincan .auth_window::after {background-color: #D6D6D6;width: 100%;height: 1px;left: 0;top: 30px;position: absolute;content: ''; }    .tincan .auth_window .title,    .tincan .auth_window .message,    .tincan .auth_window .label {font-family: Open Sans, Arial, sans-serif;font-size: 14px;color: #323232; }    .tincan .auth_window .title {width: 100%;top: 7px;font-weight: bold;background: transparent; }    .tincan .auth_window .message {position: relative;width: 100%;margin-top: 49px; }    .tincan .auth_window .confirm_button_container {position: relative;margin-top: 15px;width: 100%;height: 30px; }    .tincan .auth_window .first_field,    .tincan .auth_window .second_field {position: relative;height: 30px;white-space: nowrap; }      .tincan .auth_window .first_field input,      .tincan .auth_window .second_field input {border: 1px solid #D6D6D6;border-radius: 2px;padding-left: 10px;padding-right: 10px;width: 229px;right: 0;height: 100%;font-family: Open Sans, Arial, sans-serif; }        .tincan .auth_window .first_field input.error,        .tincan .auth_window .second_field input.error {color: red; }        .tincan .auth_window .first_field input:focus,        .tincan .auth_window .second_field input:focus {border-color: #809ABC; }      .tincan .auth_window .first_field .label,      .tincan .auth_window .second_field .label {top: 6px; }    .tincan .auth_window .first_field {margin-top: 12px; }    .tincan .auth_window .second_field {margin-top: 12px; }    .tincan .auth_window button {font-size: 14px;border-radius: 5px;position: absolute;right: 0;color: #323232;min-width: 68px;white-space: nowrap;height: 100%; }      .tincan .auth_window button, .tincan .auth_window button.mobile:hover, .tincan .auth_window button.mobile:active {background: #D4D4D4; }      .tincan .auth_window button:hover, .tincan .auth_window button:active {background: #B8B8B8; }      .tincan .auth_window button:focus {border: 1px solid #809ABC; }      .tincan .auth_window button[disabled], .tincan .auth_window button[disabled]:hover, .tincan .auth_window button[disabled]:active {opacity: 0.6;background: #D4D4D4; }"))});class yh extends Y{constructor({pg:a,Fa:b,sg:d,ug:e,ng:f,tabIndex:g,si:h,toggle:k,cf:l}){super({pg:a,Fa:b,sg:d,ug:e,ng:f,tabIndex:g,Fe:"BUTTON",Fh:!0,cf:l});h&&(a=h.top,b=h.right,d=h.bottom,h=h.left,this.ra=new Y,sf(this,this.ra),S(this.ra.g,"position","absolute"),S(this.ra.g,"top",a?`${-a}px`:0),S(this.ra.g,"right",b?`${-b}px`:0),S(this.ra.g,"bottom",d?`${-d}px`:0),S(this.ra.g,"left",h?`${-h}px`:0));(this.yh=k)&&this.yc("pressed",!1);this.ef()}selected(){return!1}vg(){}pressed(){return"true"==ce(this.g,
"pressed")}la(a){super.la(a);this.ra&&this.Ce(this.ra,0)}qd(a){super.qd(a);this.ra&&this.Ce(this.ra,0)}};function zh(a,b){return void 0===b?a:b instanceof Array?(b=Va(b),b.push(a),b):[a,b]}
class Z{constructor(a){this.Cg=!0;this.Lc=1;t(a)&&1==a.nodeType?this.H=this.g=a:(this.g=R("DIV",zh("component_container",a)),this.H=R("DIV",zh("component_base",a)),this.g.appendChild(this.H));this.L=[];this.hc=!1;this.I=new lf;if(ec){const b=new Ne(this.displayObject());this.I.$b.addHandler(function(){1==Yc(this.I)&&Ie(b)},this);this.I.Vd.addHandler(function(){0==Yc(this.I)&&Je(b)},this);a=new Oe;a.ue.addHandler(function(d,e,f){this.ka();this.hc&&f.preventDefault();this.enabled()&&this.qb(f)},this);
a.te.addHandler(function(){this.ka()},this);a.ve.addHandler(function(){this.enabled()&&this.Qb()},this);b.La.tap=a}else this.hc=!0,this.I.$b.addHandler(function d(){this.I.$b.removeHandler(d,this);var e=E(this.displayObject(),"mouseover",function(){this.enabled()&&0<Yc(this.I)&&this.Qb()},!1,this);this.L.push(e);e=E(this.displayObject(),"mouseout",function(){this.ka()},!1,this);this.L.push(e);e=E(this.displayObject(),"click",function(f){this.ka();this.hc&&0<Yc(this.I)&&(f.preventDefault(),f.stopPropagation());
this.qb(f)},!1,this);this.L.push(e)},this);this.Pa=new J}qb(a){!this.Cg&&a&&(this.displayObject().blur(),this.H.blur());this.I.h(this,a)}resizeEvent(){return this.Pa}setAttribute(a,b){this.displayObject().setAttribute(a,b)}removeAttribute(a){this.displayObject().removeAttribute(a)}wg(a){this.pe(a)}cf(){this.Ma=this.Sa=void 0;this.cb=new ResizeObserver(a=>{for(const b of a)void 0!==b.target&&(a=b.contentRect,this.Sa=a.width,this.Ma=a.height,this.Pa.h(this))});this.cb.observe(this.g);this.Pa.h(this)}Qb(){this.zc("active",
!0)}ka(){this.zc("active",!1)}og(){return this.H}displayObject(){return this.g}width(){return void 0!==this.Sa?this.Sa:this.Od(this.H)}Od(a){return"SVG"==a.tagName.toUpperCase()?a.width.baseVal.value:je(a).width}rd(a){this.resize(a)}height(){return void 0!==this.Ma?this.Ma:this.Nd(this.H)}Nd(a){return"SVG"==a.tagName.toUpperCase()?a.height.baseVal.value:je(a).height}Se(a){this.resize(void 0,a)}resize(a,b){if(void 0!==this.cb)throw Error("ResizeObserver is turned on");this.le(a,b);void 0!==a&&(this.Sa=
a);void 0!==b&&(this.Ma=b);this.Pa.h(this)}le(a,b){void 0!==a&&(this.displayObject().style.width=ie(a),this.H.style.width=ie(a));void 0!==b&&(this.displayObject().style.height=ie(b),this.H.style.height=ie(b))}x(){return void 0!==this.Bb?this.Bb:he(this.displayObject()).x}Ve(a){this.Bb=a;this.displayObject().style.left=a+"px"}y(){return void 0!==this.Cb?this.Cb:he(this.displayObject()).y}We(a){this.Cb=a;this.displayObject().style.top=a+"px"}move(a,b){this.Ve(a);this.We(b)}enabled(){return!this.H.hasAttribute("disabled")}visible(){return"none"!=
this.displayObject().style.display}Ga(a){this.displayObject().style.display=a?"":"none"}opacity(){return this.Lc}ea(a){a=this.wa(a);this.displayObject().appendChild(a)}Ce(a,b){a=this.wa(a);var d=this.displayObject();d.insertBefore(a,d.childNodes[b]||null)}removeChild(a){a=this.wa(a);this.Ne(a)&&this.displayObject().removeChild(a)}Ne(a){return(a instanceof Z?a.displayObject():a).parentNode==this.displayObject()}la(a){Wd(this.H,a)}qd(a){this.H.innerHTML=a}Re(a){Array.isArray(a)&&(a=a.join(" "));var b=
this.Ch?this.H:this.g;a?b.setAttribute("role",a):b.removeAttribute("role")}yc(a,b){be(this.Ch?this.H:this.g,a,b)}zc(a,b){a=this.Gg?gf(this.Gg,a):a;var d=this.g;b?Ze(d,a):$e(d,a);this.g!=this.H&&(d=this.H,b?Ze(d,a):$e(d,a))}ef(){E(this.displayObject(),"keydown",this.ae,!1,this)}ae(a){document.activeElement!=this.displayObject()||a.defaultPrevented||13!=a.keyCode&&32!=a.keyCode||(a.preventDefault(),this.qb(null))}pe(a){this.setAttribute("tabindex",a+"")}fd(){for(let a=0;a<this.L.length;++a){const b=
this.L[a];b&&Jc(b)}this.cb&&this.cb.disconnect()}wa(a){return a instanceof Z||a instanceof Y?a.displayObject():a}}Z.prototype.displayObject=Z.prototype.displayObject;Z.prototype.baseElement=Z.prototype.og;class Ah extends Z{constructor(a){super(R("DIV",a))}};class Bh extends Ah{constructor(a,b){void 0===b&&(b=!0);super(a);b&&S(this.H,"display","table-cell");(sb||y)&&this.H.setAttribute("unselectable","on")}};function Ch(){const a=new Z("modal_layer");E(a.displayObject(),"click",()=>{});return a}
class Dh extends Ah{constructor(a){super(a);this.Mc=!1;this.Re("alertdialog");this.fe=new J;this.Wa=new J}open(){this.Mc=!0;this.ge();this.fe.h(this)}Ga(a){super.Ga(a);this.tb&&this.tb.Ga(a)}ge(){this.Ga(!0);E(document,"keydown",this.Qc,!1,this)}close(){this.Mc=!1;this.Ga(!1);this.Wa.h(this);F(document,"keydown",this.Qc,!1,this)}Qc(a){const b=a.target.nodeName;"INPUT"!=b&&"TEXTAREA"!=b&&a.preventDefault()}fd(){}};function Eh(a,b){a.mb()||a.Te(Ob());b.yc("labelledby",a.mb())};function Fh(a,b){b.mb()||b.Te(Ob());a.setAttribute("for",b.mb())};class Gh{constructor(a,b,d,e,f){this.id=a;this.label=b;this.Qh=d||!1;this.Ph=e||"";this.Jh=f||"";this.yg=void 0}};class Hh extends Y{constructor(a){super({Fa:a.Jh||void 0});this.sb=new Y({Fe:"LABEL",Fa:"label"});this.sb.la(a.label);sf(this,this.sb);this.P=new Y({Fe:"INPUT",Fa:"value"});this.P.setAttribute("autocomplete","off");this.P.setAttribute("value",a.Ph);this.P.yc("required",!0);a.Qh&&this.P.setAttribute("type","password");sf(this,this.P);a.yg&&E(this.P.displayObject(),"blur",()=>{if(a.yg(this.P.displayObject().value)){var b=this.P.displayObject();$e(b,"error")}else b=this.P.displayObject(),Ze(b,"error")},
!1,this);Eh(this.sb,this.P);Fh(this.sb,this.P)}hasFocus(){var a=document;try{var b=a&&a.activeElement;var d=b&&b.nodeName?b:null}catch(e){d=null}return d==this.P.displayObject()}};function Ih(a,b){a=a.ja[b];if(!a)throw Error("unknown field id");return a.P.displayObject().value}
class Jh extends Dh{constructor(a,b,d,e){super("auth_window");this.tb=Ch();this.Re("dialog");this.setAttribute("tabindex","-1");var f=new Bh("title",!1);f.la(a);this.ea(f);b&&(a=new Bh("message",!1),a.qd(b),this.ea(a));this.ja={};for(b=0;b<d.length;++b)a=d[b],f=new Hh(a),this.ja[a.id]=f,this.ea(f);d=new Y({Fa:"confirm_button_container"});this.ea(d);b=new yh({Fa:"confirm_button"});b.la(e);d.ea(b);b.I.addHandler(this.Cf,this);this.Sb=new J;Ce(()=>{var g=0,h=0;for(var k in this.ja)this.ja.hasOwnProperty(k)&&
(g=Math.max(g,this.ja[k].sb.width()));for(var l in this.ja)if(this.ja.hasOwnProperty(l)){const q=this.ja[l];k=q;var n=g;k.sb.rd(n);k.rd(n+12+k.P.width());h=Math.max(h,q.width())}n=this.displayObject();y?(g=ke(n,"paddingLeft"),l=ke(n,"paddingRight"),k=ke(n,"paddingTop"),n=ke(n,"paddingBottom"),g=new de(k,l,n,g)):(g=ge(n,"paddingLeft"),l=ge(n,"paddingRight"),k=ge(n,"paddingTop"),n=ge(n,"paddingBottom"),g=new de(parseFloat(k),parseFloat(l),parseFloat(n),parseFloat(g)));this.rd(h+g.left+g.right);h=-Math.floor(this.height()/
2)+"px";S(this.displayObject(),"margin-top",h);h=-Math.floor(this.width()/2)+"px";S(this.displayObject(),"margin-left",h)},this);E(document.body,"keydown",this.Ef,!1,this)}Cf(){F(document.body,"keydown",this.Ef,!1,this);this.Sb.h()}Ef(a){if(13==a.keyCode){let b=!1,d=!1;for(const e in this.ja)if(this.ja.hasOwnProperty(e)){const f=this.ja[e];f.hasFocus()&&(b=!0);if(!f.P.displayObject().value){d=!0;break}}b&&!d&&(a.stopPropagation(),this.Cf())}}Qc(){}};function Kh(a,b){a.Da.Ga(!0);a.ad.push(b);H(a,b.fe,a.ee,a);H(a,b.Wa,a.de,a,-1);var d=b.tb;if(d){var e=a.Da.displayObject();d=d.displayObject();e.appendChild(d)}e=a.Da.displayObject();d=b.displayObject();e.appendChild(d);b.Mc?a.ee(b):a.de(b)}function Lh(a,b){const d=v(a.ad,b);0<=d&&(Ua(a.ad,d),b.Mc&&b.close(),Pc(a,b.fe,a.ee,a),Pc(a,b.Wa,a.de,a,-1),Td(b.displayObject()),(b=b.tb)&&Td(b.displayObject()));a.Da.Ga(0<a.ad.length)}
function Mh(a){const b=a.kc,d=a.Zd,e=a.Yd,f=b*d,g=b*e;for(let q=0;q<a.Oa.length;q++){var h=a.Oa[q],k=h.width();const z=h.height();var l=b,n=0;let N=0;if(k>d||z>e)l*=Math.min(1,d/k,e/z),n=-1*(k-d)/(2*l),N=-1*(z-e)/(2*l);else if(k>f||z>g)k>f&&(n=-1*(k-f)/(2*b)),z>g&&(N=-1*(z-g)/(2*b));void 0!==h.setScale?h.setScale(a.kc):(k=new Pe,k.scale(l,l),Db||(N=0),k.translate(n,N),y&&8>=A||(h=h.H,n=k,l=Re(),h.style[l.Sc.transform]=n.isIdentity()?"":l.Ke(n)))}}
class Nh extends X{constructor(a){super();this.Da=I(this,new Y({Fa:"popup_layer"}));this.Da.Ga(!1);a.appendChild(this.Da.displayObject());this.ad=[];this.Oa=[];this.Uf=W(this);this.Zd=400;this.Yd=300;this.kc=1;y&&8>=A||pe(this.Da.displayObject(),"0 0");G(this,a,"touchstart",b=>{for(let d=0;d<this.Oa.length;d++){const e=this.Oa[d].tb;if(e&&(b.target==e.displayObject()||e.displayObject().contains(b.target))){b.preventDefault();break}}},this,oe)}setScale(a){this.kc=a;this.Da.resize(a*this.Zd,a*this.Yd);
Mh(this)}ee(a){this.Oa.push(a);Mh(this);this.Uf.h(this.Oa.length)}de(a){Ta(this.Oa,a);this.Uf.h(this.Oa.length)}};class Oh extends Dh{constructor(a,b,d,e){super("message_box");this.tb=Ch();this.setAttribute("tabindex","-1");const f=new Bh("title");f.la(a);this.ea(f);this.Na=new Bh("message",!1);this.Na.la(b);this.ea(this.Na);a=new Ah("buttons_panel");this.ea(a);b=new yh({});b.la(d);a.ea(b);b.I.addHandler(this.ah,this);void 0!==e&&(d=new yh({}),d.la(e),a.ea(d),d.I.addHandler(this.$g,this));this.Bd=!1}ah(){this.Bd=!1;this.close()}$g(){this.Bd=!0;this.close()}ge(){super.ge();var a=this.Na.height();32>a&&(a=Math.floor((32-
a)/2)+"px",S(this.Na.displayObject(),"padding-top",a),this.Na.Se(32));this.Se(this.Na.height()+120)}Qc(){}};function Ph(a,b,d){H(a,b.Va,e=>{if(e){e=a.o.C("TINCAN_AUTH_ERROR_WINDOW_TITLE",{},"Error");var f=a.o.C("TINCAN_AUTH_AUTHENTICATION_ERROR_WINDOW_TEXT",{},"Authentication failed");Qh(a,e,f,b)}else e=a.o.C("TINCAN_AUTH_CONNECTION_ERROR_WINDOW_TITLE",{},"Connection Problem"),f=a.o.C("TINCAN_AUTH_CONNECTION_ERROR_WINDOW_TEXT",{},"Cannot connect to Learning Record Store (LRS) Please check your internet connection and try again."),Qh(a,e,f,b)});H(a,b.Bc,()=>{a.Qa=!0;d?Rh(a):Sh(a)});Th(a,b)}
function Rh(a){const b=[];var d=a.o.C("TINCAN_AUTH_USER_INFO_WINDOW_NAME_CAPTION",{},"Name:");b.push(new Gh("username",d,!1,a.pa.username,"first_field"));d=a.o.C("TINCAN_AUTH_USER_INFO_WINDOW_EMAIL_CAPTION",{},"Email:");b.push(new Gh("email",d,!1,a.pa.email,"second_field"));d=a.o.C("TINCAN_AUTH_WINDOW_TITLE",{},"Learning Record Store");const e=a.o.C("TINCAN_AUTH_WINDOW_SUBTITLE",{},"Introduce yourself"),f=a.o.C("TINCAN_AUTH_USER_INFO_WINDOW_BUTTON_CAPTION",{},"OK"),g=new Jh(d,e,b,f);g.Sb.addHandler(function k(){g.Sb.removeHandler(k);
g.close();Lh(this.Ea,g);this.pa.username=Ih(g,"username");const l=Ih(g,"email");this.pa.email=l;(null==l?0:zf.test(l))?(this.pa.email=l,Sh(this)):Uh(this)},a);Kh(a.Ea,g);g.open();g.displayObject().focus()}function Sh(a){a.Dd.h(a.Qa?a.pa:null);Td(a.displayObject())}
function Th(a,b){const d=[];var e=a.o.C("TINCAN_AUTH_LOGIN_WINDOW_LOGIN_FIELD_CAPTION",{},"Login:");d.push(new Gh("login",e,!1,a.pa.login,"first_field"));e=a.o.C("TINCAN_AUTH_LOGIN_WINDOW_PASSWORD_FIELD_CAPTION",{},"Password:");d.push(new Gh("password",e,!0,a.pa.password,"second_field"));e=a.o.C("TINCAN_AUTH_WINDOW_TITLE",{},"Learning Record Store");const f=a.o.C("TINCAN_AUTH_WINDOW_SUBTITLE",{},"Introduce yourself"),g=a.o.C("TINCAN_AUTH_LOGIN_WINDOW_BUTTON_CAPTION",{},"Login"),h=new Jh(e,f,d,g);
h.Sb.addHandler(function l(){h.Sb.removeHandler(l);h.close();Lh(this.Ea,h);this.pa.login=Ih(h,"login");this.pa.password=Ih(h,"password");Vh(b,Ih(h,"login"),Ih(h,"password"))},a);Kh(a.Ea,h);h.open();h.displayObject().focus()}
function Uh(a){const b=a.o.C("TINCAN_AUTH_ERROR_WINDOW_TITLE",{},"Error"),d=a.o.C("TINCAN_AUTH_INVALID_EMAIL_WINDOW_TEXT",{},"Please enter a valid email address."),e=a.o.C("TINCAN_AUTH_INVALID_EMAIL_WINDOW_BUTTON_CAPTION",{},"OK"),f=new Oh(b,d,e);f.Wa.addHandler(function h(){f.Wa.removeHandler(h);Lh(this.Ea,f);Rh(this)},a);Kh(a.Ea,f);f.open()}
function Qh(a,b,d,e){const f=a.o.C("TINCAN_AUTH_ERROR_WINDOW_RETRY_BUTTON_CAPTION",{},"Try Again"),g=a.o.C("TINCAN_AUTH_ERROR_WINDOW_CLOSE_BUTTON_CAPTION",{},"Close"),h=new Oh(b,d,f,g);h.Wa.addHandler(function n(l){h.Wa.removeHandler(n);Lh(this.Ea,h);l.Bd?Sh(this):Th(this,e)},a);Kh(a.Ea,h);h.open()}
class Wh extends Y{constructor(a,b,d,e){var f=document.body;super({Fa:"tincan"});this.o=a;this.pa=b;this.Ea=new Nh(this.displayObject());this.Dd=W(this);this.Qa=!1;f.appendChild(this.displayObject());S(this.g,"width","100%");S(this.g,"height","100%");a=this.Ea;b=document.documentElement.clientWidth;f=document.documentElement.clientHeight;a.Da.resize(a.kc*b,a.kc*f);a.Zd=b;a.Yd=f;Mh(a);e?Ph(this,e,d):(this.Qa=!0,Rh(this))}};var Xh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yh(a){var b=window.location.toString();a=a.match(Xh);b=b.match(Xh);return a[3]==b[3]&&a[1]==b[1]&&a[4]==b[4]}function Zh(a,b,d){if(Array.isArray(b))for(var e=0;e<b.length;e++)Zh(a,String(b[e]),d);else null!=b&&d.push(a+(""===b?"":"="+encodeURIComponent(String(b))))}function $h(a){var b=[],d;for(d in a)Zh(d,a[d],b);return b.join("&")};function ai(a,b){a.vf.Authorization=b}class bi{constructor(a,b,d){this.Ae=a;this.Wg=b;this.vf={"Content-Type":"application/json","X-Experience-API-Version":"1.0.0"};this.Oc=d}url(){return this.Ae}method(){return this.Wg}headers(){return this.vf}};function ci(a){switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:return!0;default:return!1}};let di=null;function ei(a,b){b=V({url:b.url(),method:b.method(),headers:b.headers(),postData:b.Oc});return a.Id(b)}class fi{constructor(){this.Wd={}}ed(a,b,d){a=ei(this,a);this.Wd[a.id()]={onload:e=>{b&&b(e)},onerror:()=>{d&&d(0)}};a.rc()}bf(a){ei(this,a).rc();return""}Id(a){return new Be("tincanRequest",[a])}}r("Tincan.MobileHttpTransport.onRequestComplete",function(a,b,d){const e=di.Wd[a];if(null==e)return"";delete di.Wd[a];qe(()=>{if(b)e.onload(d);else e.onerror()},10);return"ok"});function gi(){return window.XDomainRequest?new XDomainRequest:null}function hi(a,b){var d=b.url(),e=window.location.toString().match(Xh)[1]||null;if("file"!=e){var f=d.match(Xh)[1]||null;d=e+d.substr(f.length)}e={};f=d.indexOf("?");0<f&&(e=Sb(d.substr(f+1),!0),d=d.substr(0,f));d+="?method="+b.method();f=b.headers();Mb(e,f);e.content=b.Oc||"";try{a.open("POST",d),a.send($h(e))}catch(g){a.onerror&&a.onerror()}}
class ii{ed(a,b,d){const e=gi();e.onload=()=>{b&&b(e.responseText)};e.onerror=()=>{d&&d(0)};e.onprogress=()=>{};hi(e,a)}bf(a){const b=gi();let d=!1,e=!1;b.onload=()=>{e=d=!0};b.onerror=()=>{d=!0};hi(b,a);for(a=Date.now();!d&&1E3>Date.now()-a;)Hf();if(!e)throw 0;return b.responseText}};function ji(a,b,d){try{a.open(b.method(),b.url(),!d);const e=b.headers();for(const f in e)a.setRequestHeader(f,e[f]);a.send(b.Oc);return!0}catch(e){return"fetch"in window&&fetch(b.url(),{method:"POST",body:b.Oc,keepalive:!0,headers:b.headers()}),!1}}
class ki{ed(a,b,d){const e=If();if(b||d)e.onreadystatechange=()=>{4==e.readyState&&(ci(e.status)?b&&b(e.responseText):d&&d(e.status),delete e.onreadystatechange)};ji(e,a,!1)||d&&d(0)}bf(a){const b=If();if(!ji(b,a,!0))throw 0;if(!ci(b.status))throw b.status;return b.responseText}};class li{constructor(a){this.yd=a}};function mi(a,b,d,e,f){const g=y&&11>parseFloat(A)&&!Yh(a)||!If()?gi()?new ii:null:new ki;if(g){var h=new li("Basic "+ue(b+":"+d));a=a+"activities/state?activityId="+encodeURIComponent("http://example.com/authorization_test")+"&agent="+encodeURIComponent('{"name": "temp", "mbox": "mailto:temp@example.com"}')+"&stateId=temp";a=new bi(a,"PUT","[1]");ai(a,h.yd);g.ed(a,()=>{e(h)},k=>{f(401==k?"authFailed":"other")})}else f("other")};function Vh(a,b,d){mi(a.Ng,b,d,e=>{a.vb=e;a.Bc.h()},e=>{a.Va.h("authFailed"==e)})}class ni{constructor(a){this.Ng=a;this.vb=null;this.Bc=new J;this.Va=new J}};function oi(a){const b=!a.Ia.vb,d=!(a.oa.userName()&&a.oa.lg),e={};e.login=a.oa.login();e.password=a.oa.password();e.username=a.oa.userName();e.email=a.oa.lg;a.i&&(e.username||(e.username=a.i.get("user.name")||""),e.email||(e.email=a.i.get("user.email")||""));b||d?(window.rg(),a.zd=new Wh(a.o,e,d,b?a.Ia:null),a.zd.Dd.addHandler(a.Tf,a)):pi(a,e)}function qi(a){const b=a.oa;b.login()&&b.password()?(a.Ia.Bc.addHandler(a.Ic,a),a.Ia.Va.addHandler(a.Ic,a),Vh(a.Ia,b.login(),b.password())):oi(a)}
function pi(a,b){const d=a.Ia.vb;if(d&&b){const e=b.username;b=b.email;if(a.i)try{a.i.set("user.name",e),a.i.set("user.email",b)}catch(f){}a.ff.h({name:e,mbox:"mailto:"+b},d)}else a.Va.h()}class ri{constructor(a,b,d,e){this.oa=b;this.o=d;this.i=e;this.ff=new J;this.Va=new J;this.Ia=new ni(a);this.zd=null}Ic(){this.Ia.Bc.removeHandler(this.Ic,this);this.Ia.Va.removeHandler(this.Ic,this);oi(this)}Tf(a){this.zd.Dd.removeHandler(this.Tf,this);pi(this,a)}};function si(a){var b=a.a,d=a.b,e=a.c;b=b-d-e^e>>>13;d=d-e-b^b<<8;e-=b;e=e-d^d>>>13;b-=d;b-=e;b^=e>>>12;d=d-e-b^b<<16;e-=b;e=e-d^d>>>5;b-=d;b-=e;b^=e>>>3;d=d-e-b^b<<10;e-=b;e=e-d^d>>>15;a.a=b;a.b=d;return a.c=e}function ti(a,b){return ui(a[b+0])+(ui(a[b+1])<<8)+(ui(a[b+2])<<16)+(ui(a[b+3])<<24)}function ui(a){return 127<a?a-256:a};function vi(a){function b(g,h){const k={};for(const l in g)if(l in h)h[l](g,k,l);return k}function d(g,h,k){h[k]=g[k]}function e(g,h,k){g=g[k];Array.isArray(g)&&(g=g[0]);h[k]=g}function f(g){return function(h,k,l){k[g]=h[l]}}return b(a,{objectType:d,name:e,mbox:(g,h,k)=>{e(g,h,k);g=h[k];0>g.indexOf("mailto:")&&(g="mailto:"+g);h[k]=g},mbox_sha1sum:e,openid:e,account:(g,h,k)=>{g=g[k];Array.isArray(g)&&(g=g[0]);h[k]=b(g,{name:d,homePage:d,accountName:f("name"),accountServiceHomePage:f("homePage")})}})}
class wi{constructor(a){this.fc=a;"string"==typeof a.actor?(a=JSON.parse(a.actor),this.Pb=vi(a)):this.Pb=a.actor}bd(){return this.Pb}Eb(){return this.fc.activity_id}md(){return this.fc.publisher_id}registration(){return this.fc.registration}endpoint(){return this.fc.endpoint}auth(){return this.fc.auth}};class xi{constructor(a,b,d){this.i=a;b+=d;a=[];for(var e=d=0;e<b.length;e++){var f=b.charCodeAt(e);128>f?a[d++]=f:(2048>f?a[d++]=f>>6|192:(55296==(f&64512)&&e+1<b.length&&56320==(b.charCodeAt(e+1)&64512)?(f=65536+((f&1023)<<10)+(b.charCodeAt(++e)&1023),a[d++]=f>>18|240,a[d++]=f>>12&63|128):a[d++]=f>>12|224,a[d++]=f>>6&63|128),a[d++]=f&63|128)}b=0;d=a.length;e={a:-1640531527,b:-1640531527,c:314159265};for(f=d;12<=f;f-=12,b+=12)e.a+=ti(a,b),e.b+=ti(a,b+4),e.c+=ti(a,b+8),si(e);e.c+=d;switch(f){case 11:e.c+=
a[b+10]<<24;case 10:e.c+=(a[b+9]&255)<<16;case 9:e.c+=(a[b+8]&255)<<8;case 8:e.b+=ti(a,b+4);e.a+=ti(a,b);break;case 7:e.b+=(a[b+6]&255)<<16;case 6:e.b+=(a[b+5]&255)<<8;case 5:e.b+=a[b+4]&255;case 4:e.a+=ti(a,b);break;case 3:e.a+=(a[b+2]&255)<<16;case 2:e.a+=(a[b+1]&255)<<8;case 1:e.a+=a[b+0]&255}this.ze=si(e)+""}get(a){return this.i.get(this.ze+a)}set(a,b){try{this.i.set(this.ze+a,b)}catch(d){}}remove(a){this.i.remove(this.ze+a)}}
function yi(a,b,d){0<b.length?zi(a,Ai(a,"statements","POST",V(b)),d,()=>{Bi(a,b)}):d&&d()}function Ci(a,b){var d=a.Eb(),e=void 0!==a.md()?a.md():a.Eb(),f=a.aa.bd();a=a.aa.registration();const g=[];for(let h=0;h<b.length;++h)g.push(Nf(b[h],d,e,f,a));return g}function zi(a,b,d,e){a.Wc?(ai(b,a.vb.yd),a.Wc.ed(b,f=>{d&&d(f);Di(a)},()=>{e&&e();d&&d("")})):(e&&e(),d&&d(""))}
function Ai(a,b,d,e){b=a.aa.endpoint()+b;d=new bi(b,d,e);e=d.Ae;a=$h(a.Bg);if(a){b=e.indexOf("#");0>b&&(b=e.length);var f=e.indexOf("?");if(0>f||f>b){f=b;var g=""}else g=e.substring(f+1,b);e=[e.slice(0,f),g,e.slice(b)];b=e[1];e[1]=a?b?b+"&"+a:a:b;a=e[0]+(e[1]?"?"+e[1]:"")+e[2]}else a=e;d.Ae=a;return d}function Bi(a,b){if(a.i){const d=Ei(a);Wa(d,b);a.i.set("statements",d)}}function Fi(a,b){if(a.Wc){ai(b,a.vb.yd);try{const d=a.Wc.bf(b);Di(a);return d}catch(d){}}return null}
function Gi(a,b){return{state:b,id:a.oe,version:++a.xb,passedSent:a.Xf}}function Hi(a,b){let d="activities/state?activityId="+encodeURIComponent(a.Eb())+"&agent="+encodeURIComponent(V(a.aa.Pb));d+="&stateId="+encodeURIComponent(b);(a=a.aa.registration())&&(d+="&registration="+encodeURIComponent(a));return d}function Ii(a,b,d){d.remote_version=a.jc;d=V(d);if(a.i){const e=a.i.get("states")||{};e[b]=d;a.i.set("states",e)}}
function Di(a){if(a.i){var b=Ei(a);0<b.length&&(a.i.remove("statements"),yi(a,b));if(b=a.i.get("states")){a.i.remove("states");for(const d in b)a.dd(d,b[d])}}}function Ei(a){return(a.i.get("statements")||[]).filter(b=>b.context.extensions["https://w3id.org/xapi/cmi5/context/extensions/sessionid"]==a.oe)}
class Ji{constructor(a,b,d){this.aa=a;this.vb=b;this.Bg=d||{};a=this.aa.endpoint();gc?(di||(di=new fi),a=di):a=y&&11>parseFloat(A)&&!Yh(a)||!If()?gi()?new ii:null:new ki;this.Wc=a;this.i=null;this.jc=this.xb=0;this.oe="";this.Xf=!1}Eb(){return this.aa.Eb()}md(){return this.aa.md()}bd(){return this.aa.bd()}De(a,b){yi(this,Ci(this,a),b)}af(a){0<a.length&&(a=Ci(this,a),null===Fi(this,Ai(this,"statements","POST",V(a)))&&Bi(this,a))}dd(a,b,d){const e=Gi(this,b);zi(this,Ai(this,Hi(this,a),"PUT",V(e)),()=>
{this.jc=this.xb;d&&d()},()=>Ii(this,a,e))}$e(a,b){b=Gi(this,b);null===Fi(this,Ai(this,Hi(this,a),"PUT",V(b)))?Ii(this,a,b):this.jc=this.xb}getState(a,b){var d;{b:{if(this.i){const ra=this.i.get("states")||{};if(a in ra)try{var e=wh(ra[a])||{};break b}catch(sa){}}e={}}const {data:f,version:g,Xh:h,sessionId:k,Ta:l}={data:e.state,version:e.version,Xh:e.remote_version,sessionId:e.id,Ta:e.passedSent};a=Fi(this,Ai(this,Hi(this,a),"GET",null));e={};a&&(e=null!=(d=wh(a))?d:{});const {data:n,version:q,sessionId:z,
Ta:N}={data:e.state,version:e.version,sessionId:e.id,Ta:e.passedSent};f?n?d=k!==z||h<q||h===q&&g<=q?{data:n,sd:q,sessionId:z,Ta:N}:{data:f,sd:g,sessionId:k,Ta:N}:(d=0>=h&&0<g,d={data:d?f:"",sd:null==g?0:g,sessionId:k?k:kc(),Ta:d?l:!1}):d={data:n||"",sd:null==q?0:q,sessionId:z?z:kc(),Ta:n?N:!1}}this.xb=d.sd;this.oe=d.sessionId;this.Xf=d.Ta;b(d.data)}};function Ki(a,b){a.ga.getState("suspend_data",d=>{if(d)try{a.Af=wh(d)}catch(e){}b()})}function Li(a,b,d){const e=new ri(a.Jd,a.oa,a.o,a.i);e.ff.addHandler((f,g)=>{var h=a.Ha;const k={};k.endpoint=a.Jd;k.activity_id=h;k.actor=V(f);f=new wi(k);g=new Ji(f,g);a.ga=g;a.i&&(g=a.ga,g.i=new xi(a.i,g.aa.endpoint(),V(g.aa.Pb)));Ki(a,b)});e.Va.addHandler(()=>{d();Mf();Jf()});qi(e)}
function Mi(a){var b=a.Ha;var d=new ih;(d=d.Oe()?b?new uh(d,b):d:null)||(b=new ph(b||"UserDataSharedStore"),d=b.Oe()?b:null);if(b=d)a.i=new Yg(b)}function Ni(a,b,d){d=new Df(d);d.dc={name:a.Hb(b),type:"http://adlnet.gov/expapi/activities/course"};Cf(d,a.Yc);return d}
function Vg(a,b,d,e,f,g){b=null!=b?a.Ha+b:null;d=new Df(e,a.Ha+d);null!=b&&(d.he=b);d.dc=f;null!=g&&(f=d.result(),null!=g.Ib&&(f.cc=g.Ib),null!=g.maxScore&&(f.bc=g.maxScore),null!=g.awardedScore&&(f.ic=g.awardedScore),null!=g.maxScore&&null!=g.awardedScore&&(f.lc=0<g.maxScore?g.awardedScore/g.maxScore:0),null!=g.passed&&Bf(d,g.passed,!0,a.xa&&a.Ba,a.kg),null!=g.duration&&f.Ua(g.duration));Cf(d,a.Yc);a.Aa.push(d)}
class Oi{constructor(a){this.ga=null;this.Yc=this.Ha="";this.ya=null;this.mc=!1;this.$f=0;this.qe=!1;this.Jd="";this.Af=this.i=this.oa=null;this.gb=void 0;this.kg=!1;this.Yc=Ob();this.Aa=[];this.o=a.o;this.Ba=a.Ba;this.th=new vh(this.sh.bind(this));if(this.qe=!!(a.xf&&a.jg&&a.ig)){var b=a.jg,d=a.ig;this.Ha=a.xf;this.Jd=b;this.oa=d;Mi(this)}window.c=this}De(a,b){this.ga.De(a,b)}af(a){this.ga.af(a)}dd(a,b,d){this.ga.dd(a,b,d)}$e(a,b){this.ga.$e(a,b)}Hb(a){return{und:a}}terminate(){if(this.ya&&!this.mc&&
null!=this.ya&&!this.mc){var a=Date.now();this.ya.ye=a;this.ya.result().Ua((a-this.$f)/1E3);null==this.ya||this.mc||this.Aa.push(this.ya);this.mc=!0}this.af(this.Aa);this.Aa=[];if(void 0!==this.gb){var b=V(this.gb);this.gb=void 0;a=this.ga;b=Gi(a,b);null==Fi(a,Ai(a,Hi(a,"suspend_data"),"PUT",V(b)))?(a.jc=a.xb,Ii(a,"suspend_data",b)):a.jc=a.xb}this.i&&this.i.remove("statements");Mf();Jf()}commit(){0<this.Aa.length&&(this.De(this.Aa),this.Aa=[])}Mb(a,b,d,e){const f=this.ya.result();f.ic=a;f.cc=b;f.bc=
d;null!=e&&(f.lc=e)}Ue(a,b){Bf(this.ya,a,b,this.xa&&this.Ba,this.kg)}cd(a,b,d,e){a=null!=a?this.Ha+a:null;b=new Df(d,this.Ha+b);null!=a&&(b.he=a);a=this.Hb;var f={type:"http://adlnet.gov/expapi/activities/cmi.interaction",description:a(e.description()),interactionType:e.type()};(d=e.S)&&0<d.length&&(f.correctResponsesPattern=d);(d=e.details())&&xh(d,f,a);b.dc=f;a=b.result();if(f=e.Be)b.ye=f.getTime();f=e.duration();null!==f&&a.Ua(f/1E3);f=e.M;null!==f&&(a.me=f);f=e.score();var g=e.awardedScore();
f&&null!==g&&(a.lc=g/f,a.ic=g,a.bc=f,a.cc=0);if(d instanceof wd){f={};g=d.choices();for(let h=0;h<g.count();++h){const k=g.getChoice(h),l=d.Cd[h]||"";f[k.id()]=l}a.Wb||(a.Wb={});a.Wb["ispring://quiz/custom_answers"]=f}e=e.result();if("correct"==e||"incorrect"==e||"partially"==e)a.Qa="correct"==e;Cf(b,this.Yc);this.Aa.push(b)}sh(a){if(void 0!==this.gb){const b=V(this.gb);this.gb=void 0;a?this.$e("suspend_data",b):this.dd("suspend_data",b)}}};function Rg(a,b,d,e){Vg(a.D,b,b,d,{name:a.Hb(e),type:"http://adlnet.gov/expapi/activities/module"})}function Wg(a,b,d,e,f){Vg(a.D,b,b,d,{name:a.Hb(e),type:"http://adlnet.gov/expapi/activities/module"},f)}
class Pi{constructor(a,b){this.xa=!1;this.D=null;this.Jg=a;b.cg.addHandler(this.gh,this)}initialize(a,b){try{this.D=new Oi(this.Jg)}catch(h){jc()&&alert(h)}if(this.D){var d=this.D;if(d.qe)Li(d,a,b);else{a:{try{const h=Sb(window.location.search.substr(1));var e,f=h;const k="actor auth registration activity_id publisher_id endpoint grouping content_endpoint content_token".split(" "),l=["actor","auth","endpoint","activity_id"],n={};for(const q in f){const z=f[q];0<=v(k,q)&&(Ta(l,q),n[q]=z,delete f[q])}if(e=
0<l.length?null:new wi(n)){var g=new Ji(e,new li(e.auth()),h);break a}}catch(h){}g=null}g?(d.Ha=g.Eb(),Mi(d),d.ga=g,d.i&&(b=d.ga,b.i=new xi(d.i,b.aa.endpoint(),V(b.aa.Pb))),Ki(d,a)):b()}}else b()}commit(){this.D.commit()}suspend(){this.D.xa=this.xa;this.D.terminate()}terminate(){this.D.xa=this.xa;this.D.terminate()}Ue(a,b){this.D.Ue(a,b)}Mb(a,b,d,e){this.D.Mb(e,b,d,a)}df(){const a=this.D.ga.bd();let b=B(a,"mbox","");0==b.lastIndexOf("mailto:",0)&&(b=b.substr(7));return new Kd(B(a,"name",""),b)}gh(a){var b=
this.D;b.ya=Ni(b,a,cd);b.mc=!1;a=Ni(b,a,$c);b.Aa.push(a);b.$f=Date.now()}cd(a,b,d,e){this.D.cd(a,b,d,e)}Hb(a){return{und:a}}}r("iSpring.LMSAPI.TinCanApi",Pi);})();
/* ajv 4.11.5: Another JSON Schema Validator */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.Ajv=e()}}(function(){var e;return function e(r,t,a){function s(i,n){if(!t[i]){if(!r[i]){var l="function"==typeof require&&require;if(!n&&l)return l(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var h=t[i]={exports:{}};r[i][0].call(h.exports,function(e){var t=r[i][1][e];return s(t?t:e)},h,h.exports,e,r,t,a)}return t[i].exports}for(var o="function"==typeof require&&require,i=0;i<a.length;i++)s(a[i]);return s}({1:[function(e,r,t){"use strict";function a(e,r){r!==!1&&(r=!0);var t,s=e.async,o=e.transpile;switch(typeof o){case"string":var i=m[o];if(!i)throw new Error("bad transpiler: "+o);return e._transpileFunc=i(e,r);case"undefined":case"boolean":if("string"==typeof s){if(t=p[s],!t)throw new Error("bad async mode: "+s);return e.transpile=t(e,r)}for(var n=0;n<v.length;n++){var l=v[n];if(a(l,!1))return d.copy(l,e),e.transpile}throw new Error("generators, nodent and regenerator are not available");case"function":return e._transpileFunc=e.transpile;default:throw new Error("bad transpiler: "+o)}}function s(e,r){try{return new Function("(function*(){})()")(),!0}catch(e){if(r)throw new Error("generators not supported")}}function o(e,r){try{return new Function("(async function(){})()")(),!0}catch(e){if(r)throw new Error("es7 async functions not supported")}}function i(r,t){try{if(!u){u=e("regenerator"),u.runtime()}return r.async&&r.async!==!0||(r.async="es7"),n}catch(e){if(t)throw new Error("regenerator not available")}}function n(e){return u.compile(e).code}function l(r,t){try{if(!f){f=e("nodent")({log:!1,dontInstallRequireHook:!0})}return"es7"!=r.async&&(r.async&&r.async!==!0&&console.warn("nodent transpiles only es7 async functions"),r.async="es7"),c}catch(e){if(t)throw new Error("nodent not available")}}function c(e){return f.compile(e,"",{promises:!0,sourcemap:!1}).code}function h(e,r){function t(e,r,a){function o(a){function o(a,o){if(a)return r(a);if(!s._refs[i]&&!s._schemas[i])try{s.addSchema(o,i)}catch(e){return void r(e)}t(e,r)}var i=a.missingSchema;if(s._refs[i]||s._schemas[i])return r(new Error("Schema "+i+" is loaded but "+a.missingRef+" cannot be resolved"));var n=s._loadingSchemas[i];n?"function"==typeof n?s._loadingSchemas[i]=[n,o]:n[n.length]=o:(s._loadingSchemas[i]=o,s._opts.loadSchema(i,function(e,r){var t=s._loadingSchemas[i];if(delete s._loadingSchemas[i],"function"==typeof t)t(e,r);else for(var a=0;a<t.length;a++)t[a](e,r)}))}function i(e,t){if(!a)return r(e,t);setTimeout(function(){r(e,t)})}var n;try{n=s.compile(e)}catch(e){return void(e.missingSchema?o(e):i(e))}i(null,n)}var a,s=this;try{a=this._addSchema(e)}catch(e){return void setTimeout(function(){r(e)})}if(a.validate)setTimeout(function(){r(null,a.validate)});else{if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");t(e,r,!0)}}r.exports={setup:a,compile:h};var u,f,d=e("./compile/util"),p={"*":s,"co*":s,es7:o},m={nodent:l,regenerator:i},v=[{async:"co*"},{async:"es7",transpile:"nodent"},{async:"co*",transpile:"regenerator"}]},{"./compile/util":11}],2:[function(e,r,t){"use strict";var a=r.exports=function(){this._cache={}};a.prototype.put=function(e,r){this._cache[e]=r},a.prototype.get=function(e){return this._cache[e]},a.prototype.del=function(e){delete this._cache[e]},a.prototype.clear=function(){this._cache={}}},{}],3:[function(e,r,t){"use strict";r.exports={$ref:e("../dotjs/ref"),allOf:e("../dotjs/allOf"),anyOf:e("../dotjs/anyOf"),dependencies:e("../dotjs/dependencies"),enum:e("../dotjs/enum"),format:e("../dotjs/format"),items:e("../dotjs/items"),maximum:e("../dotjs/_limit"),minimum:e("../dotjs/_limit"),maxItems:e("../dotjs/_limitItems"),minItems:e("../dotjs/_limitItems"),maxLength:e("../dotjs/_limitLength"),minLength:e("../dotjs/_limitLength"),maxProperties:e("../dotjs/_limitProperties"),minProperties:e("../dotjs/_limitProperties"),multipleOf:e("../dotjs/multipleOf"),not:e("../dotjs/not"),oneOf:e("../dotjs/oneOf"),pattern:e("../dotjs/pattern"),properties:e("../dotjs/properties"),required:e("../dotjs/required"),uniqueItems:e("../dotjs/uniqueItems"),validate:e("../dotjs/validate")}},{"../dotjs/_limit":14,"../dotjs/_limitItems":15,"../dotjs/_limitLength":16,"../dotjs/_limitProperties":17,"../dotjs/allOf":18,"../dotjs/anyOf":19,"../dotjs/dependencies":22,"../dotjs/enum":23,"../dotjs/format":24,"../dotjs/items":25,"../dotjs/multipleOf":26,"../dotjs/not":27,"../dotjs/oneOf":28,"../dotjs/pattern":29,"../dotjs/properties":31,"../dotjs/ref":32,"../dotjs/required":33,"../dotjs/uniqueItems":35,"../dotjs/validate":36}],4:[function(e,r,t){"use strict";r.exports=function e(r,t){if(r===t)return!0;var a,s=Array.isArray(r),o=Array.isArray(t);if(s&&o){if(r.length!=t.length)return!1;for(a=0;a<r.length;a++)if(!e(r[a],t[a]))return!1;return!0}if(s!=o)return!1;if(r&&t&&"object"==typeof r&&"object"==typeof t){var i=Object.keys(r);if(i.length!==Object.keys(t).length)return!1;var n=r instanceof Date,l=t instanceof Date;if(n&&l)return r.getTime()==t.getTime();if(n!=l)return!1;var c=r instanceof RegExp,h=t instanceof RegExp;if(c&&h)return r.toString()==t.toString();if(c!=h)return!1;for(a=0;a<i.length;a++)if(!Object.prototype.hasOwnProperty.call(t,i[a]))return!1;for(a=0;a<i.length;a++)if(!e(r[i[a]],t[i[a]]))return!1;return!0}return!1}},{}],5:[function(e,r,t){"use strict";function a(e){e="full"==e?"full":"fast";var r=d.copy(a[e]);for(var t in a.compare)r[t]={validate:r[t],compare:a.compare[t]};return r}function s(e){var r=e.match(p);if(!r)return!1;var t=+r[1],a=+r[2];return t>=1&&t<=12&&a>=1&&a<=m[t]}function o(e,r){var t=e.match(v);if(!t)return!1;var a=t[1],s=t[2],o=t[3],i=t[5];return a<=23&&s<=59&&o<=59&&(!r||i)}function i(e){var r=e.split(w);return 2==r.length&&s(r[0])&&o(r[1],!0)}function n(e){return e.length<=255&&y.test(e)}function l(e){return j.test(e)&&g.test(e)}function c(e){try{return new RegExp(e),!0}catch(e){return!1}}function h(e,r){if(e&&r)return e>r?1:e<r?-1:e===r?0:void 0}function u(e,r){if(e&&r&&(e=e.match(v),r=r.match(v),e&&r))return e=e[1]+e[2]+e[3]+(e[4]||""),r=r[1]+r[2]+r[3]+(r[4]||""),e>r?1:e<r?-1:e===r?0:void 0}function f(e,r){if(e&&r){e=e.split(w),r=r.split(w);var t=h(e[0],r[0]);if(void 0!==t)return t||u(e[1],r[1])}}var d=e("./util"),p=/^\d\d\d\d-(\d\d)-(\d\d)$/,m=[0,31,29,31,30,31,30,31,31,30,31,30,31],v=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,y=/^[0-9a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?(\.[0-9a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?)*$/i,g=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:\#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,P=/^(?:urn\:uuid\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,E=/^(?:\/(?:[^~\/]|~0|~1)*)*$|^\#(?:\/(?:[a-z0-9_\-\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,b=/^(?:0|[1-9][0-9]*)(?:\#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;r.exports=a,a.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)?(?:\:|\/)\/?[^\s]*$/i,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:y,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:c,uuid:P,"json-pointer":E,"relative-json-pointer":b},a.full={date:s,time:o,"date-time":i,uri:l,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:c,uuid:P,"json-pointer":E,"relative-json-pointer":b},a.compare={date:h,time:u,"date-time":f};var w=/t|\s/i,j=/\/|\:/},{"./util":11}],6:[function(e,r,t){"use strict";function a(){if(void 0===d){try{d=e("js-beautify").js_beautify}catch(e){d=!1}}}function s(e,r,t,n){function j(){var e=N.validate,r=e.apply(null,arguments);return j.errors=e.errors,r}function S(e,t,o,i){var n=!t||t&&t.schema==e;if(t.schema!=r.schema)return s.call(k,e,t,o,i);var v=e.$async===!0;v&&!q.transpile&&y.setup(q);var j=g({isTop:!0,schema:e,isRoot:n,baseId:i,root:t,schemaPath:"",errSchemaPath:"#",errorPath:'""',RULES:H,validate:g,util:m,resolve:p,resolveRef:$,usePattern:R,useDefault:I,useCustomRule:A,opts:q,formats:F,self:k});j=f(D,h)+f(Q,l)+f(V,c)+f(U,u)+j,q.beautify&&(a(),d?j=d(j,q.beautify):console.error('"npm install js-beautify" to use beautify option'));var S,x,_=q._transpileFunc;try{x=v&&_?_(j):j;S=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",x)(k,H,F,r,D,V,U,P,b,E,w),D[0]=S}catch(e){throw console.error("Error compiling schema, function code:",x),e}return S.schema=e,S.errors=null,S.refs=L,S.refVal=D,S.root=n?S:t,v&&(S.$async=!0),T&&(S.sourceCode=j),q.sourceCode===!0&&(S.source={patterns:Q,defaults:V}),S}function $(e,a,o){a=p.url(e,a);var i,n,l=L[a];if(void 0!==l)return i=D[l],n="refVal["+l+"]",O(i,n);if(!o&&r.refs){var c=r.refs[a];if(void 0!==c)return i=r.refVal[c],n=x(a,i),O(i,n)}n=x(a);var h=p.call(k,S,r,a);if(!h){var u=t&&t[a];u&&(h=p.inlineRef(u,q.inlineRefs)?u:s.call(k,u,r,t,e))}return h?(_(a,h),O(h,n)):void 0}function x(e,r){var t=D.length;return D[t]=r,L[e]=t,"refVal"+t}function _(e,r){D[L[e]]=r}function O(e,r){return"object"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&e.$async}}function R(e){var r=C[e];return void 0===r&&(r=C[e]=Q.length,Q[r]=e),"pattern"+r}function I(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return m.toQuotedString(e);case"object":if(null===e)return"null";var r=v(e),t=z[r];return void 0===t&&(t=z[r]=V.length,V[t]=e),"default"+t}}function A(e,r,t,a){var s=e.definition.validateSchema;if(s&&k._opts.validateSchema!==!1){if(!s(r)){var o="keyword schema is invalid: "+k.errorsText(s.errors);if("log"!=k._opts.validateSchema)throw new Error(o);console.error(o)}}var i,n=e.definition.compile,l=e.definition.inline,c=e.definition.macro;n?i=n.call(k,r,t,a):c?(i=c.call(k,r,t,a),q.validateSchema!==!1&&k.validateSchema(i,!0)):i=l?l.call(k,a,e.keyword,r,t):e.definition.validate;var h=U.length;return U[h]=i,{code:"customRule"+h,validate:i}}var k=this,q=this._opts,D=[void 0],L={},Q=[],C={},V=[],z={},U=[],T=q.sourceCode!==!1;r=r||{schema:e,refVal:D,refs:L};var M=o.call(this,e,r,n),N=this._compilations[M.index];if(M.compiling)return N.callValidate=j;var F=this._formats,H=this.RULES;try{var J=S(e,r,t,n);N.validate=J;var G=N.callValidate;return G&&(G.schema=J.schema,G.errors=null,G.refs=J.refs,G.refVal=J.refVal,G.root=J.root,G.$async=J.$async,T&&(G.sourceCode=J.sourceCode)),J}finally{i.call(this,e,r,n)}}function o(e,r,t){var a=n.call(this,e,r,t);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:r,baseId:t},{index:a,compiling:!1})}function i(e,r,t){var a=n.call(this,e,r,t);a>=0&&this._compilations.splice(a,1)}function n(e,r,t){for(var a=0;a<this._compilations.length;a++){var s=this._compilations[a];if(s.schema==e&&s.root==r&&s.baseId==t)return a}return-1}function l(e,r){return"var pattern"+e+" = new RegExp("+m.toQuotedString(r[e])+");"}function c(e){return"var default"+e+" = defaults["+e+"];"}function h(e,r){return r[e]?"var refVal"+e+" = refVal["+e+"];":""}function u(e){return"var customRule"+e+" = customRules["+e+"];"}function f(e,r){if(!e.length)return"";for(var t="",a=0;a<e.length;a++)t+=r(a,e);return t}var d,p=e("./resolve"),m=e("./util"),v=e("json-stable-stringify"),y=e("../async"),g=e("../dotjs/validate"),P=e("co"),E=m.ucs2length,b=e("./equal"),w=e("./validation_error");r.exports=s},{"../async":1,"../dotjs/validate":36,"./equal":4,"./resolve":7,"./util":11,"./validation_error":12,co:47,"json-stable-stringify":48}],7:[function(e,r,t){"use strict";function a(e,r,t){var o=this._refs[t];if("string"==typeof o){if(!this._refs[o])return a.call(this,e,r,o);o=this._refs[o]}if(o=o||this._schemas[t],o instanceof g)return n(o.schema,this._opts.inlineRefs)?o.schema:o.validate||this._compile(o);var i,l,c,h=s.call(this,r,t);return h&&(i=h.schema,r=h.root,c=h.baseId),i instanceof g?l=i.validate||e.call(this,i.schema,r,void 0,c):i&&(l=n(i,this._opts.inlineRefs)?i:e.call(this,i,r,void 0,c)),l}function s(e,r){var t=m.parse(r,!1,!0),a=u(t),s=h(e.schema.id);if(a!==s){var n=f(a),l=this._refs[n];if("string"==typeof l)return o.call(this,e,l,t);if(l instanceof g)l.validate||this._compile(l),e=l;else{if(l=this._schemas[n],!(l instanceof g))return;if(l.validate||this._compile(l),n==f(r))return{schema:l,root:e,baseId:s};e=l}if(!e.schema)return;s=h(e.schema.id)}return i.call(this,t,s,e.schema,e)}function o(e,r,t){var a=s.call(this,e,r);if(a){var o=a.schema,n=a.baseId;return e=a.root,o.id&&(n=d(n,o.id)),i.call(this,t,n,o,e)}}function i(e,r,t,a){if(e.hash=e.hash||"","#/"==e.hash.slice(0,2)){for(var o=e.hash.split("/"),i=1;i<o.length;i++){var n=o[i];if(n){if(n=y.unescapeFragment(n),t=t[n],!t)break;if(t.id&&!P[n]&&(r=d(r,t.id)),t.$ref){var l=d(r,t.$ref),c=s.call(this,a,l);c&&(t=c.schema,a=c.root,r=c.baseId)}}}return t&&t!=a.schema?{schema:t,root:a,baseId:r}:void 0}}function n(e,r){return r!==!1&&(void 0===r||r===!0?l(e):r?c(e)<=r:void 0)}function l(e){var r;if(Array.isArray(e)){for(var t=0;t<e.length;t++)if(r=e[t],"object"==typeof r&&!l(r))return!1}else for(var a in e){if("$ref"==a)return!1;if(r=e[a],"object"==typeof r&&!l(r))return!1}return!0}function c(e){var r,t=0;if(Array.isArray(e)){for(var a=0;a<e.length;a++)if(r=e[a],"object"==typeof r&&(t+=c(r)),t==1/0)return 1/0}else for(var s in e){if("$ref"==s)return 1/0;if(E[s])t++;else if(r=e[s],"object"==typeof r&&(t+=c(r)+1),t==1/0)return 1/0}return t}function h(e,r){return r!==!1&&(e=f(e)),u(m.parse(e,!1,!0))}function u(e){var r=e.protocol||"//"==e.href.slice(0,2)?"//":"";return(e.protocol||"")+r+(e.host||"")+(e.path||"")+"#"}function f(e){return e?e.replace(b,""):""}function d(e,r){return r=f(r),m.resolve(e,r)}function p(e){function r(e,t,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)r.call(this,e[o],t+"/"+o,s);else if(e&&"object"==typeof e){if("string"==typeof e.id){var i=s=s?m.resolve(s,e.id):e.id;i=f(i);var n=this._refs[i];if("string"==typeof n&&(n=this._refs[n]),n&&n.schema){if(!v(e,n.schema))throw new Error('id "'+i+'" resolves to more than one schema')}else if(i!=f(t))if("#"==i[0]){if(a[i]&&!v(e,a[i]))throw new Error('id "'+i+'" resolves to more than one schema');a[i]=e}else this._refs[i]=t}for(var l in e)r.call(this,e[l],t+"/"+y.escapeFragment(l),s)}}var t=f(e.id),a={};return r.call(this,e,h(t,!1),t),a}var m=e("url"),v=e("./equal"),y=e("./util"),g=e("./schema_obj");r.exports=a,a.normalizeId=f,a.fullPath=h,a.url=d,a.ids=p,a.inlineRef=n,a.schema=s;var P=y.toHash(["properties","patternProperties","enum","dependencies","definitions"]),E=y.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),b=/#\/?$/},{"./equal":4,"./schema_obj":9,"./util":11,url:45}],8:[function(e,r,t){"use strict";var a=e("./_rules"),s=e("./util").toHash;r.exports=function(){var e=[{type:"number",rules:["maximum","minimum","multipleOf"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","properties"]},{rules:["$ref","enum","not","anyOf","oneOf","allOf"]}],r=["type","additionalProperties","patternProperties"],t=["additionalItems","$schema","id","title","description","default"],o=["number","integer","string","array","object","boolean","null"];return e.all=s(r),e.forEach(function(t){t.rules=t.rules.map(function(t){return r.push(t),e.all[t]={keyword:t,code:a[t]}})}),e.keywords=s(r.concat(t)),e.types=s(o),e.custom={},e}},{"./_rules":3,"./util":11}],9:[function(e,r,t){"use strict";function a(e){s.copy(e,this)}var s=e("./util");r.exports=a},{"./util":11}],10:[function(e,r,t){"use strict";r.exports=function(e){for(var r,t=0,a=e.length,s=0;s<a;)t++,r=e.charCodeAt(s++),r>=55296&&r<=56319&&s<a&&(r=e.charCodeAt(s),56320==(64512&r)&&s++);return t}},{}],11:[function(e,r,t){"use strict";function a(e,r){r=r||{};for(var t in e)r[t]=e[t];return r}function s(e,r,t){var a=t?" !== ":" === ",s=t?" || ":" && ",o=t?"!":"",i=t?"":"!";switch(e){case"null":return r+a+"null";case"array":return o+"Array.isArray("+r+")";case"object":return"("+o+r+s+"typeof "+r+a+'"object"'+s+i+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+a+'"number"'+s+i+"("+r+" % 1)"+s+r+a+r+")";default:return"typeof "+r+a+'"'+e+'"'}}function o(e,r){switch(e.length){case 1:return s(e[0],r,!0);default:var t="",a=n(e);a.array&&a.object&&(t=a.null?"(":"(!"+r+" || ",t+="typeof "+r+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer;for(var o in a)t+=(t?" && ":"")+s(o,r,!0);return t}}function i(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var s=r[a];$[s]?t[t.length]=s:"array"===e&&"array"===s&&(t[t.length]=s)}if(t.length)return t}else{if($[r])return[r];if("array"===e&&"array"===r)return["array"]}}function n(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}function l(e){return"number"==typeof e?"["+e+"]":x.test(e)?"."+e:"['"+c(e)+"']"}function c(e){return e.replace(_,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function h(e,r){r+="[^0-9]";var t=e.match(new RegExp(r,"g"));return t?t.length:0}function u(e,r,t){return r+="([^0-9])",t=t.replace(/\$/g,"$$$$"),e.replace(new RegExp(r,"g"),t+"$1")}function f(e){return e.replace(O,"").replace(R,"").replace(I,"if (!($1))")}function d(e,r){var t=e.match(A);return t&&2===t.length?r?e.replace(q,"").replace(Q,C):e.replace(k,"").replace(D,L):e}function p(e,r){for(var t in e)if(r[t])return!0}function m(e,r,t){for(var a in e)if(a!=t&&r[a])return!0}function v(e){return"'"+c(e)+"'"}function y(e,r,t,a){return E(e,t?"'/' + "+r+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'")}function g(e,r,t){return E(e,v(t?"/"+j(r):l(r)))}function P(e,r,t){var a,s,o,i;if(""===e)return"rootData";if("/"==e[0]){if(!V.test(e))throw new Error("Invalid JSON-pointer: "+e);s=e,o="rootData"}else{if(i=e.match(z),!i)throw new Error("Invalid JSON-pointer: "+e);if(a=+i[1],s=i[2],"#"==s){if(a>=r)throw new Error("Cannot access property/index "+a+" levels up, current level is "+r);return t[r-a]}if(a>r)throw new Error("Cannot access data "+a+" levels up, current level is "+r);if(o="data"+(r-a||""),!s)return o}for(var n=o,c=s.split("/"),h=0;h<c.length;h++){var u=c[h];u&&(o+=l(S(u)),n+=" && "+o)}return n}function E(e,r){return'""'==e?r:(e+" + "+r).replace(/' \+ '/g,"")}function b(e){return S(decodeURIComponent(e))}function w(e){return encodeURIComponent(j(e))}function j(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function S(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}r.exports={copy:a,checkDataType:s,checkDataTypes:o,coerceToTypes:i,toHash:n,getProperty:l,escapeQuotes:c,ucs2length:e("./ucs2length"),varOccurences:h,varReplace:u,cleanUpCode:f,cleanUpVarErrors:d,schemaHasRules:p,schemaHasRulesExcept:m,stableStringify:e("json-stable-stringify"),toQuotedString:v,getPathExpr:y,getPath:g,getData:P,unescapeFragment:b,escapeFragment:w,escapeJsonPointer:j};var $=n(["string","number","integer","boolean","null"]),x=/^[a-z$_][a-z$_0-9]*$/i,_=/'|\\/g,O=/else\s*{\s*}/g,R=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,I=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,A=/[^v\.]errors/g,k=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,q=/var errors = 0;|var vErrors = null;/g,D="return errors === 0;",L="validate.errors = null; return true;",Q=/if \(errors === 0\) return true;\s*else throw new ValidationError\(vErrors\);/,C="return true;",V=/^\/(?:[^~]|~0|~1)*$/,z=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},{"./ucs2length":10,"json-stable-stringify":48}],12:[function(e,r,t){"use strict";function a(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}r.exports=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a},{}],13:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="valid"+s;if(a+="var "+u+" = undefined;",e.opts.format===!1)return a+=" "+u+" = true; ";var f=e.schema.format,d=e.opts.v5&&f.$data,p="";if(d){var m=e.util.getData(f.$data,o,e.dataPathArr),v="format"+s,y="compare"+s;a+=" var "+v+" = formats["+m+"] , "+y+" = "+v+" && "+v+".compare;"}else{var v=e.formats[f];if(!v||!v.compare)return a+="  "+u+" = true; ";var y="formats"+e.util.getProperty(f)+".compare"}var g,P="formatMaximum"==r,E="formatExclusive"+(P?"Maximum":"Minimum"),b=e.schema[E],w=e.opts.v5&&b&&b.$data,j=P?"<":">",S="result"+s,$=e.opts.v5&&i&&i.$data;if($?(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",g="schema"+s):g=i,w){var x=e.util.getData(b.$data,o,e.dataPathArr),_="exclusive"+s,O="op"+s,R="' + "+O+" + '";a+=" var schemaExcl"+s+" = "+x+"; ",x="schemaExcl"+s,a+=" if (typeof "+x+" != 'boolean' && "+x+" !== undefined) { "+u+" = false; ";var t=E,I=I||[];I.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"_formatExclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: '"+E+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var A=a;a=I.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }  ",c&&(p+="}",a+=" else { "),$&&(a+=" if ("+g+" === undefined) "+u+" = true; else if (typeof "+g+" != 'string') "+u+" = false; else { ",p+="}"),d&&(a+=" if (!"+y+") "+u+" = true; else { ",p+="}"),a+=" var "+S+" = "+y+"("+h+",  ",a+=$?""+g:""+e.util.toQuotedString(i),a+=" ); if ("+S+" === undefined) "+u+" = false; var "+_+" = "+x+" === true; if ("+u+" === undefined) { "+u+" = "+_+" ? "+S+" "+j+" 0 : "+S+" "+j+"= 0; } if (!"+u+") var op"+s+" = "+_+" ? '"+j+"' : '"+j+"=';"}else{var _=b===!0,R=j;_||(R+="=");var O="'"+R+"'";$&&(a+=" if ("+g+" === undefined) "+u+" = true; else if (typeof "+g+" != 'string') "+u+" = false; else { ",p+="}"),d&&(a+=" if (!"+y+") "+u+" = true; else { ",p+="}"),a+=" var "+S+" = "+y+"("+h+",  ",a+=$?""+g:""+e.util.toQuotedString(i),a+=" ); if ("+S+" === undefined) "+u+" = false; if ("+u+" === undefined) "+u+" = "+S+" "+j,_||(a+="="),a+=" 0;"}a+=""+p+"if (!"+u+") { ";var t=r,I=I||[];I.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"_formatLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+O+", limit:  ",a+=$?""+g:""+e.util.toQuotedString(i),a+=" , exclusive: "+_+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be "+R+' "',a+=$?"' + "+g+" + '":""+e.util.escapeQuotes(i),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=$?"validate.schema"+n:""+e.util.toQuotedString(i),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var A=a;return a=I.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="}"}},{}],14:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,u="data"+(i||""),f=e.opts.v5&&n&&n.$data;f?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n;var d="maximum"==r,p=d?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],v=e.opts.v5&&m&&m.$data,y=d?"<":">",g=d?">":"<";if(v){var P=e.util.getData(m.$data,i,e.dataPathArr),E="exclusive"+o,b="op"+o,w="' + "+b+" + '";s+=" var schemaExcl"+o+" = "+P+"; ",P="schemaExcl"+o,s+=" var exclusive"+o+"; if (typeof "+P+" != 'boolean' && typeof "+P+" != 'undefined') { ";var t=p,j=j||[];j.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(t||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var S=s;s=j.pop(),s+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+S+"]); ":" validate.errors = ["+S+"]; return false; ":" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else if( ",f&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),s+=" ((exclusive"+o+" = "+P+" === true) ? "+u+" "+g+"= "+a+" : "+u+" "+g+" "+a+") || "+u+" !== "+u+") { var op"+o+" = exclusive"+o+" ? '"+y+"' : '"+y+"=';"}else{var E=m===!0,w=y;E||(w+="=");var b="'"+w+"'";s+=" if ( ",f&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),s+=" "+u+" "+g,E&&(s+="="),s+=" "+a+" || "+u+" !== "+u+") {"}var t=r,j=j||[];j.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(t||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+b+", limit: "+a+", exclusive: "+E+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be "+w+" ",s+=f?"' + "+a:""+n+"'"),e.opts.verbose&&(s+=" , schema:  ",s+=f?"validate.schema"+l:""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var S=s;return s=j.pop(),s+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+S+"]); ":" validate.errors = ["+S+"]; return false; ":" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",h&&(s+=" else { "),s}},{}],15:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,u="data"+(i||""),f=e.opts.v5&&n&&n.$data;f?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n;var d="maxItems"==r?">":"<";s+="if ( ",f&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),s+=" "+u+".length "+d+" "+a+") { ";var t=r,p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(t||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have ",s+="maxItems"==r?"more":"less",s+=" than ",s+=f?"' + "+a+" + '":""+n,s+=" items' "),e.opts.verbose&&(s+=" , schema:  ",s+=f?"validate.schema"+l:""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var m=s;return s=p.pop(),s+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",h&&(s+=" else { "),s}},{}],16:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,u="data"+(i||""),f=e.opts.v5&&n&&n.$data;f?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n;var d="maxLength"==r?">":"<";s+="if ( ",f&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),s+=e.opts.unicode===!1?" "+u+".length ":" ucs2length("+u+") ",s+=" "+d+" "+a+") { ";var t=r,p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(t||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be ",s+="maxLength"==r?"longer":"shorter",s+=" than ",s+=f?"' + "+a+" + '":""+n,s+=" characters' "),e.opts.verbose&&(s+=" , schema:  ",s+=f?"validate.schema"+l:""+n,
s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var m=s;return s=p.pop(),s+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",h&&(s+=" else { "),s}},{}],17:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,u="data"+(i||""),f=e.opts.v5&&n&&n.$data;f?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n;var d="maxProperties"==r?">":"<";s+="if ( ",f&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),s+=" Object.keys("+u+").length "+d+" "+a+") { ";var t=r,p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(t||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have ",s+="maxProperties"==r?"more":"less",s+=" than ",s+=f?"' + "+a+" + '":""+n,s+=" properties' "),e.opts.verbose&&(s+=" , schema:  ",s+=f?"validate.schema"+l:""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var m=s;return s=p.pop(),s+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",h&&(s+=" else { "),s}},{}],18:[function(e,r,t){"use strict";r.exports=function(e,r){var t=" ",a=e.schema[r],s=e.schemaPath+e.util.getProperty(r),o=e.errSchemaPath+"/"+r,i=!e.opts.allErrors,n=e.util.copy(e),l="";n.level++;var c="valid"+n.level,h=n.baseId,u=!0,f=a;if(f)for(var d,p=-1,m=f.length-1;p<m;)d=f[p+=1],e.util.schemaHasRules(d,e.RULES.all)&&(u=!1,n.schema=d,n.schemaPath=s+"["+p+"]",n.errSchemaPath=o+"/"+p,t+="  "+e.validate(n)+" ",n.baseId=h,i&&(t+=" if ("+c+") { ",l+="}"));return i&&(t+=u?" if (true) { ":" "+l.slice(0,-1)+" "),t=e.util.cleanUpCode(t)}},{}],19:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="valid"+s,f="errs__"+s,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level;if(i.every(function(r){return e.util.schemaHasRules(r,e.RULES.all)})){var v=d.baseId;a+=" var "+f+" = errors; var "+u+" = false;  ";var y=e.compositeRule;e.compositeRule=d.compositeRule=!0;var g=i;if(g)for(var P,E=-1,b=g.length-1;E<b;)P=g[E+=1],d.schema=P,d.schemaPath=n+"["+E+"]",d.errSchemaPath=l+"/"+E,a+="  "+e.validate(d)+" ",d.baseId=v,a+=" "+u+" = "+u+" || "+m+"; if (!"+u+") { ",p+="}";e.compositeRule=d.compositeRule=y,a+=" "+p+" if (!"+u+") {  var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(t||"anyOf")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } "),a=e.util.cleanUpCode(a)}else c&&(a+=" if (true) { ");return a}},{}],20:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="valid"+s,f=e.opts.v5&&i&&i.$data;f&&(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; "),f||(a+=" var schema"+s+" = validate.schema"+n+";"),a+="var "+u+" = equal("+h+", schema"+s+"); if (!"+u+") {   ";var d=d||[];d.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"constant")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var p=a;return a=d.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }"}},{}],21:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,u="data"+(i||""),f="valid"+o,d="errs__"+o,p=e.opts.v5&&n&&n.$data;p?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n;var m,v,y,g,P,E=this,b="definition"+o,w=E.definition;if(p&&w.$data){P="keywordValidate"+o;var j=w.validateSchema;s+=" var "+b+" = RULES.custom['"+r+"'].definition; var "+P+" = "+b+".validate;"}else g=e.useCustomRule(E,n,e.schema,e),a="validate.schema"+l,P=g.code,m=w.compile,v=w.inline,y=w.macro;var S=P+".errors",$="i"+o,x="ruleErr"+o,_=w.async;if(_&&!e.async)throw new Error("async keyword in sync schema");if(v||y||(s+=""+S+" = null;"),s+="var "+d+" = errors;var "+f+";",j&&(s+=" "+f+" = "+b+".validateSchema("+a+"); if ("+f+") {"),v)s+=w.statements?" "+g.validate+" ":" "+f+" = "+g.validate+"; ";else if(y){var O=e.util.copy(e);O.level++;var R="valid"+O.level;O.schema=g.validate,O.schemaPath="";var I=e.compositeRule;e.compositeRule=O.compositeRule=!0;var A=e.validate(O).replace(/validate\.schema/g,P);e.compositeRule=O.compositeRule=I,s+=" "+A}else{var k=k||[];k.push(s),s="",s+="  "+P+".call( ",s+=e.opts.passContext?"this":"self",s+=m||w.schema===!1?" , "+u+" ":" , "+a+" , "+u+" , validate.schema"+e.schemaPath+" ",s+=" , (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var q=i?"data"+(i-1||""):"parentData",D=i?e.dataPathArr[i]:"parentDataProperty";s+=" , "+q+" , "+D+" , rootData )  ";var L=s;s=k.pop(),w.errors===!1?(s+=" "+f+" = ",_&&(s+=""+e.yieldAwait),s+=""+L+"; "):_?(S="customErrors"+o,s+=" var "+S+" = null; try { "+f+" = "+e.yieldAwait+L+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+S+" = e.errors; else throw e; } "):s+=" "+S+" = null; "+f+" = "+L+"; "}if(w.modifying&&(s+=" "+u+" = "+q+"["+D+"];"),j&&(s+=" }"),w.valid)h&&(s+=" if (true) { ");else{s+=" if ( ",void 0===w.valid?(s+=" !",s+=y?""+R:""+f):s+=" "+!w.valid+" ",s+=") { ",t=E.keyword;var k=k||[];k.push(s),s="";var k=k||[];k.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+E.keyword+"' } ",e.opts.messages!==!1&&(s+=" , message: 'should pass \""+E.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var Q=s;s=k.pop(),s+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var C=s;s=k.pop(),v?w.errors?"full"!=w.errors&&(s+="  for (var "+$+"="+d+"; "+$+"<errors; "+$+"++) { var "+x+" = vErrors["+$+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+x+".schemaPath === undefined) { "+x+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(s+=" "+x+".schema = "+a+"; "+x+".data = "+u+"; "),s+=" } "):w.errors===!1?s+=" "+C+" ":(s+=" if ("+d+" == errors) { "+C+" } else {  for (var "+$+"="+d+"; "+$+"<errors; "+$+"++) { var "+x+" = vErrors["+$+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+x+".schemaPath === undefined) { "+x+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(s+=" "+x+".schema = "+a+"; "+x+".data = "+u+"; "),s+=" } } "):y?(s+="   var err =   ",e.createErrors!==!1?(s+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+E.keyword+"' } ",e.opts.messages!==!1&&(s+=" , message: 'should pass \""+E.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(s+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):w.errors===!1?s+=" "+C+" ":(s+=" if (Array.isArray("+S+")) { if (vErrors === null) vErrors = "+S+"; else vErrors = vErrors.concat("+S+"); errors = vErrors.length;  for (var "+$+"="+d+"; "+$+"<errors; "+$+"++) { var "+x+" = vErrors["+$+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+e.errorPath+";  "+x+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(s+=" "+x+".schema = "+a+"; "+x+".data = "+u+"; "),s+=" } } else { "+C+" } "),s+=" } ",h&&(s+=" else { ")}return s}},{}],22:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="errs__"+s,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,m={},v={};for(E in i){var y=i[E],g=Array.isArray(y)?v:m;g[E]=y}a+="var "+u+" = errors;";var P=e.errorPath;a+="var missing"+s+";";for(var E in v){if(g=v[E],a+=" if ("+h+e.util.getProperty(E)+" !== undefined ",c){a+=" && ( ";var b=g;if(b)for(var w,j=-1,S=b.length-1;j<S;){w=b[j+=1],j&&(a+=" || ");var $=e.util.getProperty(w);a+=" ( "+h+$+" === undefined && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?w:$)+") ) "}a+=")) {  ";var x="missing"+s,_="' + "+x+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,x,!0):P+" + "+x);var O=O||[];O.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"dependencies")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+_+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should have ",a+=1==g.length?"property "+e.util.escapeQuotes(g[0]):"properties "+e.util.escapeQuotes(g.join(", ")),a+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var R=a;a=O.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+R+"]); ":" validate.errors = ["+R+"]; return false; ":" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var I=g;if(I)for(var A,k=-1,q=I.length-1;k<q;){A=I[k+=1];var $=e.util.getProperty(A),_=e.util.escapeQuotes(A);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,A,e.opts.jsonPointers)),a+=" if ("+h+$+" === undefined) {  var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(t||"dependencies")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+_+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should have ",a+=1==g.length?"property "+e.util.escapeQuotes(g[0]):"properties "+e.util.escapeQuotes(g.join(", ")),a+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",c&&(d+="}",a+=" else { ")}e.errorPath=P;var D=f.baseId;for(var E in m){var y=m[E];e.util.schemaHasRules(y,e.RULES.all)&&(a+=" "+p+" = true; if ("+h+e.util.getProperty(E)+" !== undefined) { ",f.schema=y,f.schemaPath=n+e.util.getProperty(E),f.errSchemaPath=l+"/"+e.util.escapeFragment(E),a+="  "+e.validate(f)+" ",f.baseId=D,a+=" }  ",c&&(a+=" if ("+p+") { ",d+="}"))}return c&&(a+="   "+d+" if ("+u+" == errors) {"),a=e.util.cleanUpCode(a)}},{}],23:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="valid"+s,f=e.opts.v5&&i&&i.$data;f&&(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var d="i"+s,p="schema"+s;f||(a+=" var "+p+" = validate.schema"+n+";"),a+="var "+u+";",f&&(a+=" if (schema"+s+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+s+")) "+u+" = false; else {"),a+=""+u+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+h+", "+p+"["+d+"])) { "+u+" = true; break; }",f&&(a+="  }  "),a+=" if (!"+u+") {   ";var m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"enum")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+s+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var v=a;return a=m.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",c&&(a+=" else { "),a}},{}],24:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||"");if(e.opts.format===!1)return c&&(a+=" if (true) { "),a;var u,f=e.opts.v5&&i&&i.$data;f?(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",u="schema"+s):u=i;var d=e.opts.unknownFormats,p=Array.isArray(d);if(f){var m="format"+s;a+=" var "+m+" = formats["+u+"]; var isObject"+s+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; if (isObject"+s+") { ",e.async&&(a+=" var async"+s+" = "+m+".async; "),a+=" "+m+" = "+m+".validate; } if (  ",f&&(a+=" ("+u+" !== undefined && typeof "+u+" != 'string') || "),a+=" (",(d===!0||p)&&(a+=" ("+u+" && !"+m+" ",p&&(a+=" && self._opts.unknownFormats.indexOf("+u+") == -1 "),a+=") || "),a+=" ("+m+" && !(typeof "+m+" == 'function' ? ",a+=e.async?" (async"+s+" ? "+e.yieldAwait+" "+m+"("+h+") : "+m+"("+h+")) ":" "+m+"("+h+") ",a+=" : "+m+".test("+h+"))))) {"}else{var m=e.formats[i];if(!m){if(d===!0||p&&d.indexOf(i)==-1)throw new Error('unknown format "'+i+'" is used in schema at path "'+e.errSchemaPath+'"');return p||(console.warn('unknown format "'+i+'" ignored in schema at path "'+e.errSchemaPath+'"'),"ignore"!==d&&console.warn("In the next major version it will throw exception. See option unknownFormats for more information")),c&&(a+=" if (true) { "),a}var v="object"==typeof m&&!(m instanceof RegExp)&&m.validate;if(v){var y=m.async===!0;m=m.validate}if(y){if(!e.async)throw new Error("async format in sync schema");var g="formats"+e.util.getProperty(i)+".validate";a+=" if (!("+e.yieldAwait+" "+g+"("+h+"))) { "}else{a+=" if (! ";var g="formats"+e.util.getProperty(i);v&&(g+=".validate"),a+="function"==typeof m?" "+g+"("+h+") ":" "+g+".test("+h+") ",a+=") { "}}var P=P||[];P.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"format")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",a+=f?""+u:""+e.util.toQuotedString(i),a+="  } ",e.opts.messages!==!1&&(a+=" , message: 'should match format \"",a+=f?"' + "+u+" + '":""+e.util.escapeQuotes(i),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+n:""+e.util.toQuotedString(i),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var E=a;return a=P.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+E+"]); ":" validate.errors = ["+E+"]; return false; ":" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",c&&(a+=" else { "),a}},{}],25:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="valid"+s,f="errs__"+s,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,v="i"+s,y=d.dataLevel=e.dataLevel+1,g="data"+y,P=e.baseId;if(a+="var "+f+" = errors;var "+u+";",Array.isArray(i)){var E=e.schema.additionalItems;if(E===!1){a+=" "+u+" = "+h+".length <= "+i.length+"; ";var b=l;l=e.errSchemaPath+"/additionalItems",a+="  if (!"+u+") {   ";var w=w||[];w.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"additionalItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+i.length+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have more than "+i.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var j=a;a=w.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l=b,c&&(p+="}",a+=" else { ")}var S=i;if(S)for(var $,x=-1,_=S.length-1;x<_;)if($=S[x+=1],e.util.schemaHasRules($,e.RULES.all)){a+=" "+m+" = true; if ("+h+".length > "+x+") { ";var O=h+"["+x+"]";d.schema=$,d.schemaPath=n+"["+x+"]",d.errSchemaPath=l+"/"+x,d.errorPath=e.util.getPathExpr(e.errorPath,x,e.opts.jsonPointers,!0),d.dataPathArr[y]=x;var R=e.validate(d);d.baseId=P,a+=e.util.varOccurences(R,g)<2?" "+e.util.varReplace(R,g,O)+" ":" var "+g+" = "+O+"; "+R+" ",a+=" }  ",c&&(a+=" if ("+m+") { ",p+="}")}if("object"==typeof E&&e.util.schemaHasRules(E,e.RULES.all)){d.schema=E,d.schemaPath=e.schemaPath+".additionalItems",d.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+m+" = true; if ("+h+".length > "+i.length+") {  for (var "+v+" = "+i.length+"; "+v+" < "+h+".length; "+v+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var O=h+"["+v+"]";d.dataPathArr[y]=v;var R=e.validate(d);d.baseId=P,a+=e.util.varOccurences(R,g)<2?" "+e.util.varReplace(R,g,O)+" ":" var "+g+" = "+O+"; "+R+" ",c&&(a+=" if (!"+m+") break; "),a+=" } }  ",c&&(a+=" if ("+m+") { ",p+="}")}}else if(e.util.schemaHasRules(i,e.RULES.all)){d.schema=i,d.schemaPath=n,d.errSchemaPath=l,a+="  for (var "+v+" = 0; "+v+" < "+h+".length; "+v+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var O=h+"["+v+"]";d.dataPathArr[y]=v;var R=e.validate(d);d.baseId=P,a+=e.util.varOccurences(R,g)<2?" "+e.util.varReplace(R,g,O)+" ":" var "+g+" = "+O+"; "+R+" ",c&&(a+=" if (!"+m+") break; "),a+=" }  ",c&&(a+=" if ("+m+") { ",p+="}")}return c&&(a+=" "+p+" if ("+f+" == errors) {"),a=e.util.cleanUpCode(a)}},{}],26:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,u="data"+(i||""),f=e.opts.v5&&n&&n.$data;f?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n,s+="var division"+o+";if (",f&&(s+=" "+a+" !== undefined && ( typeof "+a+" != 'number' || "),s+=" (division"+o+" = "+u+" / "+a+", ",s+=e.opts.multipleOfPrecision?" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":" division"+o+" !== parseInt(division"+o+") ",s+=" ) ",f&&(s+="  )  "),s+=" ) {   ";var d=d||[];d.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(t||"multipleOf")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+a+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be multiple of ",s+=f?"' + "+a:""+n+"'"),e.opts.verbose&&(s+=" , schema:  ",s+=f?"validate.schema"+l:""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var p=s;return s=d.pop(),s+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",h&&(s+=" else { "),s}},{}],27:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="errs__"+s,f=e.util.copy(e);f.level++;var d="valid"+f.level;if(e.util.schemaHasRules(i,e.RULES.all)){f.schema=i,f.schemaPath=n,f.errSchemaPath=l,a+=" var "+u+" = errors;  ";var p=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1;var m;f.opts.allErrors&&(m=f.opts.allErrors,f.opts.allErrors=!1),a+=" "+e.validate(f)+" ",f.createErrors=!0,m&&(f.opts.allErrors=m),e.compositeRule=f.compositeRule=p,a+=" if ("+d+") {   ";var v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"not")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var y=a;a=v.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(t||"not")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ");return a}},{}],28:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="valid"+s,f="errs__"+s,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level;a+="var "+f+" = errors;var prevValid"+s+" = false;var "+u+" = false;";var v=d.baseId,y=e.compositeRule;e.compositeRule=d.compositeRule=!0;var g=i;if(g)for(var P,E=-1,b=g.length-1;E<b;)P=g[E+=1],e.util.schemaHasRules(P,e.RULES.all)?(d.schema=P,d.schemaPath=n+"["+E+"]",d.errSchemaPath=l+"/"+E,a+="  "+e.validate(d)+" ",d.baseId=v):a+=" var "+m+" = true; ",E&&(a+=" if ("+m+" && prevValid"+s+") "+u+" = false; else { ",p+="}"),a+=" if ("+m+") "+u+" = prevValid"+s+" = true;";e.compositeRule=d.compositeRule=y,a+=""+p+"if (!"+u+") {   ";var w=w||[];w.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"oneOf")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var j=a;return a=w.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a}},{}],29:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,u="data"+(i||""),f=e.opts.v5&&n&&n.$data;f?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n;var d=f?"(new RegExp("+a+"))":e.usePattern(n);s+="if ( ",f&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'string') || "),s+=" !"+d+".test("+u+") ) {   ";var p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(t||"pattern")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",s+=f?""+a:""+e.util.toQuotedString(n),s+="  } ",e.opts.messages!==!1&&(s+=" , message: 'should match pattern \"",s+=f?"' + "+a+" + '":""+e.util.escapeQuotes(n),s+="\"' "),e.opts.verbose&&(s+=" , schema:  ",s+=f?"validate.schema"+l:""+e.util.toQuotedString(n),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var m=s;return s=p.pop(),s+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",h&&(s+=" else { "),s}},{}],30:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="valid"+s,f="key"+s,d="patternMatched"+s,p="",m=e.opts.ownProperties;a+="var "+u+" = true;";var v=i;if(v)for(var y,g=-1,P=v.length-1;g<P;){y=v[g+=1],a+=" var "+d+" = false; for (var "+f+" in "+h+") {  ",m&&(a+=" if (!Object.prototype.hasOwnProperty.call("+h+", "+f+")) continue; "),a+=" "+d+" = "+e.usePattern(y)+".test("+f+"); if ("+d+") break; } ";var E=e.util.escapeQuotes(y);a+=" if (!"+d+") { "+u+" = false;  var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(t||"patternRequired")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingPattern: '"+E+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should have property matching pattern \\'"+E+"\\'' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; }   ",c&&(p+="}",a+=" else { ")}return a+=""+p}},{}],31:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="valid"+s,f="errs__"+s,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,v="key"+s,y=d.dataLevel=e.dataLevel+1,g="data"+y,P=Object.keys(i||{}),E=e.schema.patternProperties||{},b=Object.keys(E),w=e.schema.additionalProperties,j=P.length||b.length,S=w===!1,$="object"==typeof w&&Object.keys(w).length,x=e.opts.removeAdditional,_=S||$||x,O=e.opts.ownProperties,R=e.baseId,I=e.schema.required;if(I&&(!e.opts.v5||!I.$data)&&I.length<e.opts.loopRequired)var A=e.util.toHash(I);if(e.opts.v5)var k=e.schema.patternGroups||{},q=Object.keys(k);if(a+="var "+f+" = errors;var "+m+" = true;",_){if(a+=" for (var "+v+" in "+h+") {  ",O&&(a+=" if (!Object.prototype.hasOwnProperty.call("+h+", "+v+")) continue; "),j){if(a+=" var isAdditional"+s+" = !(false ",P.length)if(P.length>5)a+=" || validate.schema"+n+"["+v+"] ";else{var D=P;if(D)for(var L,Q=-1,C=D.length-1;Q<C;)L=D[Q+=1],a+=" || "+v+" == "+e.util.toQuotedString(L)+" "}if(b.length){var V=b;if(V)for(var z,U=-1,T=V.length-1;U<T;)z=V[U+=1],a+=" || "+e.usePattern(z)+".test("+v+") "}if(e.opts.v5&&q&&q.length){var M=q;if(M)for(var N,U=-1,F=M.length-1;U<F;)N=M[U+=1],a+=" || "+e.usePattern(N)+".test("+v+") "}a+=" ); if (isAdditional"+s+") { "}if("all"==x)a+=" delete "+h+"["+v+"]; ";else{var H=e.errorPath,J="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),S)if(x)a+=" delete "+h+"["+v+"]; ";else{a+=" "+m+" = false; ";var G=l;l=e.errSchemaPath+"/additionalProperties";var K=K||[];K.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"additionalProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+J+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have additional properties' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var B=a;a=K.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=G,c&&(a+=" break; ")}else if($)if("failing"==x){a+=" var "+f+" = errors;  ";var Z=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=w,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var Y=h+"["+v+"]";d.dataPathArr[y]=v;var W=e.validate(d);d.baseId=R,a+=e.util.varOccurences(W,g)<2?" "+e.util.varReplace(W,g,Y)+" ":" var "+g+" = "+Y+"; "+W+" ",a+=" if (!"+m+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+h+"["+v+"]; }  ",e.compositeRule=d.compositeRule=Z}else{d.schema=w,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var Y=h+"["+v+"]";d.dataPathArr[y]=v;var W=e.validate(d);d.baseId=R,a+=e.util.varOccurences(W,g)<2?" "+e.util.varReplace(W,g,Y)+" ":" var "+g+" = "+Y+"; "+W+" ",c&&(a+=" if (!"+m+") break; ")}e.errorPath=H}j&&(a+=" } "),a+=" }  ",c&&(a+=" if ("+m+") { ",p+="}")}var X=e.opts.useDefaults&&!e.compositeRule;if(P.length){var ee=P;if(ee)for(var L,re=-1,te=ee.length-1;re<te;){L=ee[re+=1];var ae=i[L];if(e.util.schemaHasRules(ae,e.RULES.all)){var se=e.util.getProperty(L),Y=h+se,oe=X&&void 0!==ae.default;d.schema=ae,d.schemaPath=n+se,d.errSchemaPath=l+"/"+e.util.escapeFragment(L),d.errorPath=e.util.getPath(e.errorPath,L,e.opts.jsonPointers),d.dataPathArr[y]=e.util.toQuotedString(L);var W=e.validate(d);if(d.baseId=R,e.util.varOccurences(W,g)<2){W=e.util.varReplace(W,g,Y);var ie=Y}else{var ie=g;a+=" var "+g+" = "+Y+"; "}if(oe)a+=" "+W+" ";else{if(A&&A[L]){a+=" if ("+ie+" === undefined) { "+m+" = false; ";var H=e.errorPath,G=l,ne=e.util.escapeQuotes(L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(H,L,e.opts.jsonPointers)),l=e.errSchemaPath+"/required";var K=K||[];K.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"required")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ne+"' } ",e.opts.messages!==!1&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+ne+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var B=a;a=K.pop(),
a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=G,e.errorPath=H,a+=" } else { "}else a+=c?" if ("+ie+" === undefined) { "+m+" = true; } else { ":" if ("+ie+" !== undefined) { ";a+=" "+W+" } "}}c&&(a+=" if ("+m+") { ",p+="}")}}var le=b;if(le)for(var z,ce=-1,he=le.length-1;ce<he;){z=le[ce+=1];var ae=E[z];if(e.util.schemaHasRules(ae,e.RULES.all)){d.schema=ae,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(z),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(z),a+=" for (var "+v+" in "+h+") {  ",O&&(a+=" if (!Object.prototype.hasOwnProperty.call("+h+", "+v+")) continue; "),a+=" if ("+e.usePattern(z)+".test("+v+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var Y=h+"["+v+"]";d.dataPathArr[y]=v;var W=e.validate(d);d.baseId=R,a+=e.util.varOccurences(W,g)<2?" "+e.util.varReplace(W,g,Y)+" ":" var "+g+" = "+Y+"; "+W+" ",c&&(a+=" if (!"+m+") break; "),a+=" } ",c&&(a+=" else "+m+" = true; "),a+=" }  ",c&&(a+=" if ("+m+") { ",p+="}")}}if(e.opts.v5){var ue=q;if(ue)for(var N,fe=-1,de=ue.length-1;fe<de;){N=ue[fe+=1];var pe=k[N],ae=pe.schema;if(e.util.schemaHasRules(ae,e.RULES.all)){d.schema=ae,d.schemaPath=e.schemaPath+".patternGroups"+e.util.getProperty(N)+".schema",d.errSchemaPath=e.errSchemaPath+"/patternGroups/"+e.util.escapeFragment(N)+"/schema",a+=" var pgPropCount"+s+" = 0; for (var "+v+" in "+h+") {  ",O&&(a+=" if (!Object.prototype.hasOwnProperty.call("+h+", "+v+")) continue; "),a+=" if ("+e.usePattern(N)+".test("+v+")) { pgPropCount"+s+"++; ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var Y=h+"["+v+"]";d.dataPathArr[y]=v;var W=e.validate(d);d.baseId=R,a+=e.util.varOccurences(W,g)<2?" "+e.util.varReplace(W,g,Y)+" ":" var "+g+" = "+Y+"; "+W+" ",c&&(a+=" if (!"+m+") break; "),a+=" } ",c&&(a+=" else "+m+" = true; "),a+=" }  ",c&&(a+=" if ("+m+") { ",p+="}");var me=pe.minimum,ve=pe.maximum;if(void 0!==me||void 0!==ve){a+=" var "+u+" = true; ";var G=l;if(void 0!==me){var ye=me,ge="minimum",Pe="less";a+=" "+u+" = pgPropCount"+s+" >= "+me+"; ",l=e.errSchemaPath+"/patternGroups/minimum",a+="  if (!"+u+") {   ";var K=K||[];K.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"patternGroups")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { reason: '"+ge+"', limit: "+ye+", pattern: '"+e.util.escapeQuotes(N)+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have "+Pe+" than "+ye+' properties matching pattern "'+e.util.escapeQuotes(N)+"\"' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var B=a;a=K.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",void 0!==ve&&(a+=" else ")}if(void 0!==ve){var ye=ve,ge="maximum",Pe="more";a+=" "+u+" = pgPropCount"+s+" <= "+ve+"; ",l=e.errSchemaPath+"/patternGroups/maximum",a+="  if (!"+u+") {   ";var K=K||[];K.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"patternGroups")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { reason: '"+ge+"', limit: "+ye+", pattern: '"+e.util.escapeQuotes(N)+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have "+Pe+" than "+ye+' properties matching pattern "'+e.util.escapeQuotes(N)+"\"' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var B=a;a=K.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}l=G,c&&(a+=" if ("+u+") { ",p+="}")}}}}return c&&(a+=" "+p+" if ("+f+" == errors) {"),a=e.util.cleanUpCode(a)}},{}],32:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a,s,o=" ",i=e.level,n=e.dataLevel,l=e.schema[r],c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,u="data"+(n||""),f="valid"+i;if("#"==l||"#/"==l)e.isRoot?(a=e.async,s="validate"):(a=e.root.schema.$async===!0,s="root.refVal[0]");else{var d=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===d){var p="can't resolve reference "+l+" from id "+e.baseId;if("fail"==e.opts.missingRefs){console.log(p);var m=m||[];m.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(t||"$ref")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",e.opts.messages!==!1&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),o+=" } "):o+=" {} ";var v=o;o=m.pop(),o+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs){var y=new Error(p);throw y.missingRef=e.resolve.url(e.baseId,l),y.missingSchema=e.resolve.normalizeId(e.resolve.fullPath(y.missingRef)),y}console.log(p),h&&(o+=" if (true) { ")}}else if(d.inline){var g=e.util.copy(e);g.level++;var P="valid"+g.level;g.schema=d.schema,g.schemaPath="",g.errSchemaPath=l;var E=e.validate(g).replace(/validate\.schema/g,d.code);o+=" "+E+" ",h&&(o+=" if ("+P+") { ")}else a=d.$async===!0,s=d.code}if(s){var m=m||[];m.push(o),o="",o+=e.opts.passContext?" "+s+".call(this, ":" "+s+"( ",o+=" "+u+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);o+=" , "+(n?"data"+(n-1||""):"parentData")+" , "+(n?e.dataPathArr[n]:"parentDataProperty")+", rootData)  ";var b=o;if(o=m.pop(),a){if(!e.async)throw new Error("async schema referenced by sync schema");o+=" try { ",h&&(o+="var "+f+" ="),o+=" "+e.yieldAwait+" "+b+"; } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; } ",h&&(o+=" if ("+f+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+s+".errors; else vErrors = vErrors.concat("+s+".errors); errors = vErrors.length; } ",h&&(o+=" else { ")}return o}},{}],33:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="valid"+s,f=e.opts.v5&&i&&i.$data;f&&(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var d="schema"+s;if(!f)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=i;if(m)for(var v,y=-1,g=m.length-1;y<g;){v=m[y+=1];var P=e.schema.properties[v];P&&e.util.schemaHasRules(P,e.RULES.all)||(p[p.length]=v)}}else var p=i;if(f||p.length){var E=e.errorPath,b=f||p.length>=e.opts.loopRequired;if(c)if(a+=" var missing"+s+"; ",b){f||(a+=" var "+d+" = validate.schema"+n+"; ");var w="i"+s,j="schema"+s+"["+w+"]",S="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(E,j,e.opts.jsonPointers)),a+=" var "+u+" = true; ",f&&(a+=" if (schema"+s+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+s+")) "+u+" = false; else {"),a+=" for (var "+w+" = 0; "+w+" < "+d+".length; "+w+"++) { "+u+" = "+h+"["+d+"["+w+"]] !== undefined; if (!"+u+") break; } ",f&&(a+="  }  "),a+="  if (!"+u+") {   ";var $=$||[];$.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"required")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+S+"' } ",e.opts.messages!==!1&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var x=a;a=$.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var _=p;if(_)for(var O,w=-1,R=_.length-1;w<R;){O=_[w+=1],w&&(a+=" || ");var I=e.util.getProperty(O);a+=" ( "+h+I+" === undefined && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:I)+") ) "}a+=") {  ";var j="missing"+s,S="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(E,j,!0):E+" + "+j);var $=$||[];$.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"required")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+S+"' } ",e.opts.messages!==!1&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var x=a;a=$.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(b){f||(a+=" var "+d+" = validate.schema"+n+"; ");var w="i"+s,j="schema"+s+"["+w+"]",S="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(E,j,e.opts.jsonPointers)),f&&(a+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(t||"required")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+S+"' } ",e.opts.messages!==!1&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),a+=" for (var "+w+" = 0; "+w+" < "+d+".length; "+w+"++) { if ("+h+"["+d+"["+w+"]] === undefined) {  var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(t||"required")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+S+"' } ",e.opts.messages!==!1&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(a+="  }  ")}else{var A=p;if(A)for(var k,q=-1,D=A.length-1;q<D;){k=A[q+=1];var I=e.util.getProperty(k),S=e.util.escapeQuotes(k);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(E,k,e.opts.jsonPointers)),a+=" if ("+h+I+" === undefined) {  var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(t||"required")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+S+"' } ",e.opts.messages!==!1&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=E}else c&&(a+=" if (true) {");return a}},{}],34:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(o||""),u="valid"+s,f="errs__"+s,d=e.util.copy(e),p="";d.level++;var m,v="valid"+d.level,y="ifPassed"+e.level,g=d.baseId;a+="var "+y+";";var P=i;if(P)for(var E,b=-1,w=P.length-1;b<w;){if(E=P[b+=1],b&&!m&&(a+=" if (!"+y+") { ",p+="}"),E.if&&e.util.schemaHasRules(E.if,e.RULES.all)){a+=" var "+f+" = errors;   ";var j=e.compositeRule;if(e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.schema=E.if,d.schemaPath=n+"["+b+"].if",d.errSchemaPath=l+"/"+b+"/if",a+="  "+e.validate(d)+" ",d.baseId=g,d.createErrors=!0,e.compositeRule=d.compositeRule=j,a+=" "+y+" = "+v+"; if ("+y+") {  ","boolean"==typeof E.then){if(E.then===!1){var S=S||[];S.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"switch")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { caseIndex: "+b+" } ",e.opts.messages!==!1&&(a+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var $=a;a=S.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+$+"]); ":" validate.errors = ["+$+"]; return false; ":" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" var "+v+" = "+E.then+"; "}else d.schema=E.then,d.schemaPath=n+"["+b+"].then",d.errSchemaPath=l+"/"+b+"/then",a+="  "+e.validate(d)+" ",d.baseId=g;a+="  } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } } "}else if(a+=" "+y+" = true;  ","boolean"==typeof E.then){if(E.then===!1){var S=S||[];S.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"switch")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { caseIndex: "+b+" } ",e.opts.messages!==!1&&(a+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var $=a;a=S.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+$+"]); ":" validate.errors = ["+$+"]; return false; ":" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" var "+v+" = "+E.then+"; "}else d.schema=E.then,d.schemaPath=n+"["+b+"].then",d.errSchemaPath=l+"/"+b+"/then",a+="  "+e.validate(d)+" ",d.baseId=g;m=E.continue}return a+=""+p+"var "+u+" = "+v+"; ",a=e.util.cleanUpCode(a)}},{}],35:[function(e,r,t){"use strict";r.exports=function(e,r){var t,a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,u="data"+(i||""),f="valid"+o,d=e.opts.v5&&n&&n.$data;if(d?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n,(n||d)&&e.opts.uniqueItems!==!1){d&&(s+=" var "+f+"; if ("+a+" === false || "+a+" === undefined) "+f+" = true; else if (typeof "+a+" != 'boolean') "+f+" = false; else { "),s+=" var "+f+" = true; if ("+u+".length > 1) { var i = "+u+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+u+"[i], "+u+"[j])) { "+f+" = false; break outer; } } } } ",d&&(s+="  }  "),s+=" if (!"+f+") {   ";var p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(t||"uniqueItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(s+=" , schema:  ",s+=d?"validate.schema"+l:""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var m=s;s=p.pop(),s+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",h&&(s+=" else { ")}else h&&(s+=" if (true) { ");return s}},{}],36:[function(e,r,t){"use strict";r.exports=function(e,r){function t(e){for(var r=0;r<e.rules.length;r++)if(a(e.rules[r]))return!0}function a(r){return void 0!==e.schema[r.keyword]||"properties"==r.keyword&&(e.schema.additionalProperties===!1||"object"==typeof e.schema.additionalProperties||e.schema.patternProperties&&Object.keys(e.schema.patternProperties).length||e.opts.v5&&e.schema.patternGroups&&Object.keys(e.schema.patternGroups).length)}var s="",o=e.schema.$async===!0;if(e.isTop){var i=e.isTop,n=e.level=0,l=e.dataLevel=0,c="data";if(e.rootId=e.resolve.fullPath(e.root.schema.id),e.baseId=e.baseId||e.rootId,o){e.async=!0;var h="es7"==e.opts.async;e.yieldAwait=h?"await":"yield"}delete e.isTop,e.dataPathArr=[void 0],s+=" var validate = ",o?h?s+=" (async function ":("co*"==e.opts.async&&(s+="co.wrap"),s+="(function* "):s+=" (function ",s+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; var vErrors = null; ",s+=" var errors = 0;     ",s+=" if (rootData === undefined) rootData = data;"}else{var n=e.level,l=e.dataLevel,c="data"+(l||"");if(e.schema.id&&(e.baseId=e.resolve.url(e.baseId,e.schema.id)),o&&!e.async)throw new Error("async schema in sync schema");s+=" var errs_"+n+" = errors;"}var u,f="valid"+n,d=!e.opts.allErrors,p="",m="",v=e.schema.type,y=Array.isArray(v);if(v&&e.opts.coerceTypes){var g=e.util.coerceToTypes(e.opts.coerceTypes,v);if(g){var P=e.schemaPath+".type",E=e.errSchemaPath+"/type",b=y?"checkDataTypes":"checkDataType";s+=" if ("+e.util[b](v,c,!0)+") {  ";var w="dataType"+n,j="coerced"+n;s+=" var "+w+" = typeof "+c+"; ","array"==e.opts.coerceTypes&&(s+=" if ("+w+" == 'object' && Array.isArray("+c+")) "+w+" = 'array'; "),s+=" var "+j+" = undefined; ";var S="",$=g;if($)for(var x,_=-1,O=$.length-1;_<O;)x=$[_+=1],_&&(s+=" if ("+j+" === undefined) { ",S+="}"),"array"==e.opts.coerceTypes&&"array"!=x&&(s+=" if ("+w+" == 'array' && "+c+".length == 1) { "+j+" = "+c+" = "+c+"[0]; "+w+" = typeof "+c+";  } "),"string"==x?s+=" if ("+w+" == 'number' || "+w+" == 'boolean') "+j+" = '' + "+c+"; else if ("+c+" === null) "+j+" = ''; ":"number"==x||"integer"==x?(s+=" if ("+w+" == 'boolean' || "+c+" === null || ("+w+" == 'string' && "+c+" && "+c+" == +"+c+" ","integer"==x&&(s+=" && !("+c+" % 1)"),s+=")) "+j+" = +"+c+"; "):"boolean"==x?s+=" if ("+c+" === 'false' || "+c+" === 0 || "+c+" === null) "+j+" = false; else if ("+c+" === 'true' || "+c+" === 1) "+j+" = true; ":"null"==x?s+=" if ("+c+" === '' || "+c+" === 0 || "+c+" === false) "+j+" = null; ":"array"==e.opts.coerceTypes&&"array"==x&&(s+=" if ("+w+" == 'string' || "+w+" == 'number' || "+w+" == 'boolean' || "+c+" == null) "+j+" = ["+c+"]; ");s+=" "+S+" if ("+j+" === undefined) {   ";var R=R||[];R.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(u||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { type: '",s+=y?""+v.join(","):""+v,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",s+=y?""+v.join(","):""+v,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),s+=" } "):s+=" {} ";var I=s;s=R.pop(),s+=!e.compositeRule&&d?e.async?" throw new ValidationError(["+I+"]); ":" validate.errors = ["+I+"]; return false; ":" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else {  ";var A=l?"data"+(l-1||""):"parentData",k=l?e.dataPathArr[l]:"parentDataProperty";s+=" "+c+" = "+j+"; ",l||(s+="if ("+A+" !== undefined)"),s+=" "+A+"["+k+"] = "+j+"; } } "}}var q;if(e.schema.$ref&&(q=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"))){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'"');"ignore"==e.opts.extendRefs?(q=!1,console.log('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"')):e.opts.extendRefs!==!0&&console.log('$ref: all keywords used in schema at path "'+e.errSchemaPath+'". It will change in the next major version, see issue #260. Use option { extendRefs: true } to keep current behaviour')}if(e.schema.$ref&&!q)s+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",d&&(s+=" } if (errors === ",s+=i?"0":"errs_"+n,s+=") { ",m+="}");else{var D=e.RULES;if(D)for(var L,Q=-1,C=D.length-1;Q<C;)if(L=D[Q+=1],t(L)){if(L.type&&(s+=" if ("+e.util.checkDataType(L.type,c)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==L.type&&e.schema.properties){var V=e.schema.properties,z=Object.keys(V),U=z;if(U)for(var T,M=-1,N=U.length-1;M<N;){T=U[M+=1];var F=V[T];if(void 0!==F.default){var H=c+e.util.getProperty(T);s+="  if ("+H+" === undefined) "+H+" = ",s+="shared"==e.opts.useDefaults?" "+e.useDefault(F.default)+" ":" "+JSON.stringify(F.default)+" ",s+="; "}}}else if("array"==L.type&&Array.isArray(e.schema.items)){var J=e.schema.items;if(J)for(var F,_=-1,G=J.length-1;_<G;)if(F=J[_+=1],void 0!==F.default){var H=c+"["+_+"]";s+="  if ("+H+" === undefined) "+H+" = ",s+="shared"==e.opts.useDefaults?" "+e.useDefault(F.default)+" ":" "+JSON.stringify(F.default)+" ",s+="; "}}var K=L.rules;if(K)for(var B,Z=-1,Y=K.length-1;Z<Y;)B=K[Z+=1],a(B)&&(s+=" "+B.code(e,B.keyword)+" ",d&&(p+="}"));if(d&&(s+=" "+p+" ",p=""),L.type&&(s+=" } ",v&&v===L.type)){var W=!0;s+=" else { ";var P=e.schemaPath+".type",E=e.errSchemaPath+"/type",R=R||[];R.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(u||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { type: '",s+=y?""+v.join(","):""+v,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",s+=y?""+v.join(","):""+v,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),s+=" } "):s+=" {} ";var I=s;s=R.pop(),s+=!e.compositeRule&&d?e.async?" throw new ValidationError(["+I+"]); ":" validate.errors = ["+I+"]; return false; ":" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } "}d&&(s+=" if (errors === ",s+=i?"0":"errs_"+n,s+=") { ",m+="}")}}if(v&&!W&&(!e.opts.coerceTypes||!g)){var P=e.schemaPath+".type",E=e.errSchemaPath+"/type",b=y?"checkDataTypes":"checkDataType";s+=" if ("+e.util[b](v,c,!0)+") {   ";var R=R||[];R.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(u||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { type: '",s+=y?""+v.join(","):""+v,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",s+=y?""+v.join(","):""+v,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),s+=" } "):s+=" {} ";var I=s;s=R.pop(),s+=!e.compositeRule&&d?e.async?" throw new ValidationError(["+I+"]); ":" validate.errors = ["+I+"]; return false; ":" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }"}return d&&(s+=" "+m+" "),i?(o?(s+=" if (errors === 0) return true;           ",s+=" else throw new ValidationError(vErrors); "):(s+=" validate.errors = vErrors; ",s+=" return errors === 0;       "),s+=" }); return validate;"):s+=" var "+f+" = errors === errs_"+n+";",s=e.util.cleanUpCode(s),i&&d&&(s=e.util.cleanUpVarErrors(s,o)),s}},{}],37:[function(e,r,t){"use strict";function a(e,r){function t(e,r,t){for(var a,o=0;o<s.length;o++){var i=s[o];if(i.type==r){a=i;break}}a||(a={type:r,rules:[]},s.push(a));var l={keyword:e,definition:t,custom:!0,code:n};a.rules.push(l),s.custom[e]=l}function a(e){if(!s.types[e])throw new Error("Unknown type "+e)}var s=this.RULES;if(s.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!i.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(r){if(r.macro&&void 0!==r.valid)throw new Error('"valid" option cannot be used with macro keywords');var o=r.type;if(Array.isArray(o)){var l,c=o.length;for(l=0;l<c;l++)a(o[l]);for(l=0;l<c;l++)t(e,o[l],r)}else o&&a(o),t(e,o,r);var h=r.$data===!0&&this._opts.v5;if(h&&!r.validate)throw new Error('$data support: "validate" function is not defined');var u=r.metaSchema;u&&(h&&(u={anyOf:[u,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json#/definitions/$data"}]}),r.validateSchema=this.compile(u,!0))}s.keywords[e]=s.all[e]=!0}function s(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1}function o(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var a=r[t].rules,s=0;s<a.length;s++)if(a[s].keyword==e){a.splice(s,1);break}}var i=/^[a-z_$][a-z0-9_$\-]*$/i,n=e("./dotjs/custom");r.exports={add:a,get:s,remove:o}},{"./dotjs/custom":21}],38:[function(e,r,t){r.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},{}],39:[function(e,r,t){r.exports={id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema (v5 proposals)",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0},$data:{type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{anyOf:[{type:"number",minimum:0,exclusiveMinimum:!0},{$ref:"#/definitions/$data"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/$data"}]},exclusiveMaximum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/$data"}]},exclusiveMinimum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},maxLength:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minLength:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},pattern:{anyOf:[{type:"string",format:"regex"},{$ref:"#/definitions/$data"}]},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"},{$ref:"#/definitions/$data"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minItems:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},uniqueItems:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},maxProperties:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minProperties:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},required:{anyOf:[{$ref:"#/definitions/stringArray"},{$ref:"#/definitions/$data"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"},{$ref:"#/definitions/$data"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/$data"}]},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"},format:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatMaximum:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatMinimum:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatExclusiveMaximum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},formatExclusiveMinimum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},constant:{anyOf:[{},{$ref:"#/definitions/$data"}]},contains:{$ref:"#"},patternGroups:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minimum:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},schema:{$ref:"#"}},additionalProperties:!1},default:{}},switch:{type:"array",items:{required:["then"],properties:{if:{$ref:"#"},then:{anyOf:[{type:"boolean"},{$ref:"#"}]},continue:{type:"boolean"}},additionalProperties:!1,dependencies:{continue:["if"]}}}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"],formatMaximum:["format"],formatMinimum:["format"],formatExclusiveMaximum:["formatMaximum"],formatExclusiveMinimum:["formatMinimum"]},default:{}}},{}],40:[function(e,r,t){"use strict";function a(r){function t(e,t,s){var o={inline:s||a[e],statements:!0,errors:"full"};t&&(o.type=t),r.addKeyword(e,o)}var a={switch:e("./dotjs/switch"),constant:e("./dotjs/constant"),_formatLimit:e("./dotjs/_formatLimit"),patternRequired:e("./dotjs/patternRequired")};if(r._opts.meta!==!1){r.addMetaSchema(e("./refs/json-schema-v5.json"),o)}t("constant"),r.addKeyword("contains",{type:"array",macro:s}),
t("formatMaximum","string",a._formatLimit),t("formatMinimum","string",a._formatLimit),r.addKeyword("formatExclusiveMaximum"),r.addKeyword("formatExclusiveMinimum"),r.addKeyword("patternGroups"),t("patternRequired","object"),t("switch")}function s(e){return{not:{items:{not:e}}}}var o="https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json";r.exports={enable:a,META_SCHEMA_ID:o}},{"./dotjs/_formatLimit":13,"./dotjs/constant":20,"./dotjs/patternRequired":30,"./dotjs/switch":34,"./refs/json-schema-v5.json":39}],41:[function(r,t,a){(function(r){!function(s){function o(e){throw new RangeError(D[e])}function i(e,r){for(var t=e.length,a=[];t--;)a[t]=r(e[t]);return a}function n(e,r){var t=e.split("@"),a="";return t.length>1&&(a=t[0]+"@",e=t[1]),e=e.replace(q,"."),a+i(e.split("."),r).join(".")}function l(e){for(var r,t,a=[],s=0,o=e.length;s<o;)r=e.charCodeAt(s++),r>=55296&&r<=56319&&s<o?(t=e.charCodeAt(s++),56320==(64512&t)?a.push(((1023&r)<<10)+(1023&t)+65536):(a.push(r),s--)):a.push(r);return a}function c(e){return i(e,function(e){var r="";return e>65535&&(e-=65536,r+=C(e>>>10&1023|55296),e=56320|1023&e),r+=C(e)}).join("")}function h(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:j}function u(e,r){return e+22+75*(e<26)-((0!=r)<<5)}function f(e,r,t){var a=0;for(e=t?Q(e/_):e>>1,e+=Q(e/r);e>L*$>>1;a+=j)e=Q(e/L);return Q(a+(L+1)*e/(e+x))}function d(e){var r,t,a,s,i,n,l,u,d,p,m=[],v=e.length,y=0,g=R,P=O;for(t=e.lastIndexOf(I),t<0&&(t=0),a=0;a<t;++a)e.charCodeAt(a)>=128&&o("not-basic"),m.push(e.charCodeAt(a));for(s=t>0?t+1:0;s<v;){for(i=y,n=1,l=j;s>=v&&o("invalid-input"),u=h(e.charCodeAt(s++)),(u>=j||u>Q((w-y)/n))&&o("overflow"),y+=u*n,d=l<=P?S:l>=P+$?$:l-P,!(u<d);l+=j)p=j-d,n>Q(w/p)&&o("overflow"),n*=p;r=m.length+1,P=f(y-i,r,0==i),Q(y/r)>w-g&&o("overflow"),g+=Q(y/r),y%=r,m.splice(y++,0,g)}return c(m)}function p(e){var r,t,a,s,i,n,c,h,d,p,m,v,y,g,P,E=[];for(e=l(e),v=e.length,r=R,t=0,i=O,n=0;n<v;++n)m=e[n],m<128&&E.push(C(m));for(a=s=E.length,s&&E.push(I);a<v;){for(c=w,n=0;n<v;++n)m=e[n],m>=r&&m<c&&(c=m);for(y=a+1,c-r>Q((w-t)/y)&&o("overflow"),t+=(c-r)*y,r=c,n=0;n<v;++n)if(m=e[n],m<r&&++t>w&&o("overflow"),m==r){for(h=t,d=j;p=d<=i?S:d>=i+$?$:d-i,!(h<p);d+=j)P=h-p,g=j-p,E.push(C(u(p+P%g,0))),h=Q(P/g);E.push(C(u(h,0))),i=f(t,y,a==s),t=0,++a}++t,++r}return E.join("")}function m(e){return n(e,function(e){return A.test(e)?d(e.slice(4).toLowerCase()):e})}function v(e){return n(e,function(e){return k.test(e)?"xn--"+p(e):e})}var y="object"==typeof a&&a&&!a.nodeType&&a,g="object"==typeof t&&t&&!t.nodeType&&t,P="object"==typeof r&&r;P.global!==P&&P.window!==P&&P.self!==P||(s=P);var E,b,w=2147483647,j=36,S=1,$=26,x=38,_=700,O=72,R=128,I="-",A=/^xn--/,k=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=j-S,Q=Math.floor,C=String.fromCharCode;if(E={version:"1.4.1",ucs2:{decode:l,encode:c},decode:d,encode:p,toASCII:v,toUnicode:m},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return E});else if(y&&g)if(t.exports==y)g.exports=E;else for(b in E)E.hasOwnProperty(b)&&(y[b]=E[b]);else s.punycode=E}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,r,t){"use strict";function a(e,r){return Object.prototype.hasOwnProperty.call(e,r)}r.exports=function(e,r,t,o){r=r||"&",t=t||"=";var i={};if("string"!=typeof e||0===e.length)return i;var n=/\+/g;e=e.split(r);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var h=0;h<c;++h){var u,f,d,p,m=e[h].replace(n,"%20"),v=m.indexOf(t);v>=0?(u=m.substr(0,v),f=m.substr(v+1)):(u=m,f=""),d=decodeURIComponent(u),p=decodeURIComponent(f),a(i,d)?s(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],43:[function(e,r,t){"use strict";function a(e,r){if(e.map)return e.map(r);for(var t=[],a=0;a<e.length;a++)t.push(r(e[a],a));return t}var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};r.exports=function(e,r,t,n){return r=r||"&",t=t||"=",null===e&&(e=void 0),"object"==typeof e?a(i(e),function(i){var n=encodeURIComponent(s(i))+t;return o(e[i])?a(e[i],function(e){return n+encodeURIComponent(s(e))}).join(r):n+encodeURIComponent(s(e[i]))}).join(r):n?encodeURIComponent(s(n))+t+encodeURIComponent(s(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var r=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}},{}],44:[function(e,r,t){"use strict";t.decode=t.parse=e("./decode"),t.encode=t.stringify=e("./encode")},{"./decode":42,"./encode":43}],45:[function(e,r,t){"use strict";function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function s(e,r,t){if(e&&c.isObject(e)&&e instanceof a)return e;var s=new a;return s.parse(e,r,t),s}function o(e){return c.isString(e)&&(e=s(e)),e instanceof a?e.format():a.prototype.format.call(e)}function i(e,r){return s(e,!1,!0).resolve(r)}function n(e,r){return e?s(e,!1,!0).resolveObject(r):r}var l=e("punycode"),c=e("./util");t.parse=s,t.resolve=i,t.resolveObject=n,t.format=o,t.Url=a;var h=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(d),m=["'"].concat(p),v=["%","/","?",";","#"].concat(m),y=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,P=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=e("querystring");a.prototype.parse=function(e,r,t){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=a!==-1&&a<e.indexOf("#")?"?":"#",o=e.split(s);o[0]=o[0].replace(/\\/g,"/"),e=o.join(s);var i=e;if(i=i.trim(),!t&&1===e.split("#").length){var n=f.exec(i);if(n)return this.path=i,this.href=i,this.pathname=n[1],n[2]?(this.search=n[2],this.query=r?j.parse(this.search.substr(1)):this.search.substr(1)):r&&(this.search="",this.query={}),this}var u=h.exec(i);if(u){u=u[0];var d=u.toLowerCase();this.protocol=d,i=i.substr(u.length)}if(t||u||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===i.substr(0,2);!p||u&&b[u]||(i=i.substr(2),this.slashes=!0)}if(!b[u]&&(p||u&&!w[u])){for(var S=-1,$=0;$<y.length;$++){var x=i.indexOf(y[$]);x!==-1&&(S===-1||x<S)&&(S=x)}var _,O;O=S===-1?i.lastIndexOf("@"):i.lastIndexOf("@",S),O!==-1&&(_=i.slice(0,O),i=i.slice(O+1),this.auth=decodeURIComponent(_)),S=-1;for(var $=0;$<v.length;$++){var x=i.indexOf(v[$]);x!==-1&&(S===-1||x<S)&&(S=x)}S===-1&&(S=i.length),this.host=i.slice(0,S),i=i.slice(S),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var I=this.hostname.split(/\./),$=0,A=I.length;$<A;$++){var k=I[$];if(k&&!k.match(g)){for(var q="",D=0,L=k.length;D<L;D++)q+=k.charCodeAt(D)>127?"x":k[D];if(!q.match(g)){var Q=I.slice(0,$),C=I.slice($+1),V=k.match(P);V&&(Q.push(V[1]),C.unshift(V[2])),C.length&&(i="/"+C.join(".")+i),this.hostname=Q.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),R||(this.hostname=l.toASCII(this.hostname));var z=this.port?":"+this.port:"";this.host=(this.hostname||"")+z,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!E[d])for(var $=0,A=m.length;$<A;$++){var U=m[$];if(i.indexOf(U)!==-1){var T=encodeURIComponent(U);T===U&&(T=escape(U)),i=i.split(U).join(T)}}var M=i.indexOf("#");M!==-1&&(this.hash=i.substr(M),i=i.slice(0,M));var N=i.indexOf("?");if(N!==-1?(this.search=i.substr(N),this.query=i.substr(N+1),r&&(this.query=j.parse(this.query)),i=i.slice(0,N)):r&&(this.search="",this.query={}),i&&(this.pathname=i),w[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"";this.path=z+(this.search||"")}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var r=this.protocol||"",t=this.pathname||"",a=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(o=j.stringify(this.query));var i=this.search||o&&"?"+o||"";return r&&":"!==r.substr(-1)&&(r+=":"),this.slashes||(!r||w[r])&&s!==!1?(s="//"+(s||""),t&&"/"!==t.charAt(0)&&(t="/"+t)):s||(s=""),a&&"#"!==a.charAt(0)&&(a="#"+a),i&&"?"!==i.charAt(0)&&(i="?"+i),t=t.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),r+s+t+i+a},a.prototype.resolve=function(e){return this.resolveObject(s(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(c.isString(e)){var r=new a;r.parse(e,!1,!0),e=r}for(var t=new a,s=Object.keys(this),o=0;o<s.length;o++){var i=s[o];t[i]=this[i]}if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var n=Object.keys(e),l=0;l<n.length;l++){var h=n[l];"protocol"!==h&&(t[h]=e[h])}return w[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!w[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var d=u[f];t[d]=e[d]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||b[e.protocol])t.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),t.pathname=p.join("/")}return t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(t.path=(t.pathname||"")+(t.search||"")),t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var m=t.pathname&&"/"===t.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=v||m||t.host&&e.pathname,g=y,P=t.pathname&&t.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],E=t.protocol&&!w[t.protocol];if(E&&(t.hostname="",t.port=null,t.host&&(""===P[0]?P[0]=t.host:P.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),y=y&&(""===p[0]||""===P[0])),v)t.host=e.host||""===e.host?e.host:t.host,t.hostname=e.hostname||""===e.hostname?e.hostname:t.hostname,t.search=e.search,t.query=e.query,P=p;else if(p.length)P||(P=[]),P.pop(),P=P.concat(p),t.search=e.search,t.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(E){t.hostname=t.host=P.shift();var j=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@");j&&(t.auth=j.shift(),t.host=t.hostname=j.shift())}return t.search=e.search,t.query=e.query,c.isNull(t.pathname)&&c.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!P.length)return t.pathname=null,t.path=t.search?"/"+t.search:null,t.href=t.format(),t;for(var S=P.slice(-1)[0],$=(t.host||e.host||P.length>1)&&("."===S||".."===S)||""===S,x=0,_=P.length;_>=0;_--)S=P[_],"."===S?P.splice(_,1):".."===S?(P.splice(_,1),x++):x&&(P.splice(_,1),x--);if(!y&&!g)for(;x--;x)P.unshift("..");!y||""===P[0]||P[0]&&"/"===P[0].charAt(0)||P.unshift(""),$&&"/"!==P.join("/").substr(-1)&&P.push("");var O=""===P[0]||P[0]&&"/"===P[0].charAt(0);if(E){t.hostname=t.host=O?"":P.length?P.shift():"";var j=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@");j&&(t.auth=j.shift(),t.host=t.hostname=j.shift())}return y=y||t.host&&P.length,y&&!O&&P.unshift(""),P.length?t.pathname=P.join("/"):(t.pathname=null,t.path=null),c.isNull(t.pathname)&&c.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},a.prototype.parseHost=function(){var e=this.host,r=u.exec(e);r&&(r=r[0],":"!==r&&(this.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(this.hostname=e)}},{"./util":46,punycode:41,querystring:44}],46:[function(e,r,t){"use strict";r.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],47:[function(e,r,t){function a(e){var r=this,t=f.call(arguments,1);return new Promise(function(a,o){function i(r){var t;try{t=e.next(r)}catch(e){return o(e)}c(t)}function n(r){var t;try{t=e.throw(r)}catch(e){return o(e)}c(t)}function c(e){if(e.done)return a(e.value);var t=s.call(r,e.value);return t&&l(t)?t.then(i,n):n(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}if("function"==typeof e&&(e=e.apply(r,t)),!e||"function"!=typeof e.next)return a(e);i()})}function s(e){return e?l(e)?e:h(e)||c(e)?a.call(this,e):"function"==typeof e?o.call(this,e):Array.isArray(e)?i.call(this,e):u(e)?n.call(this,e):e:e}function o(e){var r=this;return new Promise(function(t,a){e.call(r,function(e,r){if(e)return a(e);arguments.length>2&&(r=f.call(arguments,1)),t(r)})})}function i(e){return Promise.all(e.map(s,this))}function n(e){function r(e,r){t[r]=void 0,o.push(e.then(function(e){t[r]=e}))}for(var t=new e.constructor,a=Object.keys(e),o=[],i=0;i<a.length;i++){var n=a[i],c=s.call(this,e[n]);c&&l(c)?r(c,n):t[n]=e[n]}return Promise.all(o).then(function(){return t})}function l(e){return"function"==typeof e.then}function c(e){return"function"==typeof e.next&&"function"==typeof e.throw}function h(e){var r=e.constructor;return!!r&&("GeneratorFunction"===r.name||"GeneratorFunction"===r.displayName||c(r.prototype))}function u(e){return Object==e.constructor}var f=Array.prototype.slice;r.exports=a.default=a.co=a,a.wrap=function(e){function r(){return a.call(this,e.apply(this,arguments))}return r.__generatorFunction__=e,r}},{}],48:[function(e,r,t){var a="undefined"!=typeof JSON?JSON:e("jsonify");r.exports=function(e,r){r||(r={}),"function"==typeof r&&(r={cmp:r});var t=r.space||"";"number"==typeof t&&(t=Array(t+1).join(" "));var i="boolean"==typeof r.cycles&&r.cycles,n=r.replacer||function(e,r){return r},l=r.cmp&&function(e){return function(r){return function(t,a){return e({key:t,value:r[t]},{key:a,value:r[a]})}}}(r.cmp),c=[];return function e(r,h,u,f){var d=t?"\n"+new Array(f+1).join(t):"",p=t?": ":":";if(u&&u.toJSON&&"function"==typeof u.toJSON&&(u=u.toJSON()),u=n.call(r,h,u),void 0!==u){if("object"!=typeof u||null===u)return a.stringify(u);if(s(u)){for(var m=[],v=0;v<u.length;v++){m.push(d+t+(e(u,v,u[v],f+1)||a.stringify(null)))}return"["+m.join(",")+d+"]"}if(c.indexOf(u)!==-1){if(i)return a.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(u);for(var y=o(u).sort(l&&l(u)),m=[],v=0;v<y.length;v++){var h=y[v],g=e(u,h,u[h],f+1);if(g){m.push(d+t+(a.stringify(h)+p+g))}}return c.splice(c.indexOf(u),1),"{"+m.join(",")+d+"}"}}({"":e},"",e,0)};var s=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},o=Object.keys||function(e){var r=Object.prototype.hasOwnProperty||function(){return!0},t=[];for(var a in e)r.call(e,a)&&t.push(a);return t}},{jsonify:49}],49:[function(e,r,t){t.parse=e("./lib/parse"),t.stringify=e("./lib/stringify")},{"./lib/parse":50,"./lib/stringify":51}],50:[function(e,r,t){var a,s,o,i,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},l=function(e){throw{name:"SyntaxError",message:e,at:a,text:o}},c=function(e){return e&&e!==s&&l("Expected '"+e+"' instead of '"+s+"'"),s=o.charAt(a),a+=1,s},h=function(){var e,r="";for("-"===s&&(r="-",c("-"));s>="0"&&s<="9";)r+=s,c();if("."===s)for(r+=".";c()&&s>="0"&&s<="9";)r+=s;if("e"===s||"E"===s)for(r+=s,c(),"-"!==s&&"+"!==s||(r+=s,c());s>="0"&&s<="9";)r+=s,c();if(e=+r,isFinite(e))return e;l("Bad number")},u=function(){var e,r,t,a="";if('"'===s)for(;c();){if('"'===s)return c(),a;if("\\"===s)if(c(),"u"===s){for(t=0,r=0;r<4&&(e=parseInt(c(),16),isFinite(e));r+=1)t=16*t+e;a+=String.fromCharCode(t)}else{if("string"!=typeof n[s])break;a+=n[s]}else a+=s}l("Bad string")},f=function(){for(;s&&s<=" ";)c()},d=function(){switch(s){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}l("Unexpected '"+s+"'")},p=function(){var e=[];if("["===s){if(c("["),f(),"]"===s)return c("]"),e;for(;s;){if(e.push(i()),f(),"]"===s)return c("]"),e;c(","),f()}}l("Bad array")},m=function(){var e,r={};if("{"===s){if(c("{"),f(),"}"===s)return c("}"),r;for(;s;){if(e=u(),f(),c(":"),Object.hasOwnProperty.call(r,e)&&l('Duplicate key "'+e+'"'),r[e]=i(),f(),"}"===s)return c("}"),r;c(","),f()}}l("Bad object")};i=function(){switch(f(),s){case"{":return m();case"[":return p();case'"':return u();case"-":return h();default:return s>="0"&&s<="9"?h():d()}},r.exports=function(e,r){var t;return o=e,a=0,s=" ",t=i(),f(),s&&l("Syntax error"),"function"==typeof r?function e(t,a){var s,o,i=t[a];if(i&&"object"==typeof i)for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o=e(i,s),void 0!==o?i[s]=o:delete i[s]);return r.call(t,a,i)}({"":t},""):t}},{}],51:[function(e,r,t){function a(e){return l.lastIndex=0,l.test(e)?'"'+e.replace(l,function(e){var r=c[e];return"string"==typeof r?r:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function s(e,r){var t,l,c,h,u,f=o,d=r[e];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(e)),"function"==typeof n&&(d=n.call(r,e,d)),typeof d){case"string":return a(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(o+=i,u=[],"[object Array]"===Object.prototype.toString.apply(d)){for(h=d.length,t=0;t<h;t+=1)u[t]=s(t,d)||"null";return c=0===u.length?"[]":o?"[\n"+o+u.join(",\n"+o)+"\n"+f+"]":"["+u.join(",")+"]",o=f,c}if(n&&"object"==typeof n)for(h=n.length,t=0;t<h;t+=1)l=n[t],"string"==typeof l&&(c=s(l,d),c&&u.push(a(l)+(o?": ":":")+c));else for(l in d)Object.prototype.hasOwnProperty.call(d,l)&&(c=s(l,d),c&&u.push(a(l)+(o?": ":":")+c));return c=0===u.length?"{}":o?"{\n"+o+u.join(",\n"+o)+"\n"+f+"}":"{"+u.join(",")+"}",o=f,c}}var o,i,n,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};r.exports=function(e,r,t){var a;if(o="",i="","number"==typeof t)for(a=0;a<t;a+=1)i+=" ";else"string"==typeof t&&(i=t);if(n=r,r&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw new Error("JSON.stringify");return s("",{"":e})}},{}],ajv:[function(e,r,t){"use strict";function a(e){return g.test(e)}function s(r){function t(e,r){var t;if("string"==typeof e){if(t=S(e),!t)throw new Error('no schema with key or ref "'+e+'"')}else{var a=R(e);t=a.validate||I(a)}var s=t(r);return t.$async===!0?"*"==V._opts.async?m(s):s:(V.errors=t.errors,s)}function v(e,r){var t=R(e,void 0,r);return t.validate||I(t)}function E(e,r,t,a){if(Array.isArray(e))for(var s=0;s<e.length;s++)E(e[s],void 0,t,a);else r=i.normalizeId(r||e.id),Q(r),V._schemas[r]=R(e,t,a,!0)}function b(e,r,t){E(e,r,t,!0)}function w(e,r){var s=e.$schema||V._opts.defaultMeta||j(),o=V._formats.uri;V._formats.uri="function"==typeof o?a:g;var i;try{i=t(s,e)}finally{V._formats.uri=o}if(!i&&r){var n="schema is invalid: "+A();if("log"!=V._opts.validateSchema)throw new Error(n);console.error(n)}return i}function j(){var e=V._opts.meta;return V._opts.defaultMeta="object"==typeof e?e.id||e:V._opts.v5?f.META_SCHEMA_ID:y}function S(e){var r=x(e);switch(typeof r){case"object":return r.validate||I(r);case"string":return S(r);case"undefined":return $(e)}}function $(e){var r=i.schema.call(V,{schema:{}},e);if(r){var t=r.schema,a=r.root,s=r.baseId,n=o.call(V,t,a,void 0,s);return V._fragments[e]=new l({ref:e,fragment:!0,schema:t,root:a,baseId:s,validate:n}),n}}function x(e){return e=i.normalizeId(e),V._schemas[e]||V._refs[e]||V._fragments[e]}function _(e){if(e instanceof RegExp)return O(V._schemas,e),void O(V._refs,e);switch(typeof e){case"undefined":return O(V._schemas),O(V._refs),void V._cache.clear();case"string":var r=x(e);return r&&V._cache.del(r.jsonStr),delete V._schemas[e],void delete V._refs[e];case"object":V._cache.del(c(e));var t=e.id;t&&(t=i.normalizeId(t),delete V._schemas[t],delete V._refs[t])}}function O(e,r){for(var t in e){var a=e[t];a.meta||r&&!r.test(t)||(V._cache.del(a.jsonStr),delete e[t])}}function R(e,r,t,a){if("object"!=typeof e)throw new Error("schema should be object");var s=c(e),o=V._cache.get(s);if(o)return o;a=a||V._opts.addUsedSchema!==!1;var n=i.normalizeId(e.id);n&&a&&Q(n);var h,u=V._opts.validateSchema!==!1&&!r;u&&!(h=e.id&&e.id==e.$schema)&&w(e,!0);var f=i.ids.call(V,e),d=new l({id:n,schema:e,localRefs:f,jsonStr:s,meta:t});return"#"!=n[0]&&a&&(V._refs[n]=d),V._cache.put(s,d),u&&h&&w(e,!0),d}function I(e,r){function t(){var r=e.validate,a=r.apply(null,arguments);return t.errors=r.errors,a}if(e.compiling)return e.validate=t,t.schema=e.schema,t.errors=null,t.root=r?r:t,e.schema.$async===!0&&(t.$async=!0),t;e.compiling=!0;var a;e.meta&&(a=V._opts,V._opts=V._metaOpts);var s;try{s=o.call(V,e.schema,r,e.localRefs)}finally{e.compiling=!1,e.meta&&(V._opts=a)}return e.validate=s,e.refs=s.refs,e.refVal=s.refVal,e.root=s.root,s}function A(e,r){if(e=e||V.errors,!e)return"No errors";r=r||{};for(var t=void 0===r.separator?", ":r.separator,a=void 0===r.dataVar?"data":r.dataVar,s="",o=0;o<e.length;o++){var i=e[o];i&&(s+=a+i.dataPath+" "+i.message+t)}return s.slice(0,-t.length)}function k(e,r){"string"==typeof r&&(r=new RegExp(r)),V._formats[e]=r}function q(){if(V._opts.meta!==!1){b(e("./refs/json-schema-draft-04.json"),y,!0),V._refs["http://json-schema.org/schema"]=y}}function D(){var e=V._opts.schemas;if(e)if(Array.isArray(e))E(e);else for(var r in e)E(e[r],r)}function L(){for(var e in V._opts.formats){k(e,V._opts.formats[e])}}function Q(e){if(V._schemas[e]||V._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function C(){for(var e=d.copy(V._opts),r=0;r<P.length;r++)delete e[P[r]];return e}if(!(this instanceof s))return new s(r);var V=this;r=this._opts=d.copy(r)||{},this._schemas={},this._refs={},this._fragments={},this._formats=h(r.format),this._cache=r.cache||new n,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this.validate=t,this.compile=v,this.addSchema=E,this.addMetaSchema=b,this.validateSchema=w,this.getSchema=S,this.removeSchema=_,this.addFormat=k,this.errorsText=A,this._addSchema=R,this._compile=I,r.loopRequired=r.loopRequired||1/0,(r.async||r.transpile)&&p.setup(r),r.beautify===!0&&(r.beautify={indent_size:2}),"property"==r.errorDataPath&&(r._errorDataPathProperty=!0),this._metaOpts=C(),r.formats&&L(),q(),r.v5&&f.enable(this),"object"==typeof r.meta&&b(r.meta),D()}var o=e("./compile"),i=e("./compile/resolve"),n=e("./cache"),l=e("./compile/schema_obj"),c=e("json-stable-stringify"),h=e("./compile/formats"),u=e("./compile/rules"),f=e("./v5"),d=e("./compile/util"),p=e("./async"),m=e("co");r.exports=s,s.prototype.compileAsync=p.compile;var v=e("./keyword");s.prototype.addKeyword=v.add,s.prototype.getKeyword=v.get,s.prototype.removeKeyword=v.remove,s.ValidationError=e("./compile/validation_error");var y="http://json-schema.org/draft-04/schema",g=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,P=["removeAdditional","useDefaults","coerceTypes"]},{"./async":1,"./cache":2,"./compile":6,"./compile/formats":5,"./compile/resolve":7,"./compile/rules":8,"./compile/schema_obj":9,"./compile/util":11,"./compile/validation_error":12,"./keyword":37,"./refs/json-schema-draft-04.json":38,"./v5":40,co:47,"json-stable-stringify":48}]},{},[])("ajv")});